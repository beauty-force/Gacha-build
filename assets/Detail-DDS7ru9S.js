import{d,r as o,c as h,o as w,a as s,w as a,b as t,t as r,e as p,F as k}from"./app-0wH1KzxS.js";import{A as T}from"./UserLayout-EBlolaXa.js";import{b as E,S as C,h as D,V as j,G as P,Y as L,F,u as O}from"./useConfirm-DiRK4iAb.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as V}from"./ExclamationTriangleIcon-BB_AWgy0.js";import"./index-DZjxj9Tr.js";const{confirm:A,alert:H}=O(),I={components:{Head:d.Head,AppLayout:T,Footer:F,Link:d.Link,Dialog:L,DialogPanel:P,DialogTitle:j,TransitionChild:D,TransitionRoot:C,ExclamationTriangleIcon:V,XMarkIcon:E},props:{errors:Object,products:Object,category_share:Object,favorite:Number,auth:Object,productStatusTxt:Object,profile:Object},data(){return{is_busy:!1,open:!1}},methods:{format_number(n){return String(n).replace(/(.)(?=(\d{3})+$)/g,"$1,")},exchange(){this.profile.city&&this.profile.street?this.auth.user.dp<this.products.data[0].dp?H("EP不足、交換に必要なEPが不足しています。"):A("交換しますか?  "+this.products.data[0].dp+"EPを消費してこの景品と交換します。").then(n=>{n&&this.form.post(route("user.dp.detail.post"),{onFinish:()=>{}})}):this.open=!0}},setup(n){return{form:d.useForm({id:n.products.data[0].id,value:0})}},mounted(){}},N={class:"w-full flex flex-wrap mx-auto justify-evenly gap-8 p-6"},B={class:"md:w-1/3 w-full"},R=["src"],z={class:"flex-1"},G={class:"font-bold mb-3 text-xl"},Y={class:"mb-4 text-lg font-bold"},M={class:"text-neutral-600"},X={class:"mb-8 rounded-md"},q={class:"w-full mb-6"},J={class:"w-full text-sm"},K={class:"p-1 w-3/5"},Q={class:"p-1 w-3/5"},U={class:"fixed inset-0 z-20 overflow-y-auto"},W={class:"flex min-h-full items-center justify-center p-4 text-center sm:items-center sm:p-0"},Z={class:"text-center text-sm pt-3 text-neutral-600"},$={class:"mb-2 text-lg px-2"},tt={class:"pt-3 px-2"};function et(n,e,l,st,i,u){const f=o("Head"),c=o("TransitionChild"),b=o("ExclamationTriangleIcon"),x=o("Link"),_=o("DialogPanel"),g=o("Dialog"),v=o("TransitionRoot"),y=o("AppLayout");return w(),h(k,null,[s(f,{title:"EP交換所 – 詳細"}),s(y,null,{default:a(()=>[t("div",N,[t("div",B,[t("img",{src:l.products.data[0].image,class:"w-full max-w-64 block mx-auto"},null,8,R)]),t("div",z,[t("h1",G,r(l.products.data[0].name),1),t("div",Y,[t("span",M,r(u.format_number(l.products.data[0].dp)),1),e[3]||(e[3]=t("span",{class:"text-neutral-600"}," EP ",-1))]),t("button",{onClick:e[0]||(e[0]=m=>u.exchange()),class:"w-full mb-4 block text-center py-2 text-white rounded-md bg-theme bg-theme-hover font-semibold transition ease-in-out duration-150"}," 交換する "),t("div",X,[e[6]||(e[6]=t("p",{class:"mb-1 text-lg font-bold"},"商品の詳細",-1)),e[7]||(e[7]=t("hr",{class:"mb-2"},null,-1)),t("div",q,[t("table",J,[t("tr",null,[e[4]||(e[4]=t("td",{class:"p-1 w-2/5 font-bold"},"レアリティ",-1)),t("td",K,r(l.products.data[0].rare),1)]),t("tr",null,[e[5]||(e[5]=t("td",{class:"p-1 w-2/5 font-bold"},"商品の状態",-1)),t("td",Q,r(l.products.data[0].product_type),1)])])])]),e[8]||(e[8]=t("div",{class:"mb-8 rounded-md py-4"},[t("p",{class:"mb-1 text-lg font-bold"},"注意事項"),t("hr",{class:"mb-2"}),t("ul",{class:"list-disc list-inside text-sm text-neutral-700 space-y-2"},[t("li",null,"初期傷などのダメージがある場合がございます。"),t("li",null,"画像はイメージあり、同じものが届く保証ではございません。"),t("li",null,"交換後は返金やキャンセルはできません。"),t("li",null,"予めご了承の上、交換をお願いいたします。")])],-1))])]),s(v,{as:"template",show:i.open},{default:a(()=>[s(g,{as:"div",class:"relative z-20",onClose:e[2]||(e[2]=m=>i.open=!1)},{default:a(()=>[s(c,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:a(()=>[...e[9]||(e[9]=[t("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)])]),_:1}),t("div",U,[t("div",W,[s(c,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:a(()=>[s(_,{class:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},{default:a(()=>[t("div",Z,[t("div",$,[s(b,{class:"w-5 h-5 inline-block"}),e[10]||(e[10]=p(" 入力エラー ",-1))]),e[12]||(e[12]=t("div",{class:"py-3 text-sm px-2"}," 配送先情報を入力してください！ ",-1)),e[13]||(e[13]=t("hr",null,null,-1)),t("div",tt,[t("button",{onClick:e[1]||(e[1]=m=>i.open=!1),class:"mb-4 mx-1 text-center px-4 py-1.5 bg-neutral-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-neutral-700 active:bg-neutral-700 focus:outline-none focus:border-neutral-700 focus:shadow-outline-neutral transition ease-in-out duration-150"}," キャンセル "),s(x,{href:n.route("profile.edit")+"#address",class:"mb-4 mx-1 text-center px-4 py-1.5 bg-neutral-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-neutral-700 active:bg-neutral-700 focus:outline-none focus:border-neutral-700 focus:shadow-outline-neutral transition ease-in-out duration-150"},{default:a(()=>[...e[11]||(e[11]=[p(" 配送先情報入力 ",-1)])]),_:1},8,["href"])])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])]),_:1})],64)}const dt=S(I,[["render",et]]);export{dt as default};
