import{d as b,r as _,c as d,o as i,a as f,w as v,b as t,i as u,t as m,y as g,F as p,e as r,f as y}from"./app-BGDpwT0F.js";import{U as T}from"./UserLayout-0Iajp64s.js";import"./index-Vpg6nZEI.js";import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as P}from"./PlayIcon-COqUcFI3.js";import"./useConfirm-CBbG3B4s.js";import"./index-Dsp78vWg.js";const L={components:{Head:b.Head,AppLayout:T,PlayIcon:P},props:{ranks:Object,total:Number,current:Number,limit:Number,succeed:Boolean,is_dark:Boolean},data(){return{user:null,current_rank:null,next_rank:null,current_pos:0,maintenance_pos:0,current_value:0}},methods:{pt_rate_string(n){return n.limit<0?'<span class="text-[1.2em]">???</span>':n.pt_rate<=0?'<span class="text-[1.2em]">—</span>':`${n.pt_rate}%付与<br/>(購入時PTの)`},format_number(n){return String(n).replace(/(.)(?=(\d{3})+$)/g,"$1,")},bonus_pt_string(n){return n.limit<0?'<span class="text-[1.2em]">???</span>':n.bonus<=0?'<span class="text-[1.2em]">—</span>':`${this.format_number(n.bonus)}PT`},animateProgress(){const n=this.current/this.total*100;this.current_pos=0;const e=1e3,l=Date.now(),c=()=>{const s=Date.now()-l,o=Math.min(s/e,1),x=1-Math.pow(1-o,3);this.current_pos=n*x,this.current_value=Math.floor(this.current*x),o<1&&requestAnimationFrame(c)};requestAnimationFrame(c)}},mounted(){this.user=b.usePage().props.value.auth.user,this.current_rank=this.ranks.filter(n=>n.rank==this.user.current_rank)[0],this.next_rank=this.ranks.filter(n=>n.rank>this.user.current_rank)[0],this.maintenance_pos=this.limit/this.total*100,setTimeout(()=>{this.animateProgress()},50)}},H={class:"px-2 md:px-10"},M={key:0,class:"py-4 md:py-6 px-3 md:px-5 mx-2 md:mx-4 bg-neutral-200 rounded-b-xl shadow-inner text-xs md:text-sm"},W={class:"mx-4 text-center"},S={class:"font-bold text-lg md:text-xl"},j=["src"],C={class:"mt-4 px-2 text-center"},N={class:"flex justify-between items-center mb-2"},F={class:"text-xs md:text-sm font-bold"},A={key:0,class:"text-xs md:text-sm font-bold text-rose-500"},B={key:1,class:"text-xs md:text-sm font-bold text-rose-500"},E={class:"flex border-t border-b mt-2 relative h-5 md:h-6 px-2"},V={class:"flex-1 relative h-full bg-gray-50 rounded-r-xl overflow-hidden border-t border-b border-r border-neutral-800"},z={class:"absolute left-0 right-0 top-0 bottom-0 z-10"},D={key:0,class:"w-full flex justify-end my-3 px-2"},q={class:"w-fit flex px-3 py-0.5 items-center bg-neutral-400/10 border border-neutral-400 rounded-full"},O={key:0,class:"text-xs md:text-sm text-green-600"},U={key:1,class:"text-xs md:text-sm"},I={class:"rounded-lg bg-neutral-50 drop-shadow-[0px_0px_10px_rgba(0,0,0,0.1)] mt-5 mx-1 py-2 px-4 font-bold text-xs md:text-sm leading-5 md:leading-7"},G={class:"rounded-lg bg-neutral-50 drop-shadow-[0px_0px_10px_rgba(0,0,0,0.1)] mt-5 mx-1 py-2 px-4 font-bold text-xs md:text-sm leading-5 md:leading-7"},J={class:"px-6 mt-8 font-bold text-xs md:text-sm"},K={class:"pb-1 leading-5 md:leading-7"},Q={class:"text-green-400 font-extrabold text-sm md:text-base"},R={class:"flex flex-wrap border-neutral-200 items-center gap-[0.8em]"},X={class:"flex-1 flex bg-neutral-200 rounded-lg justify-center relative"},Y={class:"w-full flex items-center"},Z={class:"text-center text-[0.8em] font-bold text-white w-[30%] h-full flex items-center justify-center"},$=["src"],tt={class:"text-center flex gap-[0.4em] absolute items-end h-full"},et={class:"relative flex justify-center text-[0.9em] drop-shadow-xl"},st={class:"leading-[1.2em]",style:{WebkitTextStrokeColor:"black",WebkitTextStrokeWidth:"2px"}},nt={class:"absolute leading-[1.2em]"},rt={class:"text-center text-[1em] text-black font-black w-[30%] h-full flex flex-col items-center justify-center relative"},lt=["innerHTML"],ot=["innerHTML"],at={class:"w-[40%] flex divide-x-[0.3em] divide-white h-full relative"},dt={class:"text-center text-[1em] text-black font-black w-[40%] h-full flex items-center justify-center"},it=["innerHTML"],mt=["innerHTML"],xt={class:"text-center text-[1em] text-black font-black w-[60%] h-full flex items-center justify-center relative"},ut=["innerHTML"],ct=["innerHTML"];function pt(n,e,l,c,s,o){const x=_("Head"),h=_("AppLayout");return i(),d(p,null,[f(x,{title:"マイページ"}),f(h,null,{default:v(()=>[t("div",H,[e[7]||(e[7]=t("p",{class:"py-3 px-6 -mx-2 md:-mx-10 font-bold align-middle text-base md:text-xl border"},"マイページ",-1)),s.current_rank?(i(),d("div",M,[t("div",W,[t("span",S,m(s.current_rank.title),1),t("img",{src:s.current_rank.badge,class:"p-1 w-full max-w-48 mx-auto"},null,8,j)]),t("div",C,[t("div",N,[t("span",F,"今月の消費PT: "+m(o.format_number(s.current_value))+" pt",1),s.next_rank?(i(),d("span",A," 次ランクまで: "+m(o.format_number(l.total-s.current_value))+" pt ",1)):(i(),d("span",B," 最高ランク到達おめでとう!! "))])]),t("div",E,[e[0]||(e[0]=t("span",{class:"h-full rounded-l-md border border-neutral-800 px-4 bg-neutral-400/20 font-bold z-10 flex items-center"},"消費 PT",-1)),t("div",V,[t("div",z,[t("div",{class:"h-full bg-gradient-to-b from-[#01b4ef] via-[#00bffa] to-[#0488c3] transition-all duration-1000 ease-out",style:g({width:`${s.current_pos}%`})},null,4)]),s.next_rank&&s.current_value<l.limit?(i(),d("div",{key:0,class:"absolute top-0 bottom-0 bg-rose-500/30 border-r border-rose-500 left-0",style:g({right:`${100-s.maintenance_pos}%`})},null,4)):u("",!0)])]),s.current_rank.rank>1?(i(),d("div",D,[t("div",q,[l.current>=l.limit?(i(),d("span",O,"ランク維持達成")):(i(),d("span",U," ランク維持まで : "+m(o.format_number(l.limit-l.current))+" pt ",1))])])):u("",!0),e[2]||(e[2]=t("div",{class:"text-center mt-6"},[t("span",{class:"text-sm md:text-base text-black font-extrabold border bg-neutral-400/20 border-neutral-400 px-3 py-1"},"■ 現在のランク特典一覧 ■")],-1)),t("div",I,[t("p",null,"・ランクアップボーナス    "+m(s.current_rank.bonus>0?o.format_number(s.current_rank.bonus):"—")+" pt",1),t("p",null,m(s.current_rank.pt_rate>0?`・購入金額ごとに    ${s.current_rank.pt_rate} %ボーナスPT付与`:"・購入金額ごとのPT付与    通常"),1),t("p",null,"・EP付与率    "+m(s.current_rank.dp_rate>0?`${s.current_rank.dp_rate} %`:"通常"),1)]),l.is_dark?(i(),d(p,{key:1},[e[1]||(e[1]=t("div",{class:"text-center mt-6"},[t("span",{class:"text-sm md:text-base text-black font-extrabold border bg-neutral-400/20 border-neutral-400 px-3 py-1"},"■ 現在のサブスク特典一覧 ■")],-1)),t("div",G,[t("p",null,"・ランク降格保護 ("+m(s.user.current_plan.name)+")",1)])],64)):u("",!0)])):u("",!0),e[8]||(e[8]=t("p",{class:"mt-6 px-6 font-bold align-middle text-sm md:text-lg"},[t("span",{class:"text-[0.6em]"},"■"),r(" 会員ランクについて")],-1)),e[9]||(e[9]=t("div",{class:"px-6 mt-1 mb-4 font-bold text-xs md:text-sm"},[t("p",{class:"pb-1 leading-5 md:leading-7"}," ボーナスPTやEP付与率上昇、 ランク限定オリパなど、さまざまな特典が受け られます。 ")],-1)),e[10]||(e[10]=t("hr",{class:"mt-2 md:mt-4 mb-5 md:mb-6 mx-4 md:mx-6 border-neutral-300 border"},null,-1)),e[11]||(e[11]=t("p",{class:"px-6 font-bold align-middle text-sm md:text-lg"},[t("span",{class:"text-[0.6em]"},"■"),r(" ランクアップ条件")],-1)),e[12]||(e[12]=t("div",{class:"px-6 mt-1 font-bold text-xs md:text-sm"},[t("p",{class:"pb-1 leading-5 md:leading-7"},[r(" ランクは累積のPT消費数によって変動します。"),t("br"),r(" 各ランク条件を満たすと、 即時に次のランクへと移行します。"),t("br"),t("span",{class:"text-[#FF0000]"}," ※PTの累積は毎月1日0:00でリセットされます。 ")])],-1)),t("div",J,[t("p",K,[t("span",Q,m(l.ranks[l.ranks.length-2].title),1),e[3]||(e[3]=r("以上のランクに関しては、前月までに達成したランク条件であるPT消費数の一定数を1ヶ月以内に達成していれば、そのランクが維持されます。 ",-1))]),e[4]||(e[4]=t("p",{class:"pb-1 leading-5 md:leading-7"}," 1ヶ月間で一定数以下の場合は現在のランクから1つランクダウンします。 ",-1))]),e[13]||(e[13]=t("hr",{class:"mt-5 md:mt-8 mb-8 md:mb-10 mx-4 md:mx-6 border-neutral-300 border"},null,-1)),e[14]||(e[14]=t("p",{class:"mb-6 px-4 font-bold align-middle text-sm md:text-lg"},[t("span",{class:"text-[0.6em]"},"■"),r(" ランク特典")],-1)),e[15]||(e[15]=t("div",{class:"w-full flex items-center mb-[-0.4em] text-[0.7em] sm:text-[1em]"},[t("div",{class:"w-[30%] text-center font-bold text-[1.1em]"},"ランク"),t("div",{class:"w-[30%] text-center font-bold text-[0.9em]"},"購入時PT付与特典"),t("div",{class:"w-[16%] text-center font-bold text-[0.8em]"},"EP付与率"),t("div",{class:"w-[24%] text-center font-bold text-[0.8em] leading-[1.2em] sm:leading-[1.5em]"},[r(" ランクアップ"),t("br"),r("ボーナスPT")])],-1)),(i(!0),d(p,null,y(l.ranks,(a,k)=>(i(),d("div",{class:"my-[0.8em] md:my-[1.1em] text-[0.7em] sm:text-[1em]",key:k},[t("div",R,[t("div",X,[t("div",Y,[t("div",Z,[t("img",{src:a.badge,class:"h-[15vw] max-h-[90px] -my-0.5"},null,8,$),t("div",tt,[t("div",et,[t("span",st,"( "+m(a.title)+" )",1),t("span",nt,"( "+m(a.title)+" )",1)])])]),e[5]||(e[5]=t("div",{class:"h-full w-[0.3em] bg-white"},null,-1)),t("div",rt,[t("span",{class:"leading-[1.4em]",innerHTML:o.pt_rate_string(a),style:{WebkitTextStrokeColor:"white",WebkitTextStrokeWidth:"2px"}},null,8,lt),t("span",{class:"absolute leading-[1.4em]",innerHTML:o.pt_rate_string(a)},null,8,ot)]),e[6]||(e[6]=t("div",{class:"h-full w-[0.3em] bg-white"},null,-1)),t("div",at,[t("div",dt,[t("span",{innerHTML:a.dp_rate>0?a.dp_rate+"%":"<span class='text-[1.2em]'>???</span>",style:{WebkitTextStrokeColor:"white",WebkitTextStrokeWidth:"2px"}},null,8,it),t("span",{class:"absolute",innerHTML:a.dp_rate>0?a.dp_rate+"%":"<span class='text-[1.2em]'>???</span>"},null,8,mt)]),t("div",xt,[t("span",{class:"leading-[1.4em]",innerHTML:o.bonus_pt_string(a),style:{WebkitTextStrokeColor:"white",WebkitTextStrokeWidth:"2px"}},null,8,ut),t("span",{class:"absolute leading-[1.4em]",innerHTML:o.bonus_pt_string(a)},null,8,ct)])])])])])]))),128)),e[16]||(e[16]=t("div",{class:"py-4 px-2 md:px-8"},[t("p",{class:"font-bold text-sm md:text-lg"},"【購入時PT特典について】"),t("p",{class:"text-xs md:text-sm px-2 py-2"},[r(" 購入する金額ごとのボーナスPTです。"),t("br"),r(" 購入時点のランクに応じて付与されます。 ")]),t("p",{class:"font-bold text-sm md:text-lg pt-2"}," 【ランクアップボーナスPTについて】 "),t("p",{class:"text-xs md:text-sm px-2 py-2"},[r(" ランク昇格時にボーナスPTが付与されます。"),t("br"),r(" ※昇格時ボーナスは自動で加算されます。 ")]),t("p",{class:"font-bold text-sm md:text-lg pt-2"}," 【ランク限定オリパ解放について】 "),t("p",{class:"text-xs md:text-sm px-2 py-2"}," 各ランク毎に限定オリパが解放されます。 "),t("hr",{class:"my-4 mx-2 border-neutral-300 border"}),t("p",{class:"px-2 font-bold text-sm md:text-lg"},[t("span",{class:"text-[0.6em]"},"■"),r(" 注意事項")]),t("p",{class:"text-xs md:text-sm px-2 py-2"},[r(" ログインオリパ、一部限定ガチャなどはランクポイントおよびガチャランキングの増減対象にはなりません。"),t("br"),r(" 会員ランクの昇格条件、 維持条件、 昇格条件、 特典内容は予告なく変更となる場合がございます。 あらかじめご了承ください。"),t("br"),r(" ランク昇格時にゲージは初期の位置に戻ります。 ")])],-1))])]),_:1})],64)}const yt=w(L,[["render",pt]]);export{yt as default};
