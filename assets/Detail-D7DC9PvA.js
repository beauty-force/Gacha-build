import{d as a,r as p,c as n,o as r,a as m,w as b,b as t,i as f,t as s,e as g,F as c,j as w,v as h,k as _,n as C}from"./app-eVUcwuVE.js";import{A as S}from"./Admin-CinMh7--.js";import{u as L}from"./useConfirm-DuLyikpD.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */const{confirm:k}=L(),F={components:{Head:a.Head,AppLayout:S,Link:a.Link},props:{errors:Object,user:Object,profile:Object,rank:String,auth:Object,subscription:Object},methods:{submit(){this.form.post(route("admin.users.update"),{preserveScroll:!0,onFinish:()=>{}})},add_point(l){a.useForm({id:this.user.id,point:l}).post(route("admin.users.add_point"),{preserveScroll:!0,onFinish:()=>{this.form.point=this.user.point}})},updateStatus(l,e){e==0?k("アカウントをブロックしますか？","獲得した商品と発送依頼中の商品は全て回収されます。","warning").then(o=>{o&&a.useForm({id:l,status:e}).post(route("admin.users.update"))}):k("アカウントを承認しますか？").then(o=>{o&&a.useForm({id:l,status:e}).post(route("admin.users.update"))})}},setup(l){return{form:a.useForm({id:l.user.id,point:l.user.point,dp:l.user.dp,type:l.user.type})}}},V={class:"md:px-4 px-2"},M={class:"border-b w-full p-2 my-2 font-semibold flex justify-between items-center"},P={class:"flex gap-2"},B={class:"w-full text-sm"},H={class:"p-1 w-3/5"},O={class:"p-1 w-3/5"},T={key:0,class:"p-1 w-3/5"},A={class:"flex gap-2 mt-2"},D={key:1,class:"p-1 w-3/5"},N={key:0,class:"p-1 w-3/5"},E={key:1,class:"p-1 w-3/5"},U={class:"p-1 w-3/5"},J={class:"p-1 w-3/5"},z={class:"p-1 w-3/5"},I={class:"p-1 w-3/5"},Y={class:"p-1 w-3/5"},q={class:"p-1 w-3/5"},G={class:"p-1 w-3/5"},K={key:0},Q={class:"p-1 w-3/5"},R={class:"p-1 w-3/5"},W={key:2},X={class:"p-1 w-3/5"},Z={key:3},$={class:"p-1 w-3/5"},tt={key:0,class:"my-6 text-center border border-yellow-500 rounded-full p-0.5 w-fit mx-auto text-sm"},et=["disabled"];function ot(l,e,o,i,st,u){const v=p("Head"),y=p("Link"),x=p("AppLayout");return r(),n(c,null,[m(v,{title:"ユーザー管理"}),m(x,null,{default:b(()=>[t("div",V,[t("div",M,[t("h3",null,"ユーザー詳細 (ID-"+s(o.user.id)+")",1),t("div",P,[m(y,{href:l.route("admin.users.history",{id:o.user.id}),class:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition-all duration-200 text-sm"},{default:b(()=>[...e[8]||(e[8]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1),g(" 履歴を表示 ",-1)])]),_:1},8,["href"]),m(y,{href:l.route("admin.users"),class:"inline-flex items-center gap-2 px-3 py-2 text-sm font-normal text-white bg-red-500 hover:bg-red-400 rounded-md transition-colors"},{default:b(()=>[...e[9]||(e[9]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),g(" 戻る ",-1)])]),_:1},8,["href"])])]),t("table",B,[o.user?(r(),n(c,{key:0},[t("tr",null,[e[10]||(e[10]=t("td",{class:"p-1 w-2/5 font-bold"},"メールアドレス",-1)),t("td",H,s(o.user.email),1)]),t("tr",null,[e[11]||(e[11]=t("td",{class:"p-1 w-2/5 font-bold"},"電話番号",-1)),t("td",O,s(o.profile?o.profile.phone:o.user.phone),1)]),t("tr",null,[e[12]||(e[12]=t("td",{class:"p-1 w-2/5 font-bold"},"ポイント",-1)),o.auth.user.type==1?(r(),n("td",T,[w(t("input",{class:"bg-white/90 w-full px-3 py-2 border border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md placeholder-neutral-400",type:"number","onUpdate:modelValue":e[0]||(e[0]=d=>i.form.point=d)},null,512),[[h,i.form.point]]),t("div",A,[t("button",{type:"button",onClick:e[1]||(e[1]=d=>u.add_point(500)),class:"px-4 py-2 bg-gradient-to-r from-green-400 to-blue-500 text-white rounded-md shadow-md hover:from-green-500 hover:to-blue-600 transition duration-300 ease-in-out transform hover:scale-105"}," +500 PT "),t("button",{type:"button",onClick:e[2]||(e[2]=d=>u.add_point(1e3)),class:"px-4 py-2 bg-gradient-to-r from-purple-400 to-pink-500 text-white rounded-md shadow-md hover:from-purple-500 hover:to-pink-600 transition duration-300 ease-in-out transform hover:scale-105"}," +1,000 PT ")])])):(r(),n("td",D,s(o.user.point.toLocaleString()),1))]),t("tr",null,[e[13]||(e[13]=t("td",{class:"p-1 w-2/5 font-bold"},"EP",-1)),o.auth.user.type==1?(r(),n("td",N,[w(t("input",{class:"bg-white/90 w-full px-3 py-2 border border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md placeholder-neutral-400",type:"number","onUpdate:modelValue":e[3]||(e[3]=d=>i.form.dp=d)},null,512),[[h,i.form.dp]])])):(r(),n("td",E,s(o.user.dp.toLocaleString()),1))]),t("tr",null,[e[14]||(e[14]=t("td",{class:"p-1 w-2/5 font-bold"},"消費PT",-1)),t("td",U,s(o.user.consume_point.toLocaleString()),1)])],64)):f("",!0),o.profile?(r(),n(c,{key:1},[t("tr",null,[e[15]||(e[15]=t("td",{class:"p-1 w-2/5 font-bold"},"名前",-1)),t("td",J,s(o.profile.first_name)+" "+s(o.profile.last_name),1)]),t("tr",null,[e[16]||(e[16]=t("td",{class:"p-1 w-2/5 font-bold"},"名前(カナ)",-1)),t("td",z,s(o.profile.first_name_gana)+" "+s(o.profile.last_name_gana),1)]),t("tr",null,[e[17]||(e[17]=t("td",{class:"p-1 w-2/5 font-bold"},"郵便番号",-1)),t("td",I,s(o.profile.postal_code),1)]),t("tr",null,[e[18]||(e[18]=t("td",{class:"p-1 w-2/5 font-bold"},"都道府県",-1)),t("td",Y,s(o.profile.prefecture),1)]),t("tr",null,[e[19]||(e[19]=t("td",{class:"p-1 w-2/5 font-bold"},"住所",-1)),t("td",q,s(o.profile.city)+s(o.profile.street)+"　"+s(o.profile.building),1)]),t("tr",null,[e[20]||(e[20]=t("td",{class:"p-1 w-2/5 font-bold"},"ランク",-1)),t("td",G,s(o.rank),1)]),o.subscription?(r(),n("tr",K,[e[21]||(e[21]=t("td",{class:"p-1 w-2/5 font-bold"},"サブスクリプション",-1)),t("td",Q,s(o.subscription.plan.name)+" ("+s(o.subscription.plan.amount.toLocaleString("jp-JP",{style:"currency",currency:"JPY"}))+", "+s(o.subscription.plan.point)+" pt)     "+s(o.subscription.starting_date)+" 登録 ",1)])):f("",!0),t("tr",null,[e[22]||(e[22]=t("td",{class:"p-1 w-2/5 font-bold"},"招待コード",-1)),t("td",R,s(o.user.invite_code),1)])],64)):f("",!0),o.auth.user.type==1?(r(),n("tr",W,[e[24]||(e[24]=t("td",{class:"p-1 w-2/5 font-bold"},"アカウント種別",-1)),t("td",X,[w(t("select",{"onUpdate:modelValue":e[4]||(e[4]=d=>i.form.type=d),class:"w-full px-3 py-2 border border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md placeholder-neutral-400"},[...e[23]||(e[23]=[t("option",{value:"0"},"ユーザー",-1),t("option",{value:"2"},"管理スタッフ",-1),t("option",{value:"3"},"発送スタッフ",-1)])],512),[[_,i.form.type]])])])):f("",!0),o.auth.user.type==1&&o.user.type!=1?(r(),n("tr",Z,[e[25]||(e[25]=t("td",{class:"p-1 w-2/5 font-bold"},"アカウント承認",-1)),t("td",$,[o.user.status?(r(),n("button",{key:0,onClick:e[5]||(e[5]=d=>u.updateStatus(o.user.id,0)),class:"px-2 py-1 rounded-md border text-rose-500 hover:bg-rose-100"},"削除")):(r(),n("button",{key:1,onClick:e[6]||(e[6]=d=>u.updateStatus(o.user.id,1)),class:"px-2 py-1 rounded-md border text-sky-500 hover:bg-sky-100"},"承認"))])])):f("",!0)]),o.auth.user.type==1?(r(),n("div",tt,[t("button",{type:"button",onClick:e[7]||(e[7]=(...d)=>u.submit&&u.submit(...d)),class:C([{"opacity-25":i.form.processing},"inline-block items-center px-10 py-1 rounded-full font-semibold text-white uppercase bg-theme bg-theme-hover"]),disabled:i.form.processing}," 保存 ",10,et)])):f("",!0)])]),_:1})],64)}const ut=j(F,[["render",ot]]);export{ut as default};
