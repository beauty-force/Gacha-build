import{H as C,L as j,G as f,r as _,o as i,c as a,b as p,w as v,F as h,d as t,f as g,i as N,e as d,t as e,n as b,J as S,K as T,h as m}from"./app.11743934.js";import{A as H}from"./Admin.2096d2d9.js";import{P as I}from"./Pagination.d3a84875.js";import{_ as O}from"./_plugin-vue_export-helper.cdc0426e.js";import{a as V}from"./useConfirm.79cb9933.js";import{r as A}from"./ChevronRightIcon.3d1f2572.js";import{r as B}from"./EllipsisHorizontalIcon.6fdf30ce.js";const D={components:{Head:C,AppLayout:H,Link:j,ChevronLeftIcon:V,ChevronRightIcon:A,EllipsisHorizontalIcon:B,Pagination:I},props:{errors:Object,gacha:Object,category_share:Object,products:Object,search_cond:Object,total:Number,totalPoints:Number,totalProducts:Number,searchProducts:Number,searchPoints:Number},data(){return{main_tab:[{title:"\u767A\u9001\u4F9D\u983C\u4E2D",route_url:route("admin.delivery"),is_active:!1},{title:"\u767A\u9001\u6E08\u307F",route_url:route("admin.delivery.completed"),is_active:!0},{title:"\u53D6\u5F97\u6E08\u307F",route_url:route("admin.delivery.acquired"),is_active:!1}],page_step:0,is_busy:!1,profile:{},product:{},user:{}}},setup(r){let l={},n;for(n=0;n<r.products.data.length;n++)l["id"+r.products.data[n].id]=!1;const c=f(r.search_cond);return{form:f({id:0}),form_search:c}},methods:{showProductDetail(r){this.is_busy=!0;const l={id:r.id};axios.post(route("admin.delivery.product_data"),l).then(n=>{(n.status==201||n.status==200)&&n.data.status&&(this.profile=n.data.profile,this.user=n.data.user,this.product=r,this.page_step=1),this.is_busy=!1}).catch(n=>{this.is_busy=!0,console.log(n)})},backToList(){this.page_step=0},submit(r){this.form.id=r,this.form.post(route("admin.delivery.un_delivery"),{onFinish:()=>{this.page_step=0}})},search(){this.form_search.get(route("admin.delivery.completed"))}}},F={key:0,class:"pt-2 md:px-6 px-4 mb-6"},R={class:"w-full text-neutral-400 mb-3"},z={class:"mb-2 flex justify-between items-center text-sm"},E=t("br",null,null,-1),q=t("br",null,null,-1),G={class:"flex items-center gap-2 w-full flex-wrap mb-2 py-2 justify-between text-sm"},J={class:"flex items-center gap-2 flex-1"},K={class:"mb-6"},M={class:"mb-0 border-neutral-200 border-b py-1"},U=["onClick"],Q={class:"relative"},W=["src"],X={key:0},Y=["src"],Z={class:"cursor-pointer min-h-24 flex items-center justify-between flex-1 text-xs py-1 px-2"},$={class:"text-left"},tt={class:"text-red-500"},et={class:"text-neutral-300"},st={key:1,class:"pt-6 md:px-6 px-4 mb-6"},ot=t("h2",{class:"mb-2 text-lg font-bold"},"\u914D\u9001\u6E08\u307F\u5546\u54C1\u8A73\u7D30",-1),nt=t("hr",{class:"mb-3"},null,-1),lt={class:"mb-6"},rt={class:"flex border-neutral-200 items-center w-full"},it=["src"],ct={class:"cursor-pointer min-h-20 flex items-center justify-between flex-1 text-xs py-1 px-2"},at={class:"text-left"},dt={class:"text-red-500"},ut=t("div",{class:"mb-1 text-base font-semibold"},"\u914D\u9001\u5148\u60C5\u5831",-1),_t=t("hr",{class:"mb-3"},null,-1),pt={class:"w-full mb-6"},ht={class:"w-full text-sm"},mt=t("td",{class:"p-1 w-2/5 font-bold"},"\u30A2\u30C9\u30EC\u30B9",-1),bt={class:"p-1 w-3/5"},ft=t("td",{class:"p-1 w-2/5 font-bold"},"\u540D\u524D",-1),vt={class:"p-1 w-3/5"},gt=t("td",{class:"p-1 w-2/5 font-bold"},"\u540D\u524D(\u30AB\u30CA)",-1),xt={class:"p-1 w-3/5"},wt=t("td",{class:"p-1 w-2/5 font-bold"},"\u90F5\u4FBF\u756A\u53F7",-1),yt={class:"p-1 w-3/5"},kt=t("td",{class:"p-1 w-2/5 font-bold"},"\u90FD\u9053\u5E9C\u770C",-1),Lt={class:"p-1 w-3/5"},Pt=t("td",{class:"p-1 w-2/5 font-bold"},"\u4F4F\u6240",-1),Ct={class:"p-1 w-3/5"},jt=t("td",{class:"p-1 w-2/5 font-bold"},"\u96FB\u8A71\u756A\u53F7",-1),Nt={class:"p-1 w-3/5"},St=t("td",{class:"p-1 w-2/5 font-bold"},"\u96FB\u8A71\u756A\u53F7",-1),Tt={class:"p-1 w-3/5"},Ht={class:"mb-6 w-full text-center"},It=["disabled"],Ot=["disabled"];function Vt(r,l,n,c,s,u){const x=_("Head"),w=_("Link"),y=_("ChevronRightIcon"),k=_("Pagination"),L=_("AppLayout");return i(),a(h,null,[p(x,{title:"\u914D\u9001\u5546\u54C1"}),p(L,null,{default:v(()=>[s.page_step==0?(i(),a("div",F,[t("div",R,[(i(!0),a(h,null,g(s.main_tab,(o,P)=>(i(),N(w,{href:o.route_url,class:b(["inline-block px-4 py-1.5",{"border-b-2 border-red-600 text-red-600":o.is_active}])},{default:v(()=>[d(e(o.title),1)]),_:2},1032,["href","class"]))),256))]),t("div",z,[t("p",null,[d(" \u7DCF\u5546\u54C1\u6570: "+e(n.totalProducts.toLocaleString())+" \u4EF6",1),E,d(" \u7DCF\u30DD\u30A4\u30F3\u30C8: "+e(n.totalPoints.toLocaleString())+" PT ",1)]),t("p",null,[d(" \u691C\u7D22\u5546\u54C1\u6570: "+e(n.searchProducts.toLocaleString())+" \u4EF6",1),q,d(" \u691C\u7D22\u30DD\u30A4\u30F3\u30C8: "+e(n.searchPoints.toLocaleString())+" PT ",1)])]),t("div",G,[t("div",J,[S(t("input",{"onUpdate:modelValue":l[0]||(l[0]=o=>c.form_search.name=o),type:"text",placeholder:"\u540D\u524D\u3001\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u3001\u96FB\u8A71\u756A\u53F7\u3001\u5546\u54C1\u540D",class:"h-9 flex-1 w-0 border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300"},null,512),[[T,c.form_search.name]])]),t("button",{type:"button",onClick:l[1]||(l[1]=(...o)=>u.search&&u.search(...o)),class:"rounded-md border bg-neutral-600 text-white px-4 py-2"},"\u691C\u7D22")]),t("div",K,[(i(!0),a(h,null,g(n.products.data,(o,P)=>(i(),a("div",M,[t("button",{onClick:At=>u.showProductDetail(o),class:"flex border-neutral-200 items-center w-full"},[t("div",Q,[t("img",{src:o.image,class:"w-20 h-24 inline-block object-contain"},null,8,W),o.black_case?(i(),a("div",X,[t("img",{src:o.black_case,class:"w-6 h-6 inline-block object-contain absolute bottom-0 right-0"},null,8,Y)])):m("",!0)]),t("div",Z,[t("div",$,[t("div",null,e(o.name),1),t("div",null,e(o.gacha_title),1),t("div",null,[t("span",tt,e(o.point.toLocaleString())+"pt",1),d(" ("+e(o.rare)+")",1)]),t("div",null,e(o.updated_at),1),t("div",null,e(o.address),1),t("div",null,"\u8FFD\u8DE1\u756A\u53F7: "+e(o.tracking_number),1)]),t("div",et,[p(y,{class:"w-5"})])])],8,U)]))),256))]),p(k,{search_cond:n.search_cond,route_name:"admin.delivery.completed",total:n.total},null,8,["search_cond","total"])])):m("",!0),s.page_step==1?(i(),a("div",st,[ot,nt,t("div",lt,[t("div",rt,[t("img",{src:s.product.image,class:"w-20 h-20 inline-block object-contain"},null,8,it),t("div",ct,[t("div",at,[t("div",null,e(s.product.name),1),t("div",null,[t("span",dt,e(s.product.point.toLocaleString())+"pt",1),d(" ("+e(s.product.rare)+")",1)]),t("div",null,e(s.product.updated_at),1),t("div",null,e(s.product.address),1),t("div",null,"\u8FFD\u8DE1\u756A\u53F7: "+e(s.product.tracking_number),1)])])])]),ut,_t,t("div",pt,[t("table",ht,[t("tr",null,[mt,t("td",bt,e(s.user.email),1)]),s.profile?(i(),a(h,{key:0},[t("tr",null,[ft,t("td",vt,e(s.profile.first_name)+" "+e(s.profile.last_name),1)]),t("tr",null,[gt,t("td",xt,e(s.profile.first_name_gana)+" "+e(s.profile.last_name_gana),1)]),t("tr",null,[wt,t("td",yt,e(s.profile.postal_code),1)]),t("tr",null,[kt,t("td",Lt,e(s.profile.prefecture),1)]),t("tr",null,[Pt,t("td",Ct,e(s.profile.city)+e(s.profile.street)+"\u3000"+e(s.profile.building),1)]),t("tr",null,[jt,t("td",Nt,e(s.profile.phone),1)]),t("tr",null,[St,t("td",Tt,e(s.profile.phone),1)])],64)):m("",!0)])]),t("div",Ht,[t("button",{type:"button",onClick:l[2]||(l[2]=o=>u.backToList()),class:b([{"opacity-25":c.form.processing},"inline-block items-center px-8 py-2.5 bg-neutral-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-neutral-700 active:bg-neutral-700 focus:outline-none focus:border-neutral-700 focus:shadow-outline-neutral transition ease-in-out duration-150 m-1"]),disabled:c.form.processing}," \u30EA\u30B9\u30C8\u3078 ",10,It),t("button",{type:"button",onClick:l[3]||(l[3]=o=>u.submit(s.product.id)),class:b([{"opacity-25":c.form.processing},"inline-block items-center px-8 py-2.5 bg-neutral-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-neutral-700 active:bg-neutral-700 focus:outline-none focus:border-neutral-700 focus:shadow-outline-neutral transition ease-in-out duration-150 m-1"]),disabled:c.form.processing}," \u672A\u767A\u9001\u306B\u623B\u3059 ",10,Ot)])])):m("",!0)]),_:1})],64)}const Gt=O(D,[["render",Vt]]);export{Gt as default};
