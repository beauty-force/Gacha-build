import{q as w,o as i,i as b,w as l,b as h,D as u,H as k,d as e,e as x,L as p,c as n,f as m,F as a,t as s,h as _,n as C,E as j}from"./app.90f4fd42.js";import{A as L}from"./Admin.e7b4d6aa.js";import{u as B}from"./useConfirm.03a09d25.js";import"./_plugin-vue_export-helper.cdc0426e.js";const H={class:"mx-auto"},A={class:"bg-white overflow-hidden"},M={class:"p-3 md:p-6 bg-white"},V={class:"flex justify-between items-center mb-4"},S=e("h3",{class:"text-lg font-medium"},"\u30D7\u30E9\u30F3\u4E00\u89A7",-1),N={class:"hidden md:block overflow-x-auto"},$={class:"min-w-full divide-y divide-gray-200"},z=e("thead",{class:"bg-gray-50 whitespace-nowrap"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-sm font-semibold text-gray-500 uppercase tracking-wider"}," \u30D7\u30E9\u30F3\u540D "),e("th",{class:"px-6 py-3 text-left text-sm font-semibold text-gray-500 uppercase tracking-wider"}," \u8AAC\u660E "),e("th",{class:"px-6 py-3 text-left text-sm font-semibold text-gray-500 uppercase tracking-wider"}," \u753B\u50CF "),e("th",{class:"px-6 py-3 text-left text-sm font-semibold text-gray-500 uppercase tracking-wider"}," \u91D1\u984D "),e("th",{class:"px-6 py-3 text-left text-sm font-semibold text-gray-500 uppercase tracking-wider"}," \u30DC\u30FC\u30CA\u30B9\u7387 "),e("th",{class:"px-6 py-3 text-left text-sm font-semibold text-gray-500 uppercase tracking-wider"}," \u30E6\u30FC\u30B6\u30FC\u6570 "),e("th",{class:"px-6 py-3 text-left text-sm font-semibold text-gray-500 uppercase tracking-wider"}," \u64CD\u4F5C ")])],-1),U={class:"bg-white divide-y divide-gray-200"},D={class:"px-3 py-1 whitespace-nowrap"},E={class:"px-3 py-1"},F={class:"px-3 py-1 whitespace-nowrap"},P=["src"],q={class:"px-3 py-1 whitespace-nowrap"},I={class:"px-3 py-1 whitespace-nowrap"},O={class:"px-3 py-1 whitespace-nowrap"},T={class:"flex items-center space-x-2"},G=["onClick"],J={class:"whitespace-nowrap"},K={class:"flex gap-1"},Q=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),R=["onClick"],W=e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),X=[W],Y={key:0,class:"bg-gray-50"},Z={colspan:"7",class:"px-6 py-4"},ee={class:"space-y-2"},te=e("h5",{class:"text-sm font-medium text-gray-700 mb-3"},"\u30E6\u30FC\u30B6\u30FC\u4E00\u89A7",-1),se={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3"},oe={class:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center"},ie={class:"text-sm font-medium text-gray-600"},ne={class:"text-sm font-medium text-gray-900"},de={class:"text-xs text-gray-500"},re={class:"md:hidden space-y-4"},ce={class:"p-4"},ae={class:"flex items-start justify-between mb-3"},le={class:"flex-1"},he={class:"text-lg font-semibold text-gray-900 mb-1"},ue={class:"text-sm text-gray-600 mb-2"},me={class:"flex items-center space-x-4 text-sm"},_e={class:"text-gray-700"},xe={class:"text-gray-700"},pe={class:"text-blue-600 font-medium"},ge=["src"],fe={key:0,class:"border-t pt-3"},ve=["onClick"],ye=e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1),we=[ye],be={key:0,class:"mt-3 space-y-2"},ke={class:"flex items-center space-x-3"},Ce={class:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center"},je={class:"text-xs font-medium text-gray-600"},Le={class:"text-sm font-medium text-gray-900"},Be={class:"text-xs text-gray-500"},He={class:"flex justify-end space-x-2 mt-4 pt-3 border-t"},Ae=e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),Me=["onClick"],Ve=e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),De={__name:"Index",props:{plans:Array},setup(g){const{confirm:y,alert:Se}=B(),d=w([]),f=r=>{const c=d.value.indexOf(r);c>-1?d.value.splice(c,1):d.value.push(r)},v=r=>{y("\u3053\u306E\u30D7\u30E9\u30F3\u3092\u524A\u9664\u3057\u3066\u3082\u3088\u308D\u3057\u3044\u3067\u3059\u304B\uFF1F").then(c=>{c&&j.Inertia.delete(route("admin.plans.destroy",r.id))})};return(r,c)=>(i(),b(L,null,{default:l(()=>[h(u(k),{title:"\u30D7\u30E9\u30F3\u7BA1\u7406"}),e("div",null,[e("div",H,[e("div",A,[e("div",M,[e("div",V,[S,h(u(p),{href:r.route("admin.plans.create"),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"},{default:l(()=>[x(" \u65B0\u898F\u30D7\u30E9\u30F3\u4F5C\u6210 ")]),_:1},8,["href"])]),e("div",N,[e("table",$,[z,e("tbody",U,[(i(!0),n(a,null,m(g.plans,t=>(i(),n(a,{key:t.id},[e("tr",null,[e("td",D,s(t.name),1),e("td",E,s(t.description),1),e("td",F,[e("img",{src:t.image,class:"w-32 h-20 inline-block object-contain"},null,8,P)]),e("td",q," \xA5 "+s(t.amount.toLocaleString()),1),e("td",I,s(t.point.toLocaleString())+" pt ",1),e("td",O,[e("div",T,[e("span",null,s(t.users?t.users.length:0)+" \u4EBA",1),t.users&&t.users.length>0?(i(),n("button",{key:0,onClick:o=>f(t.id),class:"text-blue-600 hover:text-blue-900 text-sm"},s(d.value.includes(t.id)?"\u96A0\u3059":"\u8868\u793A"),9,G)):_("",!0)])]),e("td",J,[e("div",K,[h(u(p),{href:r.route("admin.plans.edit",t.id),class:"text-indigo-600 hover:text-indigo-900 hover:bg-indigo-100 rounded-full p-2"},{default:l(()=>[Q]),_:2},1032,["href"]),e("button",{onClick:o=>v(t),class:"text-red-600 hover:text-red-900 hover:bg-red-100 rounded-full p-2"},X,8,R)])])]),t.users&&t.users.length>0&&d.value.includes(t.id)?(i(),n("tr",Y,[e("td",Z,[e("div",ee,[te,e("div",se,[(i(!0),n(a,null,m(t.users,o=>(i(),n("div",{key:o.id,class:"flex items-center space-x-3 p-3 bg-white rounded-lg border"},[e("div",oe,[e("span",ie,s(o.name?o.name.charAt(0):"U"),1)]),e("div",null,[e("p",ne,s(o.name||"\u540D\u524D\u306A\u3057"),1),e("p",de,s(o.email),1)])]))),128))])])])])):_("",!0)],64))),128))])])]),e("div",re,[(i(!0),n(a,null,m(g.plans,t=>(i(),n("div",{key:t.id,class:"bg-white border border-gray-200 rounded-lg shadow-sm"},[e("div",ce,[e("div",ae,[e("div",le,[e("h4",he,s(t.name),1),e("p",ue,s(t.description),1),e("div",me,[e("span",_e,"\xA5"+s(t.amount.toLocaleString()),1),e("span",xe,s(t.point.toLocaleString())+" pt",1),e("span",pe,s(t.users?t.users.length:0)+" \u30E6\u30FC\u30B6\u30FC",1)])]),e("img",{src:t.image,class:"w-20 h-16 object-contain ml-3"},null,8,ge)]),t.users&&t.users.length>0?(i(),n("div",fe,[e("button",{onClick:o=>f(t.id),class:"flex items-center justify-between w-full text-left text-sm font-medium text-gray-700 hover:text-gray-900"},[e("span",null,"\u30E6\u30FC\u30B6\u30FC\u4E00\u89A7\u3092"+s(d.value.includes(t.id)?"\u96A0\u3059":"\u8868\u793A"),1),(i(),n("svg",{class:C(["w-4 h-4 transition-transform duration-200",{"rotate-180":d.value.includes(t.id)}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},we,2))],8,ve),d.value.includes(t.id)?(i(),n("div",be,[(i(!0),n(a,null,m(t.users,o=>(i(),n("div",{key:o.id,class:"flex items-center justify-between p-2 bg-gray-50 rounded"},[e("div",ke,[e("div",Ce,[e("span",je,s(o.name?o.name.charAt(0):"U"),1)]),e("div",null,[e("p",Le,s(o.name||"\u540D\u524D\u306A\u3057"),1),e("p",Be,s(o.email),1)])])]))),128))])):_("",!0)])):_("",!0),e("div",He,[h(u(p),{href:r.route("admin.plans.edit",t.id),class:"flex items-center px-3 py-2 text-sm font-medium text-indigo-600 hover:text-indigo-900 hover:bg-indigo-50 rounded-md"},{default:l(()=>[Ae,x(" \u7DE8\u96C6 ")]),_:2},1032,["href"]),e("button",{onClick:o=>v(t),class:"flex items-center px-3 py-2 text-sm font-medium text-red-600 hover:text-red-900 hover:bg-red-50 rounded-md"},[Ve,x(" \u524A\u9664 ")],8,Me)])])]))),128))])])])])])]),_:1}))}};export{De as default};
