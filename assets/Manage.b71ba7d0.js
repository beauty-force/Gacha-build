import{o as i,i as y,w as m,d as t,t as s,b as r,D as _,L as v,n as b,c as d,f,F as w,h as x}from"./app.e8f875cf.js";import{A as k}from"./Admin.81c83014.js";import{P as M}from"./Pagination.9b64c542.js";import"./useConfirm.eacbe520.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./ChevronRightIcon.185a51d8.js";import"./EllipsisHorizontalIcon.6c659018.js";const S={class:"font-semibold text-xl text-gray-800 leading-tight"},B={class:"md:py-2"},D={class:"md:px-2 font-sans"},L={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-2 md:mb-4"},$={class:"p-4 text-gray-900"},j={class:"flex items-center mb-3 sm:mb-4"},C=t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),N=t("h3",{class:"text-base sm:text-lg font-semibold"},"\u30A4\u30D9\u30F3\u30C8\u60C5\u5831",-1),A={class:"grid grid-cols-2 gap-4 sm:gap-6"},F={class:"space-y-3"},O=t("p",{class:"text-xs sm:text-sm font-medium text-gray-600 mb-1"},"\u30BF\u30A4\u30C8\u30EB",-1),V={class:"text-sm sm:text-base text-gray-900"},P=t("p",{class:"text-xs sm:text-sm font-medium text-gray-600 mb-1"},"\u30B9\u30C6\u30FC\u30BF\u30B9",-1),T=t("p",{class:"text-xs sm:text-sm font-medium text-gray-600 mb-1"},"\u516C\u958B\u65E5\u6642",-1),z={class:"text-sm sm:text-base text-gray-900"},E={class:"space-y-3"},H=t("p",{class:"text-xs sm:text-sm font-medium text-gray-600 mb-1"},"\u958B\u59CB\u65E5\u6642",-1),Y={class:"text-sm sm:text-base text-gray-900"},q=t("p",{class:"text-xs sm:text-sm font-medium text-gray-600 mb-1"},"\u7D42\u4E86\u65E5\u6642",-1),G={class:"text-sm sm:text-base text-gray-900"},I=t("p",{class:"text-xs sm:text-sm font-medium text-gray-600 mb-1"},"\u53C2\u52A0\u8005\u6570",-1),J={class:"text-sm sm:text-base text-gray-900"},K={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},Q={class:"p-4 text-gray-900"},R=t("h3",{class:"text-base sm:text-lg font-semibold mb-3 sm:mb-4"},"\u53C2\u52A0\u8005\u4E00\u89A7",-1),U={class:"overflow-x-auto"},W={class:"min-w-full divide-y divide-gray-200"},X=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-3 sm:px-4 lg:px-6 py-2 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," \u9806\u4F4D "),t("th",{class:"px-3 sm:px-4 lg:px-6 py-2 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," \u30E6\u30FC\u30B6\u30FC "),t("th",{class:"px-3 sm:px-4 lg:px-6 py-2 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," \u8CFC\u5165\u91D1\u984D ")])],-1),Z={class:"bg-white divide-y divide-gray-200"},tt={class:"px-3 sm:px-4 lg:px-6 py-2 sm:py-3 whitespace-nowrap text-xs sm:text-sm text-gray-900"},et={class:"px-3 sm:px-4 lg:px-6 py-2 sm:py-3 whitespace-nowrap"},st={class:"flex items-center"},at={class:"text-xs sm:text-sm font-medium text-gray-900"},ot={class:"text-xs sm:text-sm text-gray-500"},nt={class:"px-3 sm:px-4 lg:px-6 py-2 sm:py-3 whitespace-nowrap text-xs sm:text-sm text-gray-900"},it={key:0,class:"text-center py-6 sm:py-8 text-gray-500 text-sm sm:text-base"},dt={key:1,class:"mt-4"},ut={__name:"Manage",props:{event:Object,userStats:Array,search_cond:Object,total:Number},setup(e){const g=a=>({pending:"\u672A\u516C\u958B",upcoming:"\u958B\u59CB\u524D",active:"\u9032\u884C\u4E2D",ended:"\u7D42\u4E86"})[a]||a,c=a=>{if(!a)return"-";const o=new Date(a),n=o.getFullYear(),l=o.getMonth()+1,h=o.getDate(),u=o.getHours(),p=o.getMinutes();return`${n}\u5E74${l}\u6708${h}\u65E5 ${u}:${p.toString().padStart(2,"0")}`};return(a,o)=>(i(),y(k,{title:"\u30A4\u30D9\u30F3\u30C8\u7BA1\u7406"},{header:m(()=>[t("h2",S," \u30A4\u30D9\u30F3\u30C8\u7BA1\u7406: "+s(e.event.title),1)]),default:m(()=>[t("div",B,[t("div",D,[t("div",L,[t("div",$,[t("div",j,[r(_(v),{href:a.route("admin.events.index"),class:"mr-3 p-2 text-gray-500 hover:text-gray-700 rounded-full hover:bg-gray-100 transition-colors duration-200",title:"\u30A4\u30D9\u30F3\u30C8\u4E00\u89A7\u306B\u623B\u308B"},{default:m(()=>[C]),_:1},8,["href"]),N]),t("div",A,[t("div",F,[t("div",null,[O,t("p",V,s(e.event.title),1)]),t("div",null,[P,t("span",{class:b({"px-2 py-1 text-xs font-semibold rounded-full":!0,"bg-yellow-100 text-yellow-700":e.event.status==="pending","bg-blue-100 text-blue-700":e.event.status==="upcoming","bg-green-100 text-green-700":e.event.status==="active","bg-gray-100 text-gray-700":e.event.status==="ended"})},s(g(e.event.status)),3)]),t("div",null,[T,t("p",z,s(c(e.event.publish_date)),1)])]),t("div",E,[t("div",null,[H,t("p",Y,s(c(e.event.start_date)),1)]),t("div",null,[q,t("p",G,s(c(e.event.end_date)),1)]),t("div",null,[I,t("p",J,s(e.userStats.length)+"\u4EBA",1)])])])])]),t("div",K,[t("div",Q,[R,t("div",U,[t("table",W,[X,t("tbody",Z,[(i(!0),d(w,null,f(e.userStats,(n,l)=>(i(),d("tr",{key:n.user.id},[t("td",tt,s(l+1),1),t("td",et,[t("div",st,[t("div",null,[t("div",at,s(n.user.name),1),t("div",ot,s(n.user.email),1)])])]),t("td",nt,s(n.total_purchase.toLocaleString())+"\u5186 ",1)]))),128))])])]),e.userStats.length===0?(i(),d("div",it," \u307E\u3060\u53C2\u52A0\u8005\u304C\u3044\u307E\u305B\u3093\u3002 ")):x("",!0),e.total>1?(i(),d("div",dt,[r(M,{search_cond:e.search_cond,route_name:"admin.events.manage",total:e.total,event_id:e.event.id},null,8,["search_cond","total","event_id"])])):x("",!0)])])])])]),_:1}))}};export{ut as default};
