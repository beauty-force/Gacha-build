import{l as f,o as l,w as r,a as x,b as t,u,d as c,t as a,n as h,c as i,i as g,F as w,f as _}from"./app-BYu5DXrm.js";import{A as k}from"./Admin-Dz8qJH0W.js";import{P as M}from"./Pagination-BZAknb-k.js";import"./useConfirm-VcIfKJOa.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"md:py-2"},B={class:"md:px-2 font-sans"},S={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-2 md:mb-4"},$={class:"p-4 text-gray-900"},j={class:"flex items-center mb-3 sm:mb-4"},C={class:"grid grid-cols-2 gap-4 sm:gap-6"},D={class:"space-y-3"},L={class:"text-sm sm:text-base text-gray-900"},A={class:"text-sm sm:text-base text-gray-900"},F={class:"space-y-3"},O={class:"text-sm sm:text-base text-gray-900"},V={class:"text-sm sm:text-base text-gray-900"},E={class:"text-sm sm:text-base text-gray-900"},H={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},P={class:"p-4 text-gray-900"},T={class:"overflow-x-auto"},z={class:"min-w-full divide-y divide-gray-200"},Y={class:"bg-white divide-y divide-gray-200"},q={class:"px-3 sm:px-4 lg:px-6 py-2 sm:py-3 whitespace-nowrap text-xs sm:text-sm text-gray-900"},G={class:"px-3 sm:px-4 lg:px-6 py-2 sm:py-3 whitespace-nowrap"},I={class:"flex items-center"},J={class:"text-xs sm:text-sm font-medium text-gray-900"},K={class:"text-xs sm:text-sm text-gray-500"},Q={class:"px-3 sm:px-4 lg:px-6 py-2 sm:py-3 whitespace-nowrap text-xs sm:text-sm text-gray-900"},R={key:0,class:"text-center py-6 sm:py-8 text-gray-500 text-sm sm:text-base"},U={key:1,class:"mt-4"},st={__name:"Manage",props:{event:Object,userStats:Array,search_cond:Object,total:Number,total_users:Number,offset:Number},setup(s){const y=n=>({pending:"未公開",upcoming:"開始前",active:"進行中",ended:"終了"})[n]||n,d=n=>{if(!n)return"-";const e=new Date(n),o=e.getFullYear(),m=e.getMonth()+1,p=e.getDate(),v=e.getHours(),b=e.getMinutes();return`${o}年${m}月${p}日 ${v}:${b.toString().padStart(2,"0")}`};return(n,e)=>(l(),f(k,null,{default:r(()=>[x(u(c.Head),null,{default:r(()=>[t("title",null,"イベント管理: "+a(s.event.title),1)]),_:1}),t("div",N,[t("div",B,[t("div",S,[t("div",$,[t("div",j,[x(u(c.Link),{href:n.route("admin.events.index"),class:"mr-3 p-2 text-gray-500 hover:text-gray-700 rounded-full hover:bg-gray-100 transition-colors duration-200",title:"イベント一覧に戻る"},{default:r(()=>[...e[0]||(e[0]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])]),_:1},8,["href"]),e[1]||(e[1]=t("h3",{class:"text-base sm:text-lg font-semibold"},"イベント情報",-1))]),t("div",C,[t("div",D,[t("div",null,[e[2]||(e[2]=t("p",{class:"text-xs sm:text-sm font-medium text-gray-600 mb-1"},"タイトル",-1)),t("p",L,a(s.event.title),1)]),t("div",null,[e[3]||(e[3]=t("p",{class:"text-xs sm:text-sm font-medium text-gray-600 mb-1"},"ステータス",-1)),t("span",{class:h({"px-2 py-1 text-xs font-semibold rounded-full":!0,"bg-yellow-100 text-yellow-700":s.event.status==="pending","bg-blue-100 text-blue-700":s.event.status==="upcoming","bg-green-100 text-green-700":s.event.status==="active","bg-gray-100 text-gray-700":s.event.status==="ended"})},a(y(s.event.status)),3)]),t("div",null,[e[4]||(e[4]=t("p",{class:"text-xs sm:text-sm font-medium text-gray-600 mb-1"},"公開日時",-1)),t("p",A,a(d(s.event.publish_date)),1)])]),t("div",F,[t("div",null,[e[5]||(e[5]=t("p",{class:"text-xs sm:text-sm font-medium text-gray-600 mb-1"},"開始日時",-1)),t("p",O,a(d(s.event.start_date)),1)]),t("div",null,[e[6]||(e[6]=t("p",{class:"text-xs sm:text-sm font-medium text-gray-600 mb-1"},"終了日時",-1)),t("p",V,a(d(s.event.end_date)),1)]),t("div",null,[e[7]||(e[7]=t("p",{class:"text-xs sm:text-sm font-medium text-gray-600 mb-1"},"参加者数",-1)),t("p",E,a(s.total_users)+"人",1)])])])])]),t("div",H,[t("div",P,[e[9]||(e[9]=t("h3",{class:"text-base sm:text-lg font-semibold mb-3 sm:mb-4"},"参加者一覧",-1)),t("div",T,[t("table",z,[e[8]||(e[8]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-3 sm:px-4 lg:px-6 py-2 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," 順位 "),t("th",{class:"px-3 sm:px-4 lg:px-6 py-2 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," ユーザー "),t("th",{class:"px-3 sm:px-4 lg:px-6 py-2 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," 購入金額 ")])],-1)),t("tbody",Y,[(l(!0),i(w,null,_(s.userStats,(o,m)=>(l(),i("tr",{key:o.user.id},[t("td",q,a(m+s.offset+1),1),t("td",G,[t("div",I,[t("div",null,[t("div",J,a(o.user.name),1),t("div",K,a(o.user.email),1)])])]),t("td",Q,a(o.total_purchase.toLocaleString())+"円 ",1)]))),128))])])]),s.userStats.length===0?(l(),i("div",R," まだ参加者がいません。 ")):g("",!0),s.total>1?(l(),i("div",U,[x(M,{search_cond:s.search_cond,route_name:"admin.events.manage",total:s.total,event_id:s.event.id},null,8,["search_cond","total","event_id"])])):g("",!0)])])])])]),_:1}))}};export{st as default};
