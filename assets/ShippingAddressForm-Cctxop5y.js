import{d as g,B as V,c as o,o as n,b as s,j as m,i as a,e as i,v as f,u as r,$ as b,h as u,t as p,a as K,n as U}from"./app-DqbpHCH1.js";import{B}from"./main-CHbU8ESh.js";import"./isNativeReflectConstruct-zdezgZUv.js";const D={id:"address",class:"p-4 sm:p-8 bg-white/70 border shadow rounded-lg shadow-yellow-300"},j={class:"w-full mb-4 flex gap-2 md:gap-4 flex-wrap"},M={class:"flex-1 inline-block"},N={key:0,class:"text-red-500 text-sm"},S={class:"flex-1 inline-block"},$={key:0,class:"text-red-500 text-sm"},z={class:"w-full mb-4 flex gap-2 md:gap-4 flex-wrap"},A={class:"flex-1 inline-block"},E={key:0,class:"text-red-500 text-sm"},F={class:"flex-1 inline-block"},P={key:0,class:"text-red-500 text-sm"},T={class:"w-full mb-4"},C={key:0,class:"text-red-500 text-sm"},I={class:"w-full mb-4"},J={key:0,class:"text-red-500 text-sm"},q={class:"w-full mb-4"},G={key:0,class:"text-red-500 text-sm"},H={class:"w-full mb-4"},L={key:0,class:"text-red-500 text-sm"},O={class:"w-full mb-4"},Q={key:0,class:"text-red-500 text-sm"},R={class:"w-full mb-4"},W={key:0,class:"text-red-500 text-sm"},X={class:"w-full mb-4"},Y=["value"],Z={class:"w-full mb-4"},ee={key:0,class:"text-red-500 text-sm"},te={class:"flex gap-4 items-center justify-end w-full p-1"},se={class:"text-center border border-yellow-600 rounded-full p-0.5 w-fit"},re=["disabled"],de={__name:"ShippingAddressForm",props:{profiles:{type:Array,default:()=>[]}},setup(_){const d=_,c=g.usePage().props.value.auth.user,y=V(()=>!!c.birthday),v={first_name:"",last_name:"",first_name_gana:"",last_name_gana:"",postal_code:"",prefecture:"",city:"",street:"",building:"",phone:c.phone,birthday:c.birthday?new Date(c.birthday):null},w=d.profiles.length?{first_name:d.profiles[0].first_name,last_name:d.profiles[0].last_name,first_name_gana:d.profiles[0].first_name_gana,last_name_gana:d.profiles[0].last_name_gana,postal_code:d.profiles[0].postal_code,prefecture:d.profiles[0].prefecture,city:d.profiles[0].city,street:d.profiles[0].street,building:d.profiles[0].building,phone:d.profiles[0].phone,birthday:c.birthday?new Date(c.birthday):null}:v,t=g.useForm(w),k=()=>{y.value&&(t.birthday=null),t.post(route("user.address.post"),{preserveScroll:!0})},h=x=>{x.length===7?fetch(`https://zipcloud.ibsnet.co.jp/api/search?zipcode=${x}`).then(e=>e.json()).then(e=>{t.prefecture=e.results[0].address1,t.city=e.results[0].address2,t.street=e.results[0].address3}):(t.prefecture="",t.city="",t.street="")};return(x,e)=>(n(),o("div",D,[e[36]||(e[36]=s("h2",{class:"text-lg font-bold text-neutral-700 mb-6 text-center"},"発送先情報管理",-1)),s("form",{onSubmit:e[22]||(e[22]=u(l=>k(),["prevent"])),class:"h-adr"},[e[35]||(e[35]=s("span",{class:"p-country-name",style:{display:"none"}},"Japan",-1)),s("div",j,[s("div",M,[e[23]||(e[23]=s("label",{for:"first_name",class:"mb-1 pl-2 text-sm block"},[i("姓"),s("span",{class:"text-red-500 ml-1"},"*")],-1)),m(s("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>r(t).first_name=l),id:"first_name",type:"text",onKeydown:e[1]||(e[1]=b(u(()=>{},["prevent"]),["enter"])),class:"rounded-md w-full md:px-5 px-3 py-2 border border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50"},null,544),[[f,r(t).first_name]]),r(t).errors.first_name?(n(),o("div",N,p(r(t).errors.first_name),1)):a("",!0)]),s("div",S,[e[24]||(e[24]=s("label",{for:"last_name",class:"mb-1 pl-2 text-sm block"},[i("名"),s("span",{class:"text-red-500 ml-1"},"*")],-1)),m(s("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>r(t).last_name=l),id:"last_name",type:"text",onKeydown:e[3]||(e[3]=b(u(()=>{},["prevent"]),["enter"])),class:"rounded-md w-full md:px-5 px-3 py-2 border border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50"},null,544),[[f,r(t).last_name]]),r(t).errors.last_name?(n(),o("div",$,p(r(t).errors.last_name),1)):a("",!0)])]),s("div",z,[s("div",A,[e[25]||(e[25]=s("label",{for:"first_name_gana",class:"mb-1 pl-2 text-sm block"},[i("姓 (カナ)"),s("span",{class:"text-red-500 ml-1"},"*")],-1)),m(s("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>r(t).first_name_gana=l),id:"first_name_gana",type:"text",onKeydown:e[5]||(e[5]=b(u(()=>{},["prevent"]),["enter"])),class:"w-full md:px-5 px-3 py-2 border border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md"},null,544),[[f,r(t).first_name_gana]]),r(t).errors.first_name_gana?(n(),o("div",E,p(r(t).errors.first_name_gana),1)):a("",!0)]),s("div",F,[e[26]||(e[26]=s("label",{for:"last_name_gana",class:"mb-1 pl-2 text-sm block"},[i("名 (カナ)"),s("span",{class:"text-red-500 ml-1"},"*")],-1)),m(s("input",{"onUpdate:modelValue":e[6]||(e[6]=l=>r(t).last_name_gana=l),id:"last_name_gana",type:"text",onKeydown:e[7]||(e[7]=b(u(()=>{},["prevent"]),["enter"])),class:"w-full md:px-5 px-3 py-2 border border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md"},null,544),[[f,r(t).last_name_gana]]),r(t).errors.last_name_gana?(n(),o("div",P,p(r(t).errors.last_name_gana),1)):a("",!0)])]),s("div",T,[e[27]||(e[27]=s("label",{for:"birthday",class:"mb-1 pl-2 text-sm block"},[i("生年月日"),s("span",{class:"text-red-500 ml-1"},"*")],-1)),K(r(B),{modelValue:r(t).birthday,"onUpdate:modelValue":e[8]||(e[8]=l=>r(t).birthday=l),"enable-time-picker":!1,format:"yyyy-MM-dd","max-date":new Date,"auto-apply":"",placeholder:"生年月日を選択してください",disabled:y.value,class:"w-full"},null,8,["modelValue","max-date","disabled"]),r(t).errors.birthday?(n(),o("div",C,p(r(t).errors.birthday),1)):a("",!0)]),s("div",I,[e[28]||(e[28]=s("label",{for:"postal_code",class:"mb-1 pl-2 text-sm block"},[i("郵便番号 (ハイフンなし半角数字)"),s("span",{class:"text-red-500 ml-1"},"*")],-1)),m(s("input",{"onUpdate:modelValue":e[9]||(e[9]=l=>r(t).postal_code=l),id:"postal_code",type:"text",maxlength:"8",onKeydown:e[10]||(e[10]=b(u(()=>{},["prevent"]),["enter"])),class:"w-full md:px-5 px-3 py-2 border border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md placeholder-neutral-300",placeholder:"住所が自動入力されます",onInput:e[11]||(e[11]=l=>h(r(t).postal_code))},null,544),[[f,r(t).postal_code]]),r(t).errors.postal_code?(n(),o("div",J,p(r(t).errors.postal_code),1)):a("",!0)]),s("div",q,[e[29]||(e[29]=s("label",{for:"prefecture",class:"mb-1 pl-2 text-sm block"},[i("都道府県"),s("span",{class:"text-red-500 ml-1"},"*")],-1)),m(s("input",{"onUpdate:modelValue":e[12]||(e[12]=l=>r(t).prefecture=l),id:"prefecture",type:"text",class:"w-full md:px-5 px-3 py-2 border border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md placeholder-neutral-300 disabled:bg-neutral-100",readonly:"",disabled:""},null,512),[[f,r(t).prefecture]]),r(t).errors.prefecture?(n(),o("div",G,p(r(t).errors.prefecture),1)):a("",!0)]),s("div",H,[e[30]||(e[30]=s("label",{for:"city",class:"mb-1 pl-2 text-sm block"},[i("市区郡町村"),s("span",{class:"text-red-500 ml-1"},"*")],-1)),m(s("input",{"onUpdate:modelValue":e[13]||(e[13]=l=>r(t).city=l),id:"city",type:"text",onKeydown:e[14]||(e[14]=b(u(()=>{},["prevent"]),["enter"])),class:"w-full md:px-5 px-3 py-2 border border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md placeholder-neutral-300 disabled:bg-neutral-100",readonly:"",disabled:""},null,544),[[f,r(t).city]]),r(t).errors.city?(n(),o("div",L,p(r(t).errors.city),1)):a("",!0)]),s("div",O,[e[31]||(e[31]=s("label",{for:"street",class:"mb-1 pl-2 text-sm block"},[i("町・番地"),s("span",{class:"text-red-500 ml-1"},"*")],-1)),m(s("input",{"onUpdate:modelValue":e[15]||(e[15]=l=>r(t).street=l),type:"text",id:"street",onKeydown:e[16]||(e[16]=b(u(()=>{},["prevent"]),["enter"])),class:"w-full md:px-5 px-3 py-2 border border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md placeholder-neutral-300"},null,544),[[f,r(t).street]]),r(t).errors.street?(n(),o("div",Q,p(r(t).errors.street),1)):a("",!0)]),s("div",R,[e[32]||(e[32]=s("label",{for:"building",class:"mb-1 pl-2 text-sm block"},"マンション・ビル名",-1)),m(s("input",{"onUpdate:modelValue":e[17]||(e[17]=l=>r(t).building=l),type:"text",id:"building",onKeydown:e[18]||(e[18]=b(u(()=>{},["prevent"]),["enter"])),class:"w-full md:px-5 px-3 py-2 border border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md placeholder-neutral-300"},null,544),[[f,r(t).building]]),r(t).errors.building?(n(),o("div",W,p(r(t).errors.building),1)):a("",!0)]),s("div",X,[e[33]||(e[33]=s("label",{for:"userphone",class:"mb-1 pl-2 text-sm block"},[i("登録時電話番号 (変更できません)"),s("span",{class:"text-red-500 ml-1"},"*")],-1)),s("input",{value:r(c).phone,id:"userphone",type:"tel",onKeydown:e[19]||(e[19]=b(u(()=>{},["prevent"]),["enter"])),class:"w-full md:px-5 px-3 py-2 border border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md placeholder-neutral-300 disabled:bg-neutral-100",readonly:"",disabled:""},null,40,Y)]),s("div",Z,[e[34]||(e[34]=s("label",{for:"phone",class:"mb-1 pl-2 text-sm block"},[i("発送先電話番号 (ハイフンなし半角数字)"),s("span",{class:"text-red-500 ml-1"},"*")],-1)),m(s("input",{"onUpdate:modelValue":e[20]||(e[20]=l=>r(t).phone=l),id:"phone",type:"tel",onKeydown:e[21]||(e[21]=b(u(()=>{},["prevent"]),["enter"])),class:"w-full md:px-5 px-3 py-2 border border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md placeholder-neutral-300"},null,544),[[f,r(t).phone]]),r(t).errors.phone?(n(),o("div",ee,p(r(t).errors.phone),1)):a("",!0)]),s("div",te,[s("div",se,[s("button",{type:"submit",class:U([{"opacity-50":r(t).processing},"inline-block items-center px-10 py-1 bg-theme bg-theme-hover rounded-full font-semibold text-base text-white uppercase tracking-widest transition ease-in-out duration-150"]),disabled:r(t).processing}," 保存 ",10,re)])])],32)]))}};export{de as default};
