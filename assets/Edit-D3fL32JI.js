import{d as g,l as v,o as d,w as y,a as b,b as e,u as s,h as _,c as i,i as n,j as m,e as u,v as p,t as c,k as w,y as k}from"./app-5I3IyyjT.js";import{A as V}from"./Admin-BQc94-pV.js";import"./useConfirm-B_nk2hBM.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"py-2"},q={class:"max-w-3xl mx-auto sm:px-0 lg:px-2"},C={class:"bg-white shadow-sm sm:rounded-lg"},U={class:"p-6 text-gray-900"},j={class:"space-y-6"},F={key:0,class:"text-red-500 text-sm mt-1"},N={key:0,class:"text-red-500 text-sm mt-1"},S={key:0},A={key:0,class:"text-red-500 text-sm mt-1"},E={class:"flex items-center gap-4"},M={key:0,class:"text-red-500 text-sm mt-1"},T={class:"mt-6 flex justify-end gap-4"},D=["disabled"],I={__name:"Edit",props:{tag:Object,errors:Object},setup(r){const a=r,o=g.useForm({name:a.tag.name||"",type:a.tag.type||"manual",purchase_amount_limit:a.tag.purchase_amount_limit||null,color_theme:a.tag.color_theme||"#3B82F6"}),x=()=>{o.type==="manual"&&(o.purchase_amount_limit=null)},f=()=>{o.post(route("admin.tags.update",a.tag.id))};return(h,t)=>(d(),v(V,null,{default:y(()=>[b(s(g.Head),null,{default:y(()=>[...t[5]||(t[5]=[e("title",null,"タグ編集",-1)])]),_:1}),e("div",B,[e("div",q,[e("div",C,[e("div",U,[t[13]||(t[13]=e("h3",{class:"text-lg font-semibold mb-6"},"タグ編集",-1)),e("form",{onSubmit:_(f,["prevent"])},[e("div",j,[e("div",null,[t[6]||(t[6]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700 mb-1"},[u(" タグ名 "),e("span",{class:"text-red-500"},"*")],-1)),m(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>s(o).name=l),type:"text",id:"name",class:"w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",placeholder:"例: VIP会員",required:""},null,512),[[p,s(o).name]]),r.errors.name?(d(),i("div",F,c(r.errors.name),1)):n("",!0)]),e("div",null,[t[8]||(t[8]=e("label",{for:"type",class:"block text-sm font-medium text-gray-700 mb-1"},[u(" タイプ "),e("span",{class:"text-red-500"},"*")],-1)),m(e("select",{"onUpdate:modelValue":t[1]||(t[1]=l=>s(o).type=l),id:"type",onChange:x,class:"w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",required:""},[...t[7]||(t[7]=[e("option",{value:"manual"},"手動（管理者が手動で付与）",-1),e("option",{value:"auto"},"自動（購入金額制限で自動付与）",-1)])],544),[[w,s(o).type]]),r.errors.type?(d(),i("div",N,c(r.errors.type),1)):n("",!0)]),s(o).type==="auto"?(d(),i("div",S,[t[9]||(t[9]=e("label",{for:"purchase_amount_limit",class:"block text-sm font-medium text-gray-700 mb-1"},[u(" 購入金額制限（円） "),e("span",{class:"text-red-500"},"*")],-1)),m(e("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>s(o).purchase_amount_limit=l),type:"number",id:"purchase_amount_limit",min:"0",class:"w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",placeholder:"例: 10000",required:""},null,512),[[p,s(o).purchase_amount_limit]]),t[10]||(t[10]=e("div",{class:"text-sm text-gray-500 mt-1"}," この金額以上の購入実績があるユーザーに自動的にタグが付与されます ",-1)),r.errors.purchase_amount_limit?(d(),i("div",A,c(r.errors.purchase_amount_limit),1)):n("",!0)])):n("",!0),e("div",null,[t[11]||(t[11]=e("label",{for:"color_theme",class:"block text-sm font-medium text-gray-700 mb-1"},[u(" 色テーマ "),e("span",{class:"text-red-500"},"*")],-1)),e("div",E,[m(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>s(o).color_theme=l),type:"color",id:"color_theme",class:"h-10 w-20 border-gray-300 rounded cursor-pointer",required:""},null,512),[[p,s(o).color_theme]]),m(e("input",{"onUpdate:modelValue":t[4]||(t[4]=l=>s(o).color_theme=l),type:"text",pattern:"^#[0-9A-Fa-f]{6}$",class:"w-32 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",placeholder:"#3B82F6",required:""},null,512),[[p,s(o).color_theme]]),e("div",{class:"w-12 h-8 rounded border border-gray-300",style:k({backgroundColor:s(o).color_theme})},null,4)]),r.errors.color_theme?(d(),i("div",M,c(r.errors.color_theme),1)):n("",!0)])]),e("div",T,[b(s(g.Link),{href:h.route("admin.tags.index"),class:"px-4 py-2 bg-gray-300 hover:bg-gray-400 text-gray-800 rounded-md"},{default:y(()=>[...t[12]||(t[12]=[u(" キャンセル ",-1)])]),_:1},8,["href"]),e("button",{type:"submit",disabled:s(o).processing,class:"px-4 py-2 bg-blue-500 hover:bg-blue-700 text-white rounded-md disabled:opacity-50"}," 更新 ",8,D)])],32)])])])])]),_:1}))}};export{I as default};
