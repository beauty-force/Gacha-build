import{H as y,L as g,G as d,r as c,o as i,c as p,b as u,w as v,F as _,d as e,e as m,t as a,J as f,K as k,M as C,f as S}from"./app.93cef45f.js";import{A as L}from"./Admin.735ad2e7.js";import{P as V}from"./Pagination.6fa8eef1.js";import{G as j}from"./GachaCard.822a993d.js";import{u as N}from"./useConfirm.afca42bd.js";import{_ as P}from"./_plugin-vue_export-helper.cdc0426e.js";import"./ChevronRightIcon.073676b7.js";import"./EllipsisHorizontalIcon.b88bc1ae.js";import"./GachaButtons.82aad91a.js";import"./PlayIcon.338ece40.js";const{confirm:h}=N(),A={components:{Head:y,AppLayout:L,Link:g,GachaCard:j,Pagination:V},props:{errors:Object,users:Object,search_cond:Object,total:Number,total_point:Number},mounted(){},methods:{search(){this.form_search.get(route("admin.users"))},go_detail(o){this.$inertia.visit(route("admin.users.detail",{id:o}),{preserveScroll:!0,preserveState:!0})},updateStatus(o,s){s==0?h("\u30A2\u30AB\u30A6\u30F3\u30C8\u3092\u30D6\u30ED\u30C3\u30AF\u3057\u307E\u3059\u304B\uFF1F","\u7372\u5F97\u3057\u305F\u5546\u54C1\u3068\u767A\u9001\u4F9D\u983C\u4E2D\u306E\u5546\u54C1\u306F\u5168\u3066\u56DE\u53CE\u3055\u308C\u307E\u3059\u3002","warning").then(r=>{r&&d({id:o,status:s}).post(route("admin.users.update"))}):h("\u30A2\u30AB\u30A6\u30F3\u30C8\u3092\u627F\u8A8D\u3057\u307E\u3059\u304B\uFF1F").then(r=>{r&&d({id:o,status:s}).post(route("admin.users.update"))})},format_number(o){return o==null?0:String(o).replace(/(.)(?=(\d{3})+$)/g,"$1,")}},setup(o){return{form_search:d(o.search_cond)}}},H={class:"md:px-4 px-2"},B={class:"border-b w-full p-2 my-2 font-semibold flex justify-between flex-wrap items-center gap-3"},F=e("h3",null,"\u30E6\u30FC\u30B6\u30FC\u7BA1\u7406",-1),G={class:"font-normal flex gap-2"},M={class:"font-bold"},O=["href"],T={class:"w-full flex flex-col gap-4 mb-8"},D={class:"w-full flex justify-between gap-4"},U={class:"flex-1 flex flex-wrap gap-2"},E=e("option",{value:"amount"},"\u8CFC\u5165\u91D1\u984D",-1),I=e("option",{value:"rank"},"\u30E9\u30F3\u30AF",-1),J=e("option",{value:"status"},"\u72B6\u614B",-1),K=[E,I,J],q={class:"flex gap-2"},z={class:"w-full overflow-auto"},Q={class:"min-w-full"},R=e("thead",null,[e("tr",{class:"border-b border-collapse border-yellow-100 whitespace-nowrap"},[e("th",{class:"text-center py-2"},"\u540D\u524D"),e("th",{class:"text-center py-2"},"\u30E6\u30FC\u30B6\u30FC\u540D"),e("th",{class:"text-center py-2"},"\u96FB\u8A71\u756A\u53F7"),e("th",{class:"text-center py-2"},"\u8CFC\u5165\u91D1\u984D"),e("th",{class:"text-center py-2"},"\u30E9\u30F3\u30AF")])],-1),W={class:"text-sm"},X=["onClick"],Y={class:"text-center py-3 px-1"},Z={class:"text-center py-3 px-1 text-red-600 text-nowrap"},$={class:"text-center py-3 px-1 max-w-full overflow-hidden whitespace-nowrap text-ellipsis"},ee={class:"text-center py-3 px-1 max-w-full overflow-hidden whitespace-nowrap text-ellipsis"},te={class:"text-center py-3 px-1 max-w-full overflow-hidden whitespace-nowrap text-ellipsis"};function oe(o,s,r,l,se,n){const x=c("Head"),b=c("Pagination"),w=c("AppLayout");return i(),p(_,null,[u(x,{title:"\u30E6\u30FC\u30B6\u30FC\u7BA1\u7406"}),u(w,null,{default:v(()=>[e("div",H,[e("div",B,[F,e("span",G,[m("\u5408\u8A08\u30DD\u30A4\u30F3\u30C8: "),e("span",M,a(n.format_number(r.total_point)),1),m("PT")]),e("a",{href:o.route("admin.users.export"),class:"rounded-md border bg-green-600 text-white px-4 py-1 hover:bg-green-700 text-sm"},"CSV\u30A8\u30AF\u30B9\u30DD\u30FC\u30C8",8,O)]),e("div",T,[e("div",D,[e("div",U,[f(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>l.form_search.keyword=t),type:"text",class:"text-sm flex-1 md:min-w-96 border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u30E6\u30FC\u30B6\u30FC\u540D\u3001\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u3001\u96FB\u8A71\u756A\u53F7\u3092\u5165\u529B\u3057\u307E\u3059\u3002"},null,512),[[k,l.form_search.keyword]]),f(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>l.form_search.order_by=t),id:"order_by",class:"bg-white/90 flex-1 px-3 py-2 border border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md placeholder-neutral-400"},K,512),[[C,l.form_search.order_by]])]),e("div",q,[e("button",{type:"button",onClick:s[2]||(s[2]=(...t)=>n.search&&n.search(...t)),class:"rounded-md border bg-neutral-600 text-white px-4 py-1"},"\u691C\u7D22")])]),e("div",z,[e("table",Q,[R,e("tbody",W,[(i(!0),p(_,null,S(r.users,t=>(i(),p("tr",{class:"border border-yellow-100 divide-x-2 divide-sky-50 border-collapse cursor-pointer hover:bg-sky-100",onClick:re=>n.go_detail(t.id)},[e("td",Y,a(t.first_name)+" "+a(t.last_name),1),e("td",Z,a(t.name),1),e("td",$,a(t.phone),1),e("td",ee,a(n.format_number(t.amount)),1),e("td",te,a(t.rank),1)],8,X))),256))])])]),u(b,{search_cond:r.search_cond,route_name:"admin.users",total:r.total},null,8,["search_cond","total"])])])]),_:1})],64)}const fe=P(A,[["render",oe]]);export{fe as default};
