import{H as C,L as D,r as m,o as e,c as s,b as d,w as g,F as r,d as t,t as u,e as y,g as l,f as h}from"./app.9d02a2bd.js";import{A as N}from"./Admin.363ac01e.js";import{F as T,f as B,o as I,N as L,V as M}from"./toastify.1d41d49a.js";import{G as V}from"./GachaButtons.4ca6f5f9.js";import{P as A}from"./Pagination.fa18fee3.js";import{_ as G}from"./_plugin-vue_export-helper.cdc0426e.js";import"./PlayIcon.bc3c7d3f.js";import"./ChevronRightIcon.bf7ed97e.js";import"./EllipsisHorizontalIcon.cb2c30bd.js";const O={components:{Head:C,AppLayout:N,Footer:T,Link:D,GachaButtons:V,Pagination:A,TransitionRoot:B,TransitionChild:I,Dialog:L,DialogOverlay:M},props:{errors:Object,gacha:Object,category_share:Object,gacha_log:Array,is_admin:Boolean,search_cond:Object,total:Number,offset:Number},data(){return{products:[this.gacha.products.filter(c=>c.rank==1),this.gacha.products.filter(c=>c.rank==2),this.gacha.products.filter(c=>c.rank==3),this.gacha.products.filter(c=>c.rank==4)],last_product:this.gacha.products.filter(c=>c.is_last==1),isDialogMessage:!1,dialogMessage:"",image:""}},methods:{format_number(c){return String(c).replace(/(.)(?=(\d{3})+$)/g,"$1,")},openImage(c){this.image=c,this.isDialogMessage=!0}}},P={class:"w-full overflow-y-auto"},F={class:"md:w-[450px] w-full mx-auto bg-white"},H={class:"mx-auto relative"},R={class:"flex justify-end p-6 absolute top-0 w-full"},z={class:"rounded-full py-0.5 w-fit px-4 text-sm border-2 border-white bg-white items-center flex align-center"},S=t("span",{class:"text-sm"},"\u6B8B\xA0\xA0",-1),E={class:"font-semibold text-base"},q={class:"text-sm"},J=t("img",{src:"/images/icon_cash.png",class:"h-4"},null,-1),K={class:"font-semibold text-base"},Q=t("span",null,"PT",-1),U=["src"],W={class:"flex justify-center items-center flex-col w-full mx-auto px-2 font-[mplus2] my-4"},X={key:0,src:"/images/no1.jpg",class:"w-[50%] max-w-sm"},Y={key:1,class:"flex flex-wrap justify-center w-full my-4"},Z=["onClick"],$=["src"],tt={key:2,src:"/images/no2.jpg",class:"w-[50%] max-w-sm"},et={key:3,class:"flex flex-wrap justify-center w-full my-4"},st=["onClick"],ot=["src"],nt={key:4,src:"/images/no3.jpg",class:"w-[50%] max-w-sm"},ct={key:5,class:"flex flex-wrap justify-center w-full my-4"},at=["onClick"],lt=["src"],it={key:6,class:"text-xl font-bold text-green-500"},rt={key:7,class:"flex flex-wrap justify-center w-full my-4"},_t=["onClick"],ut=["src"],dt={key:8,class:"text-xl font-bold text-purple-500"},mt={key:9,class:"flex flex-wrap justify-center w-full mt-3 mb-6"},ht=["onClick"],ft=["src"],pt={class:"w-full md:w-[760px] flex justify-center sticky bottom-0 mt-4 px-1 py-2 bg-white"},gt={key:1,class:"w-full"},xt={class:"flex flex-wrap justify-between items-center px-4 py-3 sticky top-[79px] bg-white"},yt=t("h3",{class:"underline underline-offset-4 text-lg"},"\u6392\u51FA\u5C65\u6B74",-1),wt={class:"overflow-auto px-1"},bt={class:"min-w-full"},kt={class:"border-b border-collapse text-nowrap"},vt=t("th",{class:"text-center py-2 px-2"},"\u756A\u53F7",-1),jt=t("th",{class:"text-center py-2 px-2"},"\u540D\u524D",-1),Ct=t("th",{class:"text-center py-2 px-2"},"\u753B\u50CF",-1),Dt=t("th",{class:"text-center py-2 px-2"},"\u30EC\u30A2\u5EA6",-1),Nt=t("th",{class:"text-center py-2 px-2"},"\u30DD\u30A4\u30F3\u30C8",-1),Tt=t("th",{class:"text-center py-2 px-2"},"\u30E6\u30FC\u30B6\u30FC",-1),Bt=t("th",{class:"text-center py-2 px-2"},"\u6642\u9593",-1),It={class:"border-b border-collapse text-sm"},Lt={class:"text-center py-2 px-2"},Mt={class:"text-center py-2 px-2"},Vt={class:"text-center py-1 px-2 flex justify-center min-w-20 items-center"},At=["src"],Gt={class:"text-center py-2 px-2"},Ot={class:"text-center py-2 px-2"},Pt={class:"text-center py-2 px-2"},Ft={class:"text-center py-2 px-2"},Ht=["src"];function Rt(c,f,a,zt,n,_){const w=m("Head"),b=m("GachaButtons"),k=m("Pagination"),x=m("TransitionChild"),v=m("TransitionRoot"),j=m("AppLayout");return e(),s(r,null,[d(w,{title:"\u30AC\u30C1\u30E3"}),d(j,null,{default:g(()=>[a.gacha_log.length==0?(e(),s(r,{key:0},[t("div",P,[t("div",F,[t("div",H,[t("div",R,[t("button",z,[a.gacha.count_card>0?(e(),s(r,{key:0},[S,t("span",E,u(_.format_number(a.gacha.count_rest)),1),t("span",q,"/"+u(_.format_number(a.gacha.count_card)),1),y(" \xA0\xA0\xA0\xA0 ")],64)):l("",!0),J,y("\xA0\xA0 "),t("span",K,u(_.format_number(a.gacha.point)),1),Q])]),t("img",{src:a.gacha.image,class:"block w-full"},null,8,U),t("div",W,[n.products[0].length>0?(e(),s("img",X)):l("",!0),n.products[0].length>0?(e(),s("div",Y,[(e(!0),s(r,null,h(n.products[0],(o,i)=>(e(),s("button",{key:i,onClick:p=>_.openImage(o.image),class:"w-1/2 p-2"},[t("img",{src:o.image,class:"w-full"},null,8,$)],8,Z))),128))])):l("",!0),n.products[1].length>0?(e(),s("img",tt)):l("",!0),n.products[1].length>0?(e(),s("div",et,[(e(!0),s(r,null,h(n.products[1],(o,i)=>(e(),s("button",{key:i,onClick:p=>_.openImage(o.image),class:"w-1/3 p-2"},[t("img",{src:o.image,class:"w-full"},null,8,ot)],8,st))),128))])):l("",!0),n.products[2].length>0?(e(),s("img",nt)):l("",!0),n.products[2].length>0?(e(),s("div",ct,[(e(!0),s(r,null,h(n.products[2],(o,i)=>(e(),s("button",{key:i,onClick:p=>_.openImage(o.image),class:"w-1/4 p-2"},[t("img",{src:o.image,class:"w-full"},null,8,lt)],8,at))),128))])):l("",!0),n.products[3].length>0?(e(),s("span",it,"( \u30E9\u30B9\u30C8\u30EF\u30F3\u8CDE )")):l("",!0),n.products[3].length>0?(e(),s("div",rt,[(e(!0),s(r,null,h(n.products[3],(o,i)=>(e(),s("button",{key:i,onClick:p=>_.openImage(o.image),class:"w-1/4 p-2"},[t("img",{src:o.image,class:"w-full"},null,8,ut)],8,_t))),128))])):l("",!0),n.last_product.length>0?(e(),s("span",dt,"( \u30E9\u30B9\u30C8\u30EF\u30F3\u8CDE )")):l("",!0),n.last_product.length>0?(e(),s("div",mt,[(e(!0),s(r,null,h(n.last_product,(o,i)=>(e(),s("button",{key:i,onClick:p=>_.openImage(o.image),class:"w-1/3 p-2"},[t("img",{src:o.image,class:"w-full"},null,8,ft)],8,ht))),128))])):l("",!0)])])])]),t("div",pt,[d(b,{gacha:a.gacha},null,8,["gacha"])])],64)):(e(),s("div",gt,[t("div",xt,[yt,d(k,{search_cond:{...a.search_cond,id:a.gacha.id},route_name:"user.gacha",total:a.total},null,8,["search_cond","total"])]),t("div",wt,[t("table",bt,[t("thead",null,[t("tr",kt,[vt,jt,Ct,Dt,a.is_admin?(e(),s(r,{key:0},[Nt,Tt,Bt],64)):l("",!0)])]),t("tbody",null,[(e(!0),s(r,null,h(a.gacha_log,(o,i)=>(e(),s("tr",It,[t("td",Lt,u(a.offset+i+1),1),t("td",Mt,u(o.name),1),t("td",Vt,[t("img",{class:"w-16",src:o.image},null,8,At)]),t("td",Gt,u(o.rare),1),a.is_admin?(e(),s(r,{key:0},[t("td",Ot,u(_.format_number(o.point)),1),t("td",Pt,u(o.email),1),t("td",Ft,u(o.gacha_time),1)],64)):l("",!0)]))),256))])])])])),d(v,{show:n.isDialogMessage,class:"h-full fixed inset-0 z-40 top-0"},{default:g(()=>[d(x,{enter:"transition ease-in-out duration-100 transform","enter-from":"scale-50","enter-to":"scale-100",leave:"transition ease-in-out duration-200 transform","leave-from":"opacity-100","leave-to":"opacity-0",as:"template"},{default:g(()=>[t("div",{class:"relative z-20 w-full mx-auto md:w-[768px] h-screen flex items-center",onClick:f[0]||(f[0]=o=>n.isDialogMessage=!1)},[t("img",{src:n.image,class:"mx-auto max-h-[80%] max-w-[80%] w-full object-contain"},null,8,Ht)])]),_:1}),d(x,{enter:"transition-opacity ease-linear duration-100","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-linear duration-100","leave-from":"opacity-100","leave-to":"opacity-0",as:"template"},{default:g(()=>[t("div",{class:"fixed inset-0 bg-white h-full",onClick:f[1]||(f[1]=o=>n.isDialogMessage=!1)})]),_:1})]),_:1},8,["show"])]),_:1})],64)}const Yt=G(O,[["render",Rt]]);export{Yt as default};
