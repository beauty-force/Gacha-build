import{d as y,l as h,o as d,w as b,a as x,b as t,u as s,h as w,c as i,i as a,j as m,e as u,v as p,t as g,k,y as V}from"./app-DdrYHWxP.js";import{A as q}from"./Admin-DhdnQado.js";import"./useConfirm-DXT_ooXi.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"py-2"},U={class:"max-w-3xl mx-auto sm:px-0 lg:px-2"},C={class:"bg-white shadow-sm sm:rounded-lg"},j={class:"p-6 text-gray-900"},F={class:"space-y-6"},N={key:0,class:"text-red-500 text-sm mt-1"},S={key:0,class:"text-red-500 text-sm mt-1"},A={key:0},E={key:0,class:"text-red-500 text-sm mt-1"},M={key:1},T={key:0,class:"text-red-500 text-sm mt-1"},D={class:"flex items-center gap-4"},L={key:0,class:"text-red-500 text-sm mt-1"},O={class:"mt-6 flex justify-end gap-4"},z=["disabled"],G={__name:"Edit",props:{tag:Object,errors:Object},setup(r){const n=r,o=y.useForm({name:n.tag.name||"",type:n.tag.type||"manual",limit:n.tag.limit??n.tag.purchase_amount_limit??null,color_theme:n.tag.color_theme||"#3B82F6"}),c=()=>{o.type==="manual"&&(o.limit=null)},f=()=>{o.post(route("admin.tags.update",n.tag.id))};return(v,e)=>(d(),h(q,null,{default:b(()=>[x(s(y.Head),null,{default:b(()=>[...e[6]||(e[6]=[t("title",null,"タグ編集",-1)])]),_:1}),t("div",B,[t("div",U,[t("div",C,[t("div",j,[e[16]||(e[16]=t("h3",{class:"text-lg font-semibold mb-6"},"タグ編集",-1)),t("form",{onSubmit:w(f,["prevent"])},[t("div",F,[t("div",null,[e[7]||(e[7]=t("label",{for:"name",class:"block text-sm font-medium text-gray-700 mb-1"},[u(" タグ名 "),t("span",{class:"text-red-500"},"*")],-1)),m(t("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>s(o).name=l),type:"text",id:"name",class:"w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",placeholder:"例: VIP会員",required:""},null,512),[[p,s(o).name]]),r.errors.name?(d(),i("div",N,g(r.errors.name),1)):a("",!0)]),t("div",null,[e[9]||(e[9]=t("label",{for:"type",class:"block text-sm font-medium text-gray-700 mb-1"},[u(" タイプ "),t("span",{class:"text-red-500"},"*")],-1)),m(t("select",{"onUpdate:modelValue":e[1]||(e[1]=l=>s(o).type=l),id:"type",onChange:c,class:"w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",required:""},[...e[8]||(e[8]=[t("option",{value:"manual"},"手動（管理者が手動で付与）",-1),t("option",{value:"purchase_amount"},"自動（購入金額で自動付与）",-1),t("option",{value:"point"},"自動（0:00時点の所持ptで自動付与）",-1)])],544),[[k,s(o).type]]),r.errors.type?(d(),i("div",S,g(r.errors.type),1)):a("",!0)]),s(o).type==="purchase_amount"?(d(),i("div",A,[e[10]||(e[10]=t("label",{for:"limit",class:"block text-sm font-medium text-gray-700 mb-1"},[u(" 購入金額制限（円） "),t("span",{class:"text-red-500"},"*")],-1)),m(t("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>s(o).limit=l),type:"number",id:"limit",min:"0",class:"w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",placeholder:"例: 10000",required:""},null,512),[[p,s(o).limit]]),e[11]||(e[11]=t("div",{class:"text-sm text-gray-500 mt-1"}," この金額以上の購入実績があるユーザーに自動的にタグが付与されます ",-1)),r.errors.limit?(d(),i("div",E,g(r.errors.limit),1)):a("",!0)])):a("",!0),s(o).type==="point"?(d(),i("div",M,[e[12]||(e[12]=t("label",{for:"limit",class:"block text-sm font-medium text-gray-700 mb-1"},[u(" pt制限（0:00時点） "),t("span",{class:"text-red-500"},"*")],-1)),m(t("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>s(o).limit=l),type:"number",id:"limit",min:"0",class:"w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",placeholder:"例: 10000",required:""},null,512),[[p,s(o).limit]]),e[13]||(e[13]=t("div",{class:"text-sm text-gray-500 mt-1"}," 毎日0:00時点でこのpt以上の所持があるユーザーに自動的にタグが付与されます ",-1)),r.errors.limit?(d(),i("div",T,g(r.errors.limit),1)):a("",!0)])):a("",!0),t("div",null,[e[14]||(e[14]=t("label",{for:"color_theme",class:"block text-sm font-medium text-gray-700 mb-1"},[u(" 色テーマ "),t("span",{class:"text-red-500"},"*")],-1)),t("div",D,[m(t("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>s(o).color_theme=l),type:"color",id:"color_theme",class:"h-10 w-20 border-gray-300 rounded cursor-pointer",required:""},null,512),[[p,s(o).color_theme]]),m(t("input",{"onUpdate:modelValue":e[5]||(e[5]=l=>s(o).color_theme=l),type:"text",pattern:"^#[0-9A-Fa-f]{6}$",class:"w-32 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",placeholder:"#3B82F6",required:""},null,512),[[p,s(o).color_theme]]),t("div",{class:"w-12 h-8 rounded border border-gray-300",style:V({backgroundColor:s(o).color_theme})},null,4)]),r.errors.color_theme?(d(),i("div",L,g(r.errors.color_theme),1)):a("",!0)])]),t("div",O,[x(s(y.Link),{href:v.route("admin.tags.index"),class:"px-4 py-2 bg-gray-300 hover:bg-gray-400 text-gray-800 rounded-md"},{default:b(()=>[...e[15]||(e[15]=[u(" キャンセル ",-1)])]),_:1},8,["href"]),t("button",{type:"submit",disabled:s(o).processing,class:"px-4 py-2 bg-blue-500 hover:bg-blue-700 text-white rounded-md disabled:opacity-50"}," 更新 ",8,z)])],32)])])])])]),_:1}))}};export{G as default};
