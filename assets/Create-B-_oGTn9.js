import{d as p,p as x,l as w,o as r,w as f,a as n,b as l,u as t,h,c as d,i as a,t as i,j as g,v as y,e as V}from"./app-B-1GpCXn.js";import{B as c}from"./main-DFVO_Sg4.js";import{A as M}from"./Admin-C1MsbjcW.js";import"./isNativeReflectConstruct-zdezgZUv.js";import"./useConfirm-D6HGndBC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const U={class:"py-2"},H={class:"max-w-7xl mx-auto sm:px-0 lg:px-2"},B={class:"bg-white"},L={class:"p-6 text-gray-900"},C={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},j={key:0,class:"text-red-500 text-sm mt-1"},N={key:0,class:"text-red-500 text-sm mt-1"},R={key:0,class:"text-red-500 text-sm mt-1"},q={key:0,class:"text-red-500 text-sm mt-1"},A={class:"text-center w-full"},D=["src"],E={key:0,class:"text-red-500 text-sm mt-1"},S={class:"flex gap-2"},T=["disabled"],F={key:0,class:"text-red-500 text-sm mt-1"},I={class:"flex items-center justify-end space-x-4"},O=["disabled"],X={__name:"Create",setup(z){const s=p.useForm({title:"",image:"",url:"",publish_date:"",start_date:"",end_date:""}),u=x(null),m=x(null),v=()=>{m.value&&(s.image=m.value.files[0]),s.post(route("admin.events.store"))},_=()=>{s.url&&window.open(s.url,"_blank")},k=b=>{const e=b.target.files[0];u.value=URL.createObjectURL(e)};return(b,e)=>(r(),w(M,null,{default:f(()=>[n(t(p.Head),null,{default:f(()=>[...e[5]||(e[5]=[l("title",null,"イベント作成",-1)])]),_:1}),l("div",U,[l("div",H,[l("div",B,[l("div",L,[l("form",{onSubmit:h(v,["prevent"]),class:"space-y-6"},[l("div",C,[l("div",null,[e[6]||(e[6]=l("label",{for:"publish_date",class:"block text-sm font-medium text-gray-700"}," 公開日時 ",-1)),n(t(c),{modelValue:t(s).publish_date,"onUpdate:modelValue":e[0]||(e[0]=o=>t(s).publish_date=o),format:"yyyy-MM-dd HH:mm",class:"mt-1 block w-full"},null,8,["modelValue"]),t(s).errors.publish_date?(r(),d("div",j,i(t(s).errors.publish_date),1)):a("",!0)]),l("div",null,[e[7]||(e[7]=l("label",{for:"start_date",class:"block text-sm font-medium text-gray-700"}," 開始日時 ",-1)),n(t(c),{modelValue:t(s).start_date,"onUpdate:modelValue":e[1]||(e[1]=o=>t(s).start_date=o),format:"yyyy-MM-dd HH:mm",class:"mt-1 block w-full"},null,8,["modelValue"]),t(s).errors.start_date?(r(),d("div",N,i(t(s).errors.start_date),1)):a("",!0)]),l("div",null,[e[8]||(e[8]=l("label",{for:"end_date",class:"block text-sm font-medium text-gray-700"}," 終了日時 ",-1)),n(t(c),{modelValue:t(s).end_date,"onUpdate:modelValue":e[2]||(e[2]=o=>t(s).end_date=o),format:"yyyy-MM-dd HH:mm",class:"mt-1 block w-full"},null,8,["modelValue"]),t(s).errors.end_date?(r(),d("div",R,i(t(s).errors.end_date),1)):a("",!0)])]),l("div",null,[e[9]||(e[9]=l("label",{for:"title",class:"block text-sm font-medium text-gray-700"}," タイトル ",-1)),g(l("input",{id:"title","onUpdate:modelValue":e[3]||(e[3]=o=>t(s).title=o),type:"text",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:""},null,512),[[y,t(s).title]]),t(s).errors.title?(r(),d("div",q,i(t(s).errors.title),1)):a("",!0)]),l("div",null,[l("div",A,[u.value?(r(),d("img",{key:0,src:u.value,class:"inline-block mt-4 h-52"},null,8,D)):a("",!0)]),e[10]||(e[10]=l("label",{for:"image",class:"block text-sm font-medium text-gray-700"}," イベント画像 ",-1)),l("input",{id:"image",type:"file",onChange:k,ref_key:"image",ref:m,class:"mt-1 block w-full border-gray-300"},null,544),t(s).errors.image?(r(),d("div",E,i(t(s).errors.image),1)):a("",!0)]),l("div",null,[e[12]||(e[12]=l("label",{for:"url",class:"block text-sm font-medium text-gray-700"}," 詳細ページURL ",-1)),l("div",S,[g(l("input",{id:"url","onUpdate:modelValue":e[4]||(e[4]=o=>t(s).url=o),type:"url",class:"flex-1 border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:""},null,512),[[y,t(s).url]]),l("button",{type:"button",onClick:_,disabled:!t(s).url,class:"px-3 py-2 bg-blue-500 hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white font-medium rounded-md text-sm",title:"URLを新しいタブで開く"},[...e[11]||(e[11]=[l("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})],-1)])],8,T)]),t(s).errors.url?(r(),d("div",F,i(t(s).errors.url),1)):a("",!0)]),l("div",I,[n(t(p.Link),{href:b.route("admin.events.index"),class:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded"},{default:f(()=>[...e[13]||(e[13]=[V(" キャンセル ",-1)])]),_:1},8,["href"]),l("button",{type:"submit",disabled:t(s).processing,class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded disabled:opacity-50"},i(t(s).processing?"作成中...":"作成"),9,O)])],32)])])])])]),_:1}))}};export{X as default};
