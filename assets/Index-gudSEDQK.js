import{B as L,c,o as a,a as i,u as n,d,w as u,b as t,t as l,i as x,n as m,e as g,F as f,f as b,l as h}from"./app-CUpOazTT.js";import{d as S}from"./index-BWNG55Pa.js";import{u as B}from"./useConfirm-DNxwfvJr.js";import{A as M}from"./Admin-BVkMtbI6.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as V,a as z,b as H}from"./ChevronRightIcon-CUbZXf_8.js";import{r as $}from"./ChevronLeftIcon-CTE8ovt_.js";const D={class:"py-3"},A={class:"w-full"},I={class:"grid grid-cols-1 md:grid-cols-3 gap-3 mx-1 px-2 lg:px-4"},N={class:"bg-gradient-to-br from-yellow-50 to-amber-50 rounded-lg shadow-md border-t-4 border-yellow-400 p-3"},E={class:"flex items-center justify-between"},T={class:"text-3xl font-black text-yellow-600 mt-1"},F={class:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg shadow-md border-t-4 border-green-400 p-3"},J={class:"flex items-center justify-between"},O={class:"text-3xl font-black text-green-600 mt-1"},P={class:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg shadow-md border-t-4 border-blue-400 p-3"},Q={class:"flex items-center justify-between"},G={class:"text-3xl font-black text-blue-600 mt-1"},K={class:"bg-white shadow-sm sm:rounded-lg"},R={class:"p-4 text-gray-900 px-3 lg:px-4"},U={class:"mb-6 border-b border-gray-200"},W={class:"flex space-x-4"},X={class:"overflow-x-auto"},Y={class:"min-w-full divide-y divide-gray-200"},Z={class:"bg-white divide-y divide-gray-200"},tt={class:"px-2 py-2 text-xs text-gray-600 whitespace-nowrap"},et={class:"text-gray-400"},st={class:"px-2 py-2"},rt=["title"],ot={class:"px-2 py-2"},at={class:"flex items-center gap-1.5"},nt=["title"],lt={class:"text-sm text-gray-900 line-clamp-2 leading-tight"},it={class:"px-2 py-2 text-center"},dt={class:"px-2 py-2"},ut={class:"flex justify-center gap-1"},ct=["onClick"],xt={key:0,class:"text-center py-10"},gt={key:0,class:"mt-4 flex flex-col sm:flex-row justify-between items-center gap-3 px-3 lg:px-4"},mt={class:"text-sm text-gray-600 font-medium"},ht={class:"font-bold text-gray-900"},ft={class:"flex items-center gap-1"},pt={key:1,class:"px-2 text-gray-400"},yt={__name:"Index",props:{questions:Object,stats:Object,currentStatus:String},setup(s){const p=s,{confirm:w}=B(),v=L(()=>p.questions.links.filter((o,e)=>e>0&&e<p.questions.links.length-1)),k=async o=>{await w("質問を削除しますか？","この操作は取り消せません。","warning")&&S.Inertia.delete(route("admin.support-questions.destroy",o))},_=o=>({pending:"対応中",answered:"完了",closed:"クローズ"})[o]||o,j=o=>new Date(o).toLocaleDateString("ja-JP",{month:"2-digit",day:"2-digit"}),C=o=>new Date(o).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"});return(o,e)=>(a(),c(f,null,[i(n(d.Head),{title:"サポート質問管理"}),i(M,null,{default:u(()=>[t("div",D,[t("div",A,[t("div",I,[t("div",N,[t("div",E,[t("div",null,[e[0]||(e[0]=t("p",{class:"text-xs font-semibold text-gray-600 uppercase tracking-wide"},"対応中",-1)),t("p",T,l(s.stats.pending),1)]),e[1]||(e[1]=t("div",{class:"flex-shrink-0 w-12 h-12 bg-yellow-400 rounded-full flex items-center justify-center shadow-md"},[t("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),t("div",F,[t("div",J,[t("div",null,[e[2]||(e[2]=t("p",{class:"text-xs font-semibold text-gray-600 uppercase tracking-wide"},"完了",-1)),t("p",O,l(s.stats.answered),1)]),e[3]||(e[3]=t("div",{class:"flex-shrink-0 w-12 h-12 bg-green-400 rounded-full flex items-center justify-center shadow-md"},[t("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),t("div",P,[t("div",Q,[t("div",null,[e[4]||(e[4]=t("p",{class:"text-xs font-semibold text-gray-600 uppercase tracking-wide"},"合計",-1)),t("p",G,l(s.stats.total),1)]),e[5]||(e[5]=t("div",{class:"flex-shrink-0 w-12 h-12 bg-blue-400 rounded-full flex items-center justify-center shadow-md"},[t("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1))])])]),t("div",K,[t("div",R,[t("div",U,[t("nav",W,[i(n(d.Link),{href:o.route("admin.support-questions.index"),class:m([{"border-yellow-500 text-yellow-600":s.currentStatus==="all","border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300":s.currentStatus!=="all"},"whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm"])},{default:u(()=>[...e[6]||(e[6]=[g(" すべて ",-1)])]),_:1},8,["href","class"]),i(n(d.Link),{href:o.route("admin.support-questions.index",{status:"pending"}),class:m([{"border-yellow-500 text-yellow-600":s.currentStatus==="pending","border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300":s.currentStatus!=="pending"},"whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm"])},{default:u(()=>[g(" 対応中 ("+l(s.stats.pending)+") ",1)]),_:1},8,["href","class"]),i(n(d.Link),{href:o.route("admin.support-questions.index",{status:"answered"}),class:m([{"border-yellow-500 text-yellow-600":s.currentStatus==="answered","border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300":s.currentStatus!=="answered"},"whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm"])},{default:u(()=>[g(" 完了 ("+l(s.stats.answered)+") ",1)]),_:1},8,["href","class"])])]),t("div",X,[t("table",Y,[e[10]||(e[10]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-2 py-2 text-left text-xs font-semibold text-gray-600 uppercase"}," 日時 "),t("th",{class:"px-2 py-2 text-left text-xs font-semibold text-gray-600 uppercase"}," 名前 "),t("th",{class:"px-2 py-2 text-left text-xs font-semibold text-gray-600 uppercase"}," 件名 "),t("th",{class:"px-2 py-2 text-center text-xs font-semibold text-gray-600 uppercase"}," 状態 "),t("th",{class:"px-2 py-2 text-center text-xs font-semibold text-gray-600 uppercase"}," 操作 ")])],-1)),t("tbody",Z,[(a(!0),c(f,null,b(s.questions.data,r=>(a(),c("tr",{key:r.id,class:"hover:bg-yellow-50 transition-colors"},[t("td",tt,[t("div",null,l(j(r.created_at)),1),t("div",et,l(C(r.created_at)),1)]),t("td",st,[t("div",{class:"text-sm font-semibold text-gray-900 max-w-[120px] truncate",title:r.name},l(r.name),9,rt)]),t("td",ot,[t("div",at,[r.images&&r.images.length>0?(a(),c("svg",{key:0,class:"w-4 h-4 text-yellow-500 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",title:`${r.images.length}枚の画像`},[...e[7]||(e[7]=[t("path",{"fill-rule":"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z","clip-rule":"evenodd"},null,-1)])],8,nt)):x("",!0),t("div",lt,l(r.subject),1)])]),t("td",it,[t("span",{class:m({"px-2 py-1 inline-flex text-xs font-bold rounded-md":!0,"bg-yellow-100 text-yellow-700":r.status==="pending","bg-green-100 text-green-700":r.status==="answered","bg-gray-100 text-gray-700":r.status==="closed"})},l(_(r.status)),3)]),t("td",dt,[t("div",ut,[i(n(d.Link),{href:o.route("admin.support-questions.show",r.id),class:"text-blue-600 hover:text-blue-800 p-1.5 rounded hover:bg-blue-50 transition-colors",title:"詳細"},{default:u(()=>[...e[8]||(e[8]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])]),_:1},8,["href"]),t("button",{onClick:y=>k(r.id),class:"text-red-600 hover:text-red-800 p-1.5 rounded hover:bg-red-50 transition-colors",title:"削除（クローズ済みのみ）"},[...e[9]||(e[9]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,ct)])])]))),128))])]),s.questions.data.length===0?(a(),c("div",xt,[...e[11]||(e[11]=[t("svg",{class:"w-16 h-16 text-gray-300 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1),t("p",{class:"text-gray-500 font-medium"},"質問がありません",-1)])])):x("",!0)]),s.questions.data.length>0?(a(),c("div",gt,[t("div",mt,[g(l(s.questions.from)+" - "+l(s.questions.to)+" / ",1),t("span",ht,l(s.questions.total),1),e[12]||(e[12]=g("件 ",-1))]),t("div",ft,[s.questions.current_page>1?(a(),h(n(d.Link),{key:0,href:s.questions.first_page_url,class:"px-2 py-1.5 rounded text-sm bg-gray-200 text-gray-700 hover:bg-gray-300 transition-colors font-medium",title:"最初"},{default:u(()=>[i(n(V),{class:"w-4 h-4"})]),_:1},8,["href"])):x("",!0),s.questions.prev_page_url?(a(),h(n(d.Link),{key:1,href:s.questions.prev_page_url,class:"px-2 py-1.5 rounded text-sm bg-gray-200 text-gray-700 hover:bg-gray-300 transition-colors font-medium"},{default:u(()=>[i(n($),{class:"w-4 h-4"})]),_:1},8,["href"])):x("",!0),(a(!0),c(f,null,b(v.value,(r,y)=>(a(),c(f,{key:y},[r.url?(a(),h(n(d.Link),{key:0,href:r.url,class:m({"px-3 py-1 rounded text-sm font-semibold transition-colors":!0,"bg-yellow-500 text-white shadow-md":r.active,"bg-gray-200 text-gray-700 hover:bg-gray-300":!r.active})},{default:u(()=>[g(l(r.label),1)]),_:2},1032,["href","class"])):(a(),c("span",pt,"..."))],64))),128)),s.questions.next_page_url?(a(),h(n(d.Link),{key:2,href:s.questions.next_page_url,class:"px-2 py-1.5 rounded text-sm bg-gray-200 text-gray-700 hover:bg-gray-300 transition-colors font-medium"},{default:u(()=>[i(n(z),{class:"w-4 h-4"})]),_:1},8,["href"])):x("",!0),s.questions.current_page<s.questions.last_page?(a(),h(n(d.Link),{key:3,href:s.questions.last_page_url,class:"px-2 py-1.5 rounded text-sm bg-gray-200 text-gray-700 hover:bg-gray-300 transition-colors font-medium",title:"最後"},{default:u(()=>[i(n(H),{class:"w-4 h-4"})]),_:1},8,["href"])):x("",!0)])])):x("",!0)])])])])]),_:1})],64))}},Lt=q(yt,[["__scopeId","data-v-4ee9baae"]]);export{Lt as default};
