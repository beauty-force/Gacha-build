import{H as x,L as w,r as u,o,c as n,b as f,w as v,F as c,d as l,t as L,f as h,i as p,h as g,a6 as b,a7 as I}from"./app.a8aaf144.js";import{A as B}from"./UserLayout.0b8b02b5.js";import{G as S}from"./GachaCard.5b00158d.js";import{_ as z}from"./_plugin-vue_export-helper.cdc0426e.js";import"./useConfirm.99b265d1.js";import"./index.45ea9f7d.js";import"./GachaButtons.16d1697f.js";import"./PlayIcon.c93a0c7c.js";const C={components:{Head:x,AppLayout:B,Link:w,GachaCard:S},props:{errors:Object,auth:Object,gachas:Object,category_share:Object,show_one_day_gacha:Number},data(){return{orderBy:"order",one_day_gachas:this.gachas.data.filter(t=>t.rank_limit==-2),other_gachas:this.gachas.data.filter(t=>t.rank_limit!=-2)}},computed:{sortedGachas(){let t=this.other_gachas;return this.orderBy=="point_up"&&t.sort((s,e)=>s.status!=e.status?s.status-e.status:s.point-e.point),this.orderBy=="point_down"&&t.sort((s,e)=>s.status!=e.status?s.status-e.status:e.point-s.point),this.orderBy=="order"&&t.sort((s,e)=>s.status!=e.status?s.status-e.status:s.order_level==e.order_level?e.id-s.id:e.order_level-s.order_level),t}},mounted(){this.initializeLazyLoading();const t=sessionStorage.getItem("eve-gacha-top-scroll");t!==null&&(setTimeout(()=>{window.scrollTo(0,parseFloat(t))},100),sessionStorage.removeItem("eve-gacha-top-scroll"))},methods:{format_number(t){return String(t).replace(/(.)(?=(\d{3})+$)/g,"$1,")},initializeLazyLoading(){const t=document.querySelectorAll("img.lazy"),s={root:null,rootMargin:"0px",threshold:.1},e=a=>{a.src=a.dataset.src},m=new IntersectionObserver((a,d)=>{a.forEach(i=>{i.isIntersecting&&(e(i.target),d.unobserve(i.target))})},s);t.forEach(a=>{m.observe(a)})},orderChanged(){this.$nextTick(()=>{this.initializeLazyLoading()})}}},G=t=>(b("data-v-338d854e"),t=t(),I(),t),H={key:0,class:""},j={class:"bg-gradient-to-b from-yellow-100 to-yellow-400 p-4 shadow-lg"},A=G(()=>l("h2",{class:"text-rose-500 text-lg font-bold mb-4 text-center flex items-center justify-center"}," \u{1F308} \u65B0\u898F\u767B\u9332\u8005\u9650\u5B9A\uFF01\u4ECA\u3060\u3051\u5F15\u3051\u308B\u8D85\u304A\u5F97\u306A\u30AA\u30EA\u30D1 \u{1F308} ",-1)),O={class:"grid sm:grid-cols-2 grid-cols-1 gap-4"},N={class:"sm:px-4 px-4 mb-8 grid sm:grid-cols-2 grid-cols-1 gap-4 pt-4 pb-8"};function E(t,s,e,m,a,d){const i=u("Head"),_=u("GachaCard"),k=u("AppLayout");return o(),n(c,null,[f(i,null,{default:v(()=>[l("title",null,L(e.category_share.title)+"\u30AB\u30FC\u30C9\u30AC\u30C1\u30E3",1)]),_:1}),f(k,{is_home:!0},{default:v(()=>[e.show_one_day_gacha&&a.one_day_gachas.length>0?(o(),n("div",H,[l("div",j,[A,l("div",O,[(o(!0),n(c,null,h(a.one_day_gachas,(r,y)=>(o(),p(_,{gacha:r},null,8,["gacha"]))),256))])])])):g("",!0),l("div",N,[(o(!0),n(c,null,h(d.sortedGachas,(r,y)=>(o(),n(c,null,[r.count_rest?(o(),p(_,{key:0,gacha:r},null,8,["gacha"])):g("",!0)],64))),256)),(o(!0),n(c,null,h(d.sortedGachas,(r,y)=>(o(),n(c,null,[r.count_rest?g("",!0):(o(),p(_,{key:0,gacha:r},null,8,["gacha"]))],64))),256))])]),_:1})],64)}const K=z(C,[["render",E],["__scopeId","data-v-338d854e"]]);export{K as default};
