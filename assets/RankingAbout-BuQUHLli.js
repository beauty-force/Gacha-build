import{d as b,r as c,c as n,o as r,a as x,w as m,b as t,l as f,e as h,F as u,f as y,t as a}from"./app-C802-wAc.js";import{A as w}from"./UserLayout-B9sYyGQ-.js";import{_ as v}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useConfirm-D4sTssGe.js";import"./index-DwDZX7OD.js";const L={components:{Head:b.Head,AppLayout:w,Link:b.Link},props:{bonus:Object},data(){return{daily_bonus:[],weekly_bonus:[],monthly_bonus:[],user:null}},mounted(){this.user=b.usePage().props.value.auth.user,this.daily_bonus=this.getRankedOutput(this.bonus.filter(o=>o.period=="daily")),this.weekly_bonus=this.getRankedOutput(this.bonus.filter(o=>o.period=="weekly")),this.monthly_bonus=this.getRankedOutput(this.bonus.filter(o=>o.period=="monthly"))},methods:{format_number(o){return String(o).replace(/(.)(?=(\d{3})+$)/g,"$1,")},getRankedOutput(o){const e=[];for(let l=0;l<o.length;l++){let i=o[l].rank;if(o[l].value==0)continue;let d=i;l<o.length-1&&(d=o[l+1].rank-1);let p=i===d?`${i}`:`${i} ~ ${d}`;o[l].type==="item"&&o[l].item?e.push({rank:p,type:"item",value:o[l].value,item:o[l].item}):e.push({rank:p,type:"point",value:this.format_number(o[l].value)+" coin"})}return e}}},j={class:"h-full flex flex-col px-4 md:px-8 pb-10 md:items-center"},A={class:"pt-4 pb-4"},O={class:"w-full md:w-96"},R={class:"text-sm leading-8"},B={class:"border px-4"},H={class:"border px-4 font-bold"},$={key:0,class:"flex items-center gap-3"},E=["src","alt"],N={key:1,class:"w-12 h-12 flex items-center justify-center border border-gray-200 rounded text-gray-400 text-xs"},V={key:1},C={class:"w-full md:w-96"},F={class:"text-sm leading-8"},S={class:"border px-4"},T={class:"border px-4 font-bold"},D={key:0,class:"flex items-center gap-3"},G=["src","alt"],P={key:1,class:"w-12 h-12 flex items-center justify-center border border-gray-200 rounded text-gray-400 text-xs"},q={key:1},z={class:"w-full md:w-96"},I={class:"text-sm leading-8"},J={class:"border px-4"},K={class:"border px-4 font-bold"},M={key:0,class:"flex items-center gap-3"},Q=["src","alt"],U={key:1,class:"w-12 h-12 flex items-center justify-center border border-gray-200 rounded text-gray-400 text-xs"},W={key:1};function X(o,e,l,i,d,p){const g=c("Head"),_=c("Link"),k=c("AppLayout");return r(),n(u,null,[x(g,{title:"ランキング報酬について"}),x(k,null,{default:m(()=>[t("div",j,[t("div",A,[e[2]||(e[2]=t("h1",{class:"md:text-center md:text-lg font-bold"},"ランキング報酬について",-1)),d.user&&d.user.type==1?(r(),f(_,{key:0,href:o.route("admin.ranking.bonus_edit"),class:"text-sm border border-yellow-500 rounded-full px-3 py-1 hover:text-white hover:bg-yellow-500 absolute top-4 right-3"},{default:m(()=>[...e[0]||(e[0]=[h(" 報酬管理 ",-1)])]),_:1},8,["href"])):(r(),f(_,{key:1,href:o.route("ranking.index"),class:"text-xs md:text-sm border border-yellow-500 rounded-full px-3 py-1 hover:text-white hover:bg-yellow-500 absolute top-4 right-3"},{default:m(()=>[...e[1]||(e[1]=[h(" ガチャランキング ",-1)])]),_:1},8,["href"]))]),e[6]||(e[6]=t("div",{class:"bg-yellow-100 border-l-4 border-yellow-500 p-4 mb-4 text-sm text-yellow-700 w-full md:w-4/5"},[t("p",{class:"font-bold"},"⚠ ランキングについて"),t("p",{class:"mt-2"},"1. ガチャを回した分だけランキングに反映！ 使用したコインの総額がそのままランキングスコアになります。上位に入れば、ガチャに使える豪華ポイントをGET！ ただし、一部対象外のガチャもあるのでご注意ください。"),t("p",{class:"mt-2"},"2. 毎日0:00にランキング更新！ どこまで上がれるか？ ランキングバトルを制して頂点を目指せ！")],-1)),e[7]||(e[7]=t("hr",{class:"w-full mb-2"},null,-1)),e[8]||(e[8]=t("h1",{class:"md:w-96 px-2 py-2 text-base font-bold"},"日次ランキング",-1)),t("table",O,[t("tbody",R,[(r(!0),n(u,null,y(d.daily_bonus,s=>(r(),n("tr",null,[t("td",B,a(s.rank)+"位 ",1),t("td",H,[s.type==="item"&&s.item?(r(),n("div",$,[s.item.image?(r(),n("img",{key:0,src:s.item.image,class:"w-12 h-12 object-contain border border-gray-200 rounded",alt:s.item.name},null,8,E)):(r(),n("span",N," 画像なし ")),t("span",null,a(s.item.name),1)])):(r(),n("span",V,a(s.value),1))])]))),256)),e[3]||(e[3]=t("tr",null,[t("td",{class:"border px-4"}," 報酬付与タイミング "),t("td",{class:"border px-4"}," 翌日未明 ")],-1))])]),e[9]||(e[9]=t("h1",{class:"md:w-96 pt-10 px-2 py-2 text-base font-bold"},"週次ランキング",-1)),t("table",C,[t("tbody",F,[(r(!0),n(u,null,y(d.weekly_bonus,s=>(r(),n("tr",null,[t("td",S,a(s.rank)+"位 ",1),t("td",T,[s.type==="item"&&s.item?(r(),n("div",D,[s.item.image?(r(),n("img",{key:0,src:s.item.image,class:"w-12 h-12 object-contain border border-gray-200 rounded",alt:s.item.name},null,8,G)):(r(),n("span",P," 画像なし ")),t("span",null,a(s.item.name),1)])):(r(),n("span",q,a(s.value),1))])]))),256)),e[4]||(e[4]=t("tr",null,[t("td",{class:"border px-4"}," 報酬付与タイミング "),t("td",{class:"border px-4"}," 翌月曜日未明 ")],-1))])]),e[10]||(e[10]=t("h1",{class:"md:w-96 pt-10 px-2 py-2 text-base font-bold"},"月次ランキング",-1)),t("table",z,[t("tbody",I,[(r(!0),n(u,null,y(d.monthly_bonus,s=>(r(),n("tr",null,[t("td",J,a(s.rank)+"位 ",1),t("td",K,[s.type==="item"&&s.item?(r(),n("div",M,[s.item.image?(r(),n("img",{key:0,src:s.item.image,class:"w-12 h-12 object-contain border border-gray-200 rounded",alt:s.item.name},null,8,Q)):(r(),n("span",U," 画像なし ")),t("span",null,a(s.item.name),1)])):(r(),n("span",W,a(s.value),1))])]))),256)),e[5]||(e[5]=t("tr",null,[t("td",{class:"border px-4"}," 報酬付与タイミング "),t("td",{class:"border px-4"}," 翌月未明 ")],-1))])])])]),_:1})],64)}const ot=v(L,[["render",X]]);export{ot as default};
