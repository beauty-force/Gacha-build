import{d as b,r as n,c as i,o as d,a as r,w as l,b as t,F as g,f as T,i as v,t as y,h as V,j as x,v as h,e as j}from"./app-CcbLVeuA.js";import{A as S}from"./Admin-CENsAmNM.js";import{d as A}from"./index-CnX39Gcm.js";import{S as H,h as L,V as M,G as N,Y as O,u as B}from"./useConfirm-C5PAXQJA.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";const{confirm:F}=B(),P={components:{Head:b.Head,AppLayout:S,Dialog:O,DialogPanel:N,DialogTitle:M,TransitionChild:L,TransitionRoot:H},props:{errors:Object,auth:Object,category_share:Object,videos:Object},data(){return{open:!1}},methods:{submit(){this.$refs.video.files.length>0?this.form.video=this.$refs.video.files[0]:this.form.video="",this.form.post(route("admin.video.store"))},open_form(s){this.form.id=s?s.id:0,this.form.gacha_id=s?s.gacha_id:0,this.form.group=s?s.group:"",this.form.level=s?s.level:"",this.open=!0},destroy(s){F("削除してもいいですか？","","error").then(e=>{e&&A.Inertia.delete(route("admin.video.destroy",{id:s}),{preserveScroll:!0})})}},setup(s){return{form:b.useForm({id:0,gacha_id:0,group:"",level:"",video:""})}}},R={class:"pt-6 md:px-6 px-4"},z={key:0,class:"w-full mb-2 py-2 border-b"},G={class:"max-w-48 px-2"},U={class:"max-w-32"},Y=["src"],q={class:"flex-1 justify-end flex gap-2"},I=["onClick"],J=["onClick"],K={class:"fixed inset-0 z-20 overflow-y-auto"},Q={class:"flex min-h-full items-center justify-center p-4 text-center sm:items-center sm:p-0"},W={class:"mb-4 space-y-1"},X={id:"video",ref:"video",type:"file",accept:"video/*",class:"w-full"},Z={class:"text-center"};function $(s,e,c,u,a,m){const _=n("Head"),f=n("TransitionChild"),w=n("DialogPanel"),k=n("Dialog"),C=n("TransitionRoot"),D=n("AppLayout");return d(),i(g,null,[r(_,{title:"ガチャ演出動画設定"}),r(D,{hide_cat_bar:1,closeModal:()=>{a.open=!1}},{default:l(()=>[t("div",R,[t("button",{onClick:e[0]||(e[0]=()=>{m.open_form(null)}),class:"rounded-lg bg-rose-500 hover:bg-rose-400 text-sm text-white px-4 py-1 mb-3"},"登録"),(d(!0),i(g,null,T(c.videos,(o,p)=>(d(),i("div",{class:"mb-4 flex items-center flex-wrap gap-2",key:p},[p==0||c.videos[p-1].group!==o.group?(d(),i("div",z," 「"+y(o.group)+"」 ",1)):v("",!0),t("div",G," 「"+y(o.level)+"」 動画 : ",1),t("div",U,[o.file?(d(),i("video",{key:0,class:"inline-block max-h-96",src:o.file,type:"video/mp4",controls:""},null,8,Y)):v("",!0)]),t("div",q,[t("button",{onClick:()=>{m.open_form(o)},class:"rounded-lg bg-yellow-500 hover:bg-yellow-400 text-sm text-white px-4 py-1"},"編集",8,I),t("button",{onClick:ee=>m.destroy(o.id),class:"rounded-lg px-3 py-1 bg-red-500 text-sm text-neutral-50"}," 削除 ",8,J)])]))),128))]),t("template",null,[r(C,{as:"template",show:a.open},{default:l(()=>[r(k,{as:"div",class:"relative z-20",onClose:e[5]||(e[5]=o=>a.open=!1),open:a.open},{default:l(()=>[r(f,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:l(()=>[...e[6]||(e[6]=[t("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)])]),_:1}),t("div",K,[t("div",Q,[r(f,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:l(()=>[r(w,{class:"p-3 relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-md"},{default:l(()=>[t("form",{onSubmit:e[4]||(e[4]=V(o=>m.submit(),["prevent"]))},[t("div",W,[e[7]||(e[7]=t("label",{for:"group",class:"block font-medium text-sm text-neutral-700"},"グループ",-1)),x(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>u.form.group=o),id:"group",type:"text",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"入力してください"},null,512),[[h,u.form.group]]),e[8]||(e[8]=t("label",{for:"level",class:"block font-medium text-sm text-neutral-700"},[j("名前"),t("span",{class:"text-red-500"},"*")],-1)),x(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>u.form.level=o),id:"level",type:"text",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"入力してください",required:""},null,512),[[h,u.form.level]]),e[9]||(e[9]=t("label",{for:"video",class:"block font-medium text-neutral-700 mb-2"},"動画ファイル選択 ",-1)),t("input",X,null,512)]),t("div",Z,[e[10]||(e[10]=t("button",{type:"submit",class:"inline-block items-center px-8 py-2 bg-green-500 border border-transparent rounded-md font-semibold text-sm text-white uppercase tracking-widest hover:bg-green-700 active:bg-green-700 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150 mr-2"}," 登録 ",-1)),t("button",{type:"button",onClick:e[3]||(e[3]=o=>a.open=!1),class:"inline-block items-center px-8 py-2 bg-red-500 border border-transparent rounded-md font-semibold text-sm text-white uppercase tracking-widest hover:bg-red-700 active:bg-red-700 focus:outline-none focus:border-red-700 focus:shadow-outline-red transition ease-in-out duration-150"}," キャンセル ")])],32)]),_:1})]),_:1})])])]),_:1},8,["open"])]),_:1},8,["show"])])]),_:1},8,["closeModal"])],64)}const le=E(P,[["render",$]]);export{le as default};
