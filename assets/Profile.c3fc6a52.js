import{H as k,u as v,r as u,o as d,c as i,b as p,w as y,F as b,d as t,t as a,h as m,Z as h,e as n,f as T}from"./app.9073e441.js";import{A as w}from"./UserLayout.257f1a55.js";import{_ as P}from"./_plugin-vue_export-helper.cdc0426e.js";import{r as H}from"./PlayIcon.9258947d.js";import"./useConfirm.8fae3221.js";import"./index.018ad655.js";const L={components:{Head:k,AppLayout:w,PlayIcon:H},props:{ranks:Object,total:Number,current:Number,limit:Number,succeed:Boolean},data(){return{user:null,current_rank:null,next_rank:null,current_pos:0,maintenance_pos:0,current_value:0}},methods:{pt_rate_string(s){return s.limit<0?'<span class="text-[1.2em]">???</span>':s.pt_rate<=0?'<span class="text-[1.2em]">\u2014</span>':`${s.pt_rate}%\u4ED8\u4E0E<br/>(\u8CFC\u5165\u6642PT\u306E)`},format_number(s){return String(s).replace(/(.)(?=(\d{3})+$)/g,"$1,")},bonus_pt_string(s){return s.limit<0?'<span class="text-[1.2em]">???</span>':s.bonus<=0?'<span class="text-[1.2em]">\u2014</span>':`${this.format_number(s.bonus)}PT`},animateProgress(){const s=this.current/this.total*100;this.current_pos=0;const _=1e3,r=Date.now(),x=()=>{const e=Date.now()-r,l=Math.min(e/_,1),c=1-Math.pow(1-l,3);this.current_pos=s*c,this.current_value=Math.floor(this.current*c),l<1&&requestAnimationFrame(x)};requestAnimationFrame(x)}},mounted(){this.user=v().props.value.auth.user,this.current_rank=this.ranks.filter(s=>s.rank==this.user.current_rank)[0],this.next_rank=this.ranks.filter(s=>s.rank>this.user.current_rank)[0],this.maintenance_pos=this.limit/this.total*100,setTimeout(()=>{this.animateProgress()},50)}},M={class:"px-2 md:px-10"},W=t("p",{class:"py-3 px-6 -mx-2 md:-mx-10 font-bold align-middle text-base md:text-xl border"},"\u30DE\u30A4\u30DA\u30FC\u30B8",-1),S={key:0,class:"py-4 md:py-6 px-3 md:px-5 mx-2 md:mx-4 bg-neutral-200 rounded-b-xl shadow-inner text-xs md:text-sm"},j={class:"mx-4 text-center"},C={class:"font-bold text-lg md:text-xl"},N=["src"],A={class:"mt-4 px-2 text-center"},F={class:"flex justify-between items-center mb-2"},B={class:"text-xs md:text-sm font-bold"},E={key:0,class:"text-xs md:text-sm font-bold text-rose-500"},V={class:"flex border-t border-b mt-2 relative h-5 md:h-6 px-2"},z=t("span",{class:"h-full rounded-l-md border border-neutral-800 px-4 bg-neutral-400/20 font-bold z-10 flex items-center"},"\u6D88\u8CBB PT",-1),D={class:"flex-1 relative h-full bg-gray-50 rounded-r-xl overflow-hidden border-t border-b border-r border-neutral-800"},q={class:"absolute left-0 right-0 top-0 bottom-0 z-10"},O={key:0,class:"w-full flex justify-end my-3 px-2"},I={class:"w-fit flex px-3 py-0.5 items-center bg-neutral-400/10 border border-neutral-400 rounded-full"},Z={key:0,class:"text-xs md:text-sm text-green-600"},G={key:1,class:"text-xs md:text-sm"},J=t("div",{class:"text-center mt-6"},[t("span",{class:"text-sm md:text-lg text-black font-extrabold border bg-neutral-400/20 border-neutral-400 px-3 py-0.5"},"\u25A0 \u73FE\u5728\u53D7\u3051\u3089\u308C\u308B\u7279\u5178\u4E00\u89A7 \u25A0")],-1),K={class:"rounded-lg bg-neutral-50 drop-shadow-[0px_0px_10px_rgba(0,0,0,0.1)] mt-5 mx-1 py-2 px-4 font-bold text-xs md:text-sm leading-5 md:leading-7"},Q=t("p",{class:"mt-6 px-6 font-bold align-middle text-sm md:text-lg"},[t("span",{class:"text-[0.6em]"},"\u25A0"),n(" \u4F1A\u54E1\u30E9\u30F3\u30AF\u306B\u3064\u3044\u3066")],-1),R=t("div",{class:"px-6 mt-1 mb-4 font-bold text-xs md:text-sm"},[t("p",{class:"pb-1 leading-5 md:leading-7"}," \u30DC\u30FC\u30CA\u30B9PT\u3084EP\u4ED8\u4E0E\u7387\u4E0A\u6607\u3001 \u30E9\u30F3\u30AF\u9650\u5B9A\u30AA\u30EA\u30D1\u306A\u3069\u3001\u3055\u307E\u3056\u307E\u306A\u7279\u5178\u304C\u53D7\u3051 \u3089\u308C\u307E\u3059\u3002 ")],-1),U=t("hr",{class:"mt-2 md:mt-4 mb-5 md:mb-6 mx-4 md:mx-6 border-neutral-300 border"},null,-1),X=t("p",{class:"px-6 font-bold align-middle text-sm md:text-lg"},[t("span",{class:"text-[0.6em]"},"\u25A0"),n(" \u30E9\u30F3\u30AF\u30A2\u30C3\u30D7\u6761\u4EF6")],-1),Y=t("div",{class:"px-6 mt-1 font-bold text-xs md:text-sm"},[t("p",{class:"pb-1 leading-5 md:leading-7"},[n(" \u30E9\u30F3\u30AF\u306F\u7D2F\u7A4D\u306EPT\u6D88\u8CBB\u6570\u306B\u3088\u3063\u3066\u5909\u52D5\u3057\u307E\u3059\u3002"),t("br"),n(" \u5404\u30E9\u30F3\u30AF\u6761\u4EF6\u3092\u6E80\u305F\u3059\u3068\u3001 \u5373\u6642\u306B\u6B21\u306E\u30E9\u30F3\u30AF\u3078\u3068\u79FB\u884C\u3057\u307E\u3059\u3002"),t("br"),t("span",{class:"text-[#FF0000]"}," \u203BPT\u306E\u7D2F\u7A4D\u306F\u6BCE\u67081\u65E50:00\u3067\u30EA\u30BB\u30C3\u30C8\u3055\u308C\u307E\u3059\u3002 ")])],-1),$={class:"px-6 mt-8 font-bold text-xs md:text-sm"},tt={class:"pb-1 leading-5 md:leading-7"},et={class:"text-green-400 font-extrabold text-sm md:text-base"},st=t("p",{class:"pb-1 leading-5 md:leading-7"}," 1\u30F6\u6708\u9593\u306750%\u672A\u6E80\u306E\u5834\u5408\u306F\u73FE\u5728\u306E\u30E9\u30F3\u30AF\u304B\u30891\u3064\u30E9\u30F3\u30AF\u30C0\u30A6\u30F3\u3057\u307E\u3059\u3002 ",-1),nt=t("hr",{class:"mt-5 md:mt-8 mb-8 md:mb-10 mx-4 md:mx-6 border-neutral-300 border"},null,-1),rt=t("p",{class:"mb-6 px-4 font-bold align-middle text-sm md:text-lg"},[t("span",{class:"text-[0.6em]"},"\u25A0"),n(" \u30E9\u30F3\u30AF\u7279\u5178")],-1),lt=t("div",{class:"w-full flex items-center mb-[-0.4em] text-[0.7em] sm:text-[1em]"},[t("div",{class:"w-[30%] text-center font-bold text-[1.1em]"},"\u30E9\u30F3\u30AF"),t("div",{class:"w-[30%] text-center font-bold text-[0.9em]"},"\u8CFC\u5165\u6642PT\u4ED8\u4E0E\u7279\u5178"),t("div",{class:"w-[16%] text-center font-bold text-[0.8em]"},"EP\u4ED8\u4E0E\u7387"),t("div",{class:"w-[24%] text-center font-bold text-[0.8em] leading-[1.2em] sm:leading-[1.5em]"},[n(" \u30E9\u30F3\u30AF\u30A2\u30C3\u30D7"),t("br"),n("\u30DC\u30FC\u30CA\u30B9PT")])],-1),ot={class:"flex flex-wrap border-neutral-200 items-center gap-[0.8em]"},at={class:"flex-1 flex bg-neutral-200 rounded-lg justify-center relative"},dt={class:"w-full flex items-center"},it={class:"text-center text-[0.8em] font-bold text-white w-[30%] h-full flex items-center justify-center"},ct=["src"],mt={class:"text-center flex gap-[0.4em] absolute items-end h-full"},xt={class:"relative flex justify-center text-[0.9em] drop-shadow-xl"},_t={class:"leading-[1.2em]",style:{WebkitTextStrokeColor:"black",WebkitTextStrokeWidth:"2px"}},ut={class:"absolute leading-[1.2em]"},pt=t("div",{class:"h-full w-[0.3em] bg-white"},null,-1),bt={class:"text-center text-[1em] text-black font-black w-[30%] h-full flex flex-col items-center justify-center relative"},ht=["innerHTML"],ft=["innerHTML"],gt=t("div",{class:"h-full w-[0.3em] bg-white"},null,-1),kt={class:"w-[40%] flex divide-x-[0.3em] divide-white h-full relative"},vt={class:"text-center text-[1em] text-black font-black w-[40%] h-full flex items-center justify-center"},yt=["innerHTML"],Tt=["innerHTML"],wt={class:"text-center text-[1em] text-black font-black w-[60%] h-full flex items-center justify-center relative"},Pt=["innerHTML"],Ht=["innerHTML"],Lt=t("div",{class:"py-4 px-2 md:px-8"},[t("p",{class:"font-bold text-sm md:text-lg"},"\u3010\u8CFC\u5165\u6642PT\u7279\u5178\u306B\u3064\u3044\u3066\u3011"),t("p",{class:"text-xs md:text-sm px-2 py-2"},[n(" \u8CFC\u5165\u3059\u308B\u91D1\u984D\u3054\u3068\u306E\u30DC\u30FC\u30CA\u30B9PT\u3067\u3059\u3002"),t("br"),n(" \u8CFC\u5165\u6642\u70B9\u306E\u30E9\u30F3\u30AF\u306B\u5FDC\u3058\u3066\u4ED8\u4E0E\u3055\u308C\u307E\u3059\u3002 ")]),t("p",{class:"font-bold text-sm md:text-lg pt-2"}," \u3010\u30E9\u30F3\u30AF\u30A2\u30C3\u30D7\u30DC\u30FC\u30CA\u30B9PT\u306B\u3064\u3044\u3066\u3011 "),t("p",{class:"text-xs md:text-sm px-2 py-2"},[n(" \u30E9\u30F3\u30AF\u6607\u683C\u6642\u306B\u30DC\u30FC\u30CA\u30B9PT\u304C\u4ED8\u4E0E\u3055\u308C\u307E\u3059\u3002"),t("br"),n(" \u203B\u6607\u683C\u6642\u30DC\u30FC\u30CA\u30B9\u306F\u81EA\u52D5\u3067\u52A0\u7B97\u3055\u308C\u307E\u3059\u3002 ")]),t("p",{class:"font-bold text-sm md:text-lg pt-2"}," \u3010\u30E9\u30F3\u30AF\u9650\u5B9A\u30AA\u30EA\u30D1\u89E3\u653E\u306B\u3064\u3044\u3066\u3011 "),t("p",{class:"text-xs md:text-sm px-2 py-2"}," \u5404\u30E9\u30F3\u30AF\u6BCE\u306B\u9650\u5B9A\u30AA\u30EA\u30D1\u304C\u89E3\u653E\u3055\u308C\u307E\u3059\u3002 "),t("hr",{class:"my-4 mx-2 border-neutral-300 border"}),t("p",{class:"px-2 font-bold text-sm md:text-lg"},[t("span",{class:"text-[0.6em]"},"\u25A0"),n(" \u6CE8\u610F\u4E8B\u9805")]),t("p",{class:"text-xs md:text-sm px-2 py-2"},[n(" \u30ED\u30B0\u30A4\u30F3\u30AA\u30EA\u30D1\u3001\u4E00\u90E8\u9650\u5B9A\u30AC\u30C1\u30E3\u306A\u3069\u306F\u30E9\u30F3\u30AF\u30DD\u30A4\u30F3\u30C8\u304A\u3088\u3073\u30AC\u30C1\u30E3\u30E9\u30F3\u30AD\u30F3\u30B0\u306E\u5897\u6E1B\u5BFE\u8C61\u306B\u306F\u306A\u308A\u307E\u305B\u3093\u3002"),t("br"),n(" \u4F1A\u54E1\u30E9\u30F3\u30AF\u306E\u6607\u683C\u6761\u4EF6\u3001 \u7DAD\u6301\u6761\u4EF6\u3001 \u6607\u683C\u6761\u4EF6\u3001 \u7279\u5178\u5185\u5BB9\u306F\u4E88\u544A\u306A\u304F\u5909\u66F4\u3068\u306A\u308B\u5834\u5408\u304C\u3054\u3056\u3044\u307E\u3059\u3002 \u3042\u3089\u304B\u3058\u3081\u3054\u4E86\u627F\u304F\u3060\u3055\u3044\u3002"),t("br"),n(" \u30E9\u30F3\u30AF\u6607\u683C\u6642\u306B\u30B2\u30FC\u30B8\u306F\u521D\u671F\u306E\u4F4D\u7F6E\u306B\u623B\u308A\u307E\u3059\u3002 ")])],-1);function Mt(s,_,r,x,e,l){const c=u("Head"),f=u("AppLayout");return d(),i(b,null,[p(c,{title:"\u30DE\u30A4\u30DA\u30FC\u30B8"}),p(f,null,{default:y(()=>[t("div",M,[W,e.current_rank?(d(),i("div",S,[t("div",j,[t("span",C,a(e.current_rank.title),1),t("img",{src:e.current_rank.badge,class:"p-1 w-full max-w-48 mx-auto"},null,8,N)]),t("div",A,[t("div",F,[t("span",B,"\u4ECA\u6708\u306E\u6D88\u8CBBPT: "+a(l.format_number(e.current_value))+" pt",1),r.total>0?(d(),i("span",E," \u6B21\u30E9\u30F3\u30AF\u307E\u3067: "+a(l.format_number(r.total-e.current_value))+" pt ",1)):m("",!0)])]),t("div",V,[z,t("div",D,[t("div",q,[t("div",{class:"h-full bg-gradient-to-b from-[#01b4ef] via-[#00bffa] to-[#0488c3] transition-all duration-1000 ease-out",style:h({width:`${e.current_pos}%`})},null,4)]),e.current_value<r.limit?(d(),i("div",{key:0,class:"absolute top-0 bottom-0 bg-rose-500/30 border-r border-rose-500 left-0",style:h({right:`${100-e.maintenance_pos}%`})},null,4)):m("",!0)])]),e.current_rank.rank>1?(d(),i("div",O,[t("div",I,[r.current>=r.limit?(d(),i("span",Z,"\u30E9\u30F3\u30AF\u7DAD\u6301\u9054\u6210")):(d(),i("span",G," \u30E9\u30F3\u30AF\u7DAD\u6301\u307E\u3067 : "+a(l.format_number(r.limit-r.current))+" pt ",1))])])):m("",!0),J,t("div",K,[t("p",null,"\u30FB\u30E9\u30F3\u30AF\u30A2\u30C3\u30D7\u30DC\u30FC\u30CA\u30B9 \xA0\xA0\xA0"+a(e.current_rank.bonus>0?l.format_number(e.current_rank.bonus):"\u2014")+" pt",1),t("p",null,a(e.current_rank.pt_rate>0?`\u30FB\u8CFC\u5165\u91D1\u984D\u3054\u3068\u306B \xA0\xA0\xA0${e.current_rank.pt_rate} %\u30DC\u30FC\u30CA\u30B9PT\u4ED8\u4E0E`:"\u30FB\u8CFC\u5165\u91D1\u984D\u3054\u3068\u306EPT\u4ED8\u4E0E \xA0\xA0\xA0\u901A\u5E38"),1),t("p",null,"\u30FBEP\u4ED8\u4E0E\u7387 \xA0\xA0\xA0"+a(e.current_rank.dp_rate>0?`${e.current_rank.dp_rate} %`:"\u901A\u5E38"),1)])])):m("",!0),Q,R,U,X,Y,t("div",$,[t("p",tt,[t("span",et,a(r.ranks[r.ranks.length-2].title),1),n("\u4EE5\u4E0A\u306E\u30E9\u30F3\u30AF\u306B\u95A2\u3057\u3066\u306F\u3001 \u524D\u6708\u307E\u3067\u306B\u9054\u6210\u3057\u305F\u30E9\u30F3\u30AF\u6761\u4EF6\u3067\u3042\u308BPT\u6D88\u8CBB\u6570\u306E50%\u4EE5\u4E0A\u30921\u30F6\u6708\u4EE5\u5185\u306B\u9054\u6210\u3057\u3066\u3044\u308C\u3070\u3001\u305D\u306E\u30E9\u30F3\u30AF\u304C\u7DAD\u6301\u3055\u308C\u307E\u3059\u3002 ")]),st]),nt,rt,lt,(d(!0),i(b,null,T(r.ranks,(o,g)=>(d(),i("div",{class:"my-[0.8em] md:my-[1.1em] text-[0.7em] sm:text-[1em]",key:g},[t("div",ot,[t("div",at,[t("div",dt,[t("div",it,[t("img",{src:o.badge,class:"h-[15vw] max-h-[90px] -my-0.5"},null,8,ct),t("div",mt,[t("div",xt,[t("span",_t,"( "+a(o.title)+" )",1),t("span",ut,"( "+a(o.title)+" )",1)])])]),pt,t("div",bt,[t("span",{class:"leading-[1.4em]",innerHTML:l.pt_rate_string(o),style:{WebkitTextStrokeColor:"white",WebkitTextStrokeWidth:"2px"}},null,8,ht),t("span",{class:"absolute leading-[1.4em]",innerHTML:l.pt_rate_string(o)},null,8,ft)]),gt,t("div",kt,[t("div",vt,[t("span",{innerHTML:o.dp_rate>0?o.dp_rate+"%":"<span class='text-[1.2em]'>???</span>",style:{WebkitTextStrokeColor:"white",WebkitTextStrokeWidth:"2px"}},null,8,yt),t("span",{class:"absolute",innerHTML:o.dp_rate>0?o.dp_rate+"%":"<span class='text-[1.2em]'>???</span>"},null,8,Tt)]),t("div",wt,[t("span",{class:"leading-[1.4em]",innerHTML:l.bonus_pt_string(o),style:{WebkitTextStrokeColor:"white",WebkitTextStrokeWidth:"2px"}},null,8,Pt),t("span",{class:"absolute leading-[1.4em]",innerHTML:l.bonus_pt_string(o)},null,8,Ht)])])])])])]))),128)),Lt])]),_:1})],64)}const Ft=P(L,[["render",Mt]]);export{Ft as default};
