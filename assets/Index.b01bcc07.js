import{L as C,H as L,E as A,G as p,r as a,o as c,c as u,b as l,w as g,F as h,d as e,I as _,J as b,K as m,t as f,g as I,f as D,n as U}from"./app.cb625447.js";import{A as V}from"./Admin.605ae46a.js";import{V as S,r as M,a as j}from"./ArrowLongUpIcon.92eca48f.js";import{_ as F}from"./_plugin-vue_export-helper.cdc0426e.js";import"./toastify.3bc1ff5d.js";const H={components:{Link:C,Head:L,AppLayout:V,draggable:S,ArrowLongUpIcon:M,ArrowLongDownIcon:j},props:{errors:Object,auth:Object,categories:Object},methods:{log(){},submit(){this.new_form.post(route("admin.category.store"),{onSuccess:()=>this.new_form.reset(),preserveScroll:!0})},destroy(r){confirm("\u524A\u9664\u3057\u3066\u3082\u3044\u3044\u3067\u3059\u304B\uFF1F")&&A.Inertia.delete(route("admin.category.destroy",r),{preserveScroll:!0})},levelUp(r){let t;for(t=1;t<this.categories.data.length&&this.categories.data[t].id!=r;t++);t<this.categories.data.length&&this.arrayMove(t,t-1)},arrayMove(r,t){this.categories.data.splice(t,0,this.categories.data.splice(r,1)[0])},levelDown(r){let t;for(t=0;t<this.categories.data.length-1&&this.categories.data[t].id!=r;t++);t<this.categories.data.length-1&&this.arrayMove(t,t+1)},submit_order(){this.order_form.categories=this.categories,this.order_form.post(route("admin.category.sorting.store"),{preserveScroll:!0,onFinish:()=>{}})}},data(){return{open:!0,dragging:!1}},setup(r){const t=p({title:""}),s=p({categories:[]});return{new_form:t,order_form:s}},mounted(){}},N={class:"md:px-4 px-2"},B=e("div",{class:"border-b w-full p-2 my-2 font-semibold"},[e("h3",null,"\u30AB\u30C6\u30B4\u30EA\u30FC")],-1),O={class:""},q={class:"m-auto min-w-full text-sm font-medium"},E={class:"border-t"},z={class:"border-b border-r border-l"},G=e("td",{class:"bg-neutral-300 px-3 py-2 whitespace-nowrap border-r w-32"},"\u30AB\u30C6\u30B4\u30EA\u30FC",-1),J={class:"font-light p-1 whitespace-nowrap"},K={key:0,class:"text-red-600 mt-1 text-center"},T=e("div",{class:"text-center py-2"},[e("button",{type:"submit",class:"w-32 bg-neutral-500 hover:bg-neutral-700 text-white text-sm font-normal py-2 px-5 rounded"}," \u767B\u9332 ")],-1),P=e("hr",{class:"my-4"},null,-1),Q={class:"text-center pb-2"},R=e("div",{class:"border-b border-r border-l bg-neutral-300 p-2"}," \u30AB\u30C6\u30B4\u30EA\u30FC\u7DE8\u96C6 ",-1),W={class:"flex mb-1"},X={class:"px-2"},Y={class:"flex-1 rounded-md text-left cursor-pointer border h-12 border-neutral-500 flex items-center hover:bg-neutral-100 focus:bg-neutral-100 gap-2"},Z={class:"flex-1 whitespace-nowrap h-full"},$=["onUpdate:modelValue"],ee={class:"align-middle h-full flex items-center gap-1"},te=["onClick"],oe=["onClick"],re=["onClick"],se={class:"p-1 flex justify-center"},ne=["disabled"],ae=e("div",{class:"inline-block"},"\u4FDD\u5B58\u3059\u308B",-1),le=[ae];function ie(r,t,s,i,de,n){const v=a("Head"),x=a("ArrowLongUpIcon"),w=a("ArrowLongDownIcon"),y=a("draggable"),k=a("AppLayout");return c(),u(h,null,[l(v,{title:"\u30AB\u30C6\u30B4\u30EA\u30FC"}),l(k,null,{default:g(()=>[e("div",N,[B,e("div",O,[e("form",{onSubmit:t[1]||(t[1]=_(o=>n.submit(),["prevent"]))},[e("table",q,[e("tbody",E,[e("tr",z,[G,e("td",J,[b(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>i.new_form.title=o),type:"text",class:"bg-neutral-50 border border-neutral-300 text-neutral-900 text-sm rounded-lg block px-2 py-1.5 w-full focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50",placeholder:"",required:""},null,512),[[m,i.new_form.title]]),s.errors.title?(c(),u("div",K,f(s.errors.title),1)):I("",!0)])])])]),T],32)]),P,e("div",Q,[R,e("div",W,[l(y,{class:"w-full list-group",list:s.categories.data,onChange:n.log},{default:g(()=>[(c(!0),u(h,null,D(s.categories.data,o=>(c(),u("div",{class:"my-1 flex w-full items-center",key:o.id},[e("div",X,f(o.id),1),e("div",Y,[e("div",Z,[b(e("input",{"onUpdate:modelValue":d=>o.title=d,type:"text",class:"bg-neutral-50 text-neutral-900 text-sm rounded-l-md border-neutral-300 block px-2 h-full w-full focus:border-blue-400 focus:ring focus:ring-blue-200 focus:ring-opacity-50",placeholder:"",required:""},null,8,$),[[m,o.title]])]),e("div",ee,[e("button",{onClick:_(d=>n.levelUp(o.id),["prevent"]),class:"bg-neutral-700 rounded p-1 hover:bg-neutral-600"},[l(x,{class:"w-5 h-5 text-white block"})],8,te),e("button",{onClick:_(d=>n.levelDown(o.id),["prevent"]),class:"bg-neutral-700 rounded p-1 hover:bg-neutral-600"},[l(w,{class:"w-5 h-5 text-white block"})],8,oe)]),e("button",{onClick:d=>n.destroy(o.id),class:"bg-red-500 hover:bg-red-700 text-white text-sm font-normal py-1 px-2 mr-2 rounded"},"\u524A\u9664",8,re)])]))),128))]),_:1},8,["list","onChange"])]),e("div",se,[e("button",{onClick:t[2]||(t[2]=_(o=>n.submit_order(),["prevent"])),class:U([{"opacity-25":i.order_form.processing},"w-32 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-normal py-2 px-3 inline-block rounded"]),disabled:i.order_form.processing},le,10,ne)])])])]),_:1})],64)}const he=F(H,[["render",ie]]);export{he as default};
