import{r as f,o as r,c,g as d,b as m,t as s,d as t,n as p,H as w,L as k,G as v,w as C,F as u,J as j,K as L,f as h}from"./app.e942467d.js";import{A as P}from"./Admin.96a0f437.js";import{_ as x}from"./_plugin-vue_export-helper.cdc0426e.js";import{r as H}from"./ChevronRightIcon.028cf85e.js";import{a as I}from"./toastify.63cf126b.js";import{r as O}from"./EllipsisHorizontalIcon.eb4148aa.js";const S={components:{ChevronRightIcon:H,ChevronLeftIcon:I,EllipsisHorizontalIcon:O},props:{callback:Function,total:Number},data(){return{page:1}},methods:{}},F={key:0,class:"flex justify-center items-center"},N={key:1,class:"p-2"},z={key:4,class:"p-2"};function A(a,o,e,_,l,i){const b=f("EllipsisHorizontalIcon");return e.total>1?(r(),c("div",F,[l.page>1?(r(),c("button",{key:0,onClick:o[0]||(o[0]=()=>{e.callback(l.page=1)}),class:"rounded-l-md border w-9 h-9 flex justify-center items-center hover:bg-neutral-200"},"1")):d("",!0),l.page>3?(r(),c("span",N,[m(b,{class:"w-5"})])):d("",!0),l.page>2?(r(),c("button",{key:2,onClick:o[1]||(o[1]=()=>{e.callback(l.page=l.page-1)}),class:"border w-9 h-9 flex justify-center items-center hover:bg-neutral-200"},s(l.page-1),1)):d("",!0),t("button",{onClick:o[2]||(o[2]=()=>{e.callback(l.page)}),class:p(["w-9 h-9 flex justify-center items-center text-white bg-neutral-600",{"rounded-l-md":l.page==1,"rounded-r-md":l.page==e.total}])},s(l.page),3),l.page+1<e.total?(r(),c("button",{key:3,onClick:o[3]||(o[3]=()=>{e.callback(l.page=l.page+1)}),class:"border w-9 h-9 flex justify-center items-center hover:bg-neutral-200"},s(l.page+1),1)):d("",!0),l.page+2<e.total?(r(),c("span",z,[m(b,{class:"w-5"})])):d("",!0),l.page<e.total?(r(),c("button",{key:5,onClick:o[4]||(o[4]=()=>{e.callback(l.page=e.total)}),class:"rounded-r-md border w-9 h-9 flex justify-center items-center hover:bg-neutral-200"},s(e.total),1)):d("",!0)])):d("",!0)}const D=x(S,[["render",A]]),E={components:{Head:w,AppLayout:P,Link:k,PaginationClientSide:D},props:{errors:Object,user:Object,profile:Object,payments:Object,coupons:Object,point_logs:Object,show_limit:Number},mounted(){},methods:{submit(){this.form.post(route("admin.users.update"),{preserveScroll:!0,onFinish:()=>{}})},format_number(a){return String(a).replace(/(.)(?=(\d{3})+$)/g,"$1,")},onPageChange(a){this.current_page=a}},data(){return{current_page:1}},setup(a){const o=v({id:a.user.id,point:a.user.point}),e=Math.floor((a.point_logs.length+a.show_limit-1)/a.show_limit);return{form:o,totalPage:e}},computed:{paginatedLogs(){const a=(this.current_page-1)*this.show_limit,o=this.current_page*this.show_limit;return this.point_logs.slice(a,o)}}},V={class:"md:px-4 px-2"},B={class:"border-b w-full p-2 my-2 font-semibold flex justify-between"},M=t("button",{onclick:"history.back()",class:"rounded-md px-2 text-sm font-normal text-white bg-red-500 hover:bg-red-400"}," \u623B\u308B ",-1),T={class:"w-full text-sm"},G=t("td",{class:"p-1 w-2/5 font-bold"},"\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9",-1),J={class:"p-1 w-3/5"},K=t("td",{class:"p-1 w-2/5 font-bold"},"\u96FB\u8A71\u756A\u53F7",-1),R={class:"p-1 w-3/5"},U=t("td",{class:"p-1 w-2/5 font-bold"},"\u30DD\u30A4\u30F3\u30C8",-1),q={class:"p-1 w-3/5"},Q=t("td",{class:"p-1 w-2/5 font-bold"},"\u540D\u524D",-1),W={class:"p-1 w-3/5"},X=t("td",{class:"p-1 w-2/5 font-bold"},"\u540D\u524D(\u30AB\u30CA)",-1),Y={class:"p-1 w-3/5"},Z=t("td",{class:"p-1 w-2/5 font-bold"},"\u90F5\u4FBF\u756A\u53F7",-1),$={class:"p-1 w-3/5"},tt=t("td",{class:"p-1 w-2/5 font-bold"},"\u90FD\u9053\u5E9C\u770C",-1),et={class:"p-1 w-3/5"},st=t("td",{class:"p-1 w-2/5 font-bold"},"\u4F4F\u6240",-1),ot={class:"p-1 w-3/5"},lt={class:"my-6 text-center border border-sky-500 rounded-full p-0.5 w-fit mx-auto text-sm"},nt=["disabled"],rt=t("div",{class:"border-b w-full p-2 my-2 font-semibold flex justify-between"},[t("h3",null,"\u5165\u91D1\u5C65\u6B74")],-1),ct={class:"w-full flex flex-col gap-4 mb-8 text-sm md:text-base"},at={class:"w-full table-auto"},it=t("thead",null,[t("tr",{class:"border border-collapse divide-x-2"},[t("th",{class:"text-center py-2"},"\u91D1\u984D"),t("th",{class:"text-center py-2"},"\u30DD\u30A4\u30F3\u30C8"),t("th",{class:"text-center py-2"},"\u8CFC\u5165\u6642\u9593")])],-1),dt={class:"text-sm"},_t={class:"border divide-x-2"},ut={class:"text-center py-2"},mt={class:"text-center py-2"},bt={class:"text-center py-2"},ft=t("div",{class:"border-b w-full p-2 my-2 font-semibold flex justify-between"},[t("h3",null,"\u30AF\u30FC\u30DD\u30F3\u4F7F\u7528\u5C65\u6B74")],-1),ht={class:"w-full flex flex-col gap-4 mb-8 text-sm md:text-base"},pt={class:"w-full table-auto"},xt=t("thead",null,[t("tr",{class:"border border-collapse divide-x-2"},[t("th",{class:"text-center py-2"},"\u540D\u524D"),t("th",{class:"text-center py-2"},"\u30B3\u30FC\u30C9"),t("th",{class:"text-center py-2"},"\u30DD\u30A4\u30F3\u30C8"),t("th",{class:"text-center py-2"},"\u4F7F\u7528\u6642\u9593")])],-1),gt={class:"text-sm"},yt={class:"border divide-x-2"},wt={class:"text-center py-2"},kt={class:"text-center py-2"},vt={class:"text-center py-2"},Ct={class:"text-center py-2"},jt={class:"border-b w-full p-2 my-2 font-semibold flex justify-between"},Lt=t("h3",null,"\u30DD\u30A4\u30F3\u30C8\u5C65\u6B74",-1),Pt={class:"w-full flex flex-col gap-4 mb-8 text-sm md:text-base overflow-auto"},Ht={class:"min-w-full table-auto"},It=t("thead",null,[t("tr",{class:"border border-collapse divide-x-2"},[t("th",{class:"text-center py-2"},"\u4E8B\u7531"),t("th",{class:"text-center py-2"},"\u30DD\u30A4\u30F3\u30C8\uFF08\u5229\u7528\uFF09"),t("th",{class:"text-center py-2"},"\u6B21\u306E\u30DD\u30A4\u30F3\u30C8\uFF08PT\u6B8B\u9AD8\uFF09"),t("th",{class:"text-center py-2"},"\u65E5\u6642")])],-1),Ot={class:"text-sm"},St={class:"border divide-x-2"},Ft={class:"text-center py-2"},Nt={class:"text-center py-2"},zt={class:"text-center py-2"},At={class:"text-center py-2"};function Dt(a,o,e,_,l,i){const b=f("Head"),g=f("PaginationClientSide"),y=f("AppLayout");return r(),c(u,null,[m(b,{title:"\u30E6\u30FC\u30B6\u30FC\u7BA1\u7406"}),m(y,null,{default:C(()=>[t("div",V,[t("div",B,[t("h3",null,"\u30E6\u30FC\u30B6\u30FC\u8A73\u7D30 (ID-"+s(e.user.id)+")",1),M]),t("table",T,[e.user?(r(),c(u,{key:0},[t("tr",null,[G,t("td",J,s(e.user.email),1)]),t("tr",null,[K,t("td",R,s(e.user.phone),1)]),t("tr",null,[U,t("td",q,[j(t("input",{class:"bg-white/90 w-full px-3 py-2 border border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md placeholder-neutral-400",type:"number","onUpdate:modelValue":o[0]||(o[0]=n=>_.form.point=n)},null,512),[[L,_.form.point]])])])],64)):d("",!0),e.profile?(r(),c(u,{key:1},[t("tr",null,[Q,t("td",W,s(e.profile.first_name)+" "+s(e.profile.last_name),1)]),t("tr",null,[X,t("td",Y,s(e.profile.first_name_gana)+" "+s(e.profile.last_name_gana),1)]),t("tr",null,[Z,t("td",$,s(e.profile.postal_code),1)]),t("tr",null,[tt,t("td",et,s(e.profile.prefecture),1)]),t("tr",null,[st,t("td",ot,s(e.profile.address),1)])],64)):d("",!0)]),t("div",lt,[t("button",{type:"button",onClick:o[1]||(o[1]=(...n)=>i.submit&&i.submit(...n)),class:p([{"opacity-25":_.form.processing},"inline-block items-center px-10 py-1 rounded-full font-semibold text-white uppercase bg-theme bg-theme-hover"]),disabled:_.form.processing}," \u4FDD\u5B58 ",10,nt)]),rt,t("div",ct,[t("table",at,[it,t("tbody",dt,[(r(!0),c(u,null,h(e.payments,n=>(r(),c("tr",_t,[t("td",ut,s(i.format_number(n.amount)),1),t("td",mt,s(i.format_number(n.point))+" pt",1),t("td",bt,s(n.updated_at),1)]))),256))])])]),ft,t("div",ht,[t("table",pt,[xt,t("tbody",gt,[(r(!0),c(u,null,h(e.coupons,n=>(r(),c("tr",yt,[t("td",wt,s(n.title),1),t("td",kt,s(i.format_number(n.code)),1),t("td",vt,s(i.format_number(n.point))+" pt",1),t("td",Ct,s(n.updated_at),1)]))),256))])])]),t("div",jt,[Lt,m(g,{callback:i.onPageChange,total:_.totalPage},null,8,["callback","total"])]),t("div",Pt,[t("table",Ht,[It,t("tbody",Ot,[(r(!0),c(u,null,h(i.paginatedLogs,n=>(r(),c("tr",St,[t("td",Ft,s(n.point_type),1),t("td",Nt,s(n.point_diff),1),t("td",zt,s(n.point_before+n.point_diff),1),t("td",At,s(n.updated_at1),1)]))),256))])])])])]),_:1})],64)}const Jt=x(E,[["render",Dt]]);export{Jt as default};
