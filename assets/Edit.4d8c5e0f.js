import{L as T,H,E,G as w,r as g,o as n,c as i,b as h,w as x,F as p,d as t,n as P,I as F,e as _,t as d,h as c,J as u,K as b,M as y,f as v,a2 as N}from"./app.0fad41c8.js";import{A as q}from"./Admin.639166e7.js";import{B}from"./main.157da2d8.js";import{N as A,e as z,U as X,o as Y,f as G,r as J,u as K}from"./useConfirm.985006e9.js";import{i as Q}from"./index.5cffb811.js";import{_ as W}from"./_plugin-vue_export-helper.cdc0426e.js";import{r as Z}from"./ExclamationTriangleIcon.eb0d6581.js";import"./isNativeReflectConstruct.8f2fcece.js";const{confirm:M,alert:U}=K(),$={components:{Link:T,Head:H,AppLayout:q,Dialog:A,DialogPanel:z,DialogTitle:X,TransitionChild:Y,TransitionRoot:G,ExclamationTriangleIcon:Z,XMarkIcon:J,VueDatePicker:B},props:{errors:Object,gacha:Object,category_share:Object,product_last:Object,products:Object,productsLostSetting:Object,videos:Object,titles:Object,ranks:Object,lost_types:Object,video_names:Object,plans:Object},data(){return{url:null,url1:null,url2:null,open:!1,sorting:"point_down"}},methods:{format_number(s){return String(s).replace(/(.)(?=(\d{3})+$)/g,"$1,")},addVideo(){if(this.video_names.length==0){U("\u767B\u9332\u3055\u308C\u305F\u52D5\u753B\u304C\u3042\u308A\u307E\u305B\u3093\u3002");return}this.form.videos.push({level:this.video_names[0],point:0})},deleteVideo(s){this.form.videos=this.form.videos.filter((e,r)=>r!=s)},destroy_product_last(s){M("\u524A\u9664\u3057\u3066\u3082\u3044\u3044\u3067\u3059\u304B\uFF1F","","error").then(e=>{e&&E.Inertia.delete(route("admin.gacha.product_last.destroy",{id:s}))})},modalProductLastOpen(){this.product_last.name?(this.form_last.last_name=this.product_last.name,this.form_last.last_point=this.product_last.point,this.form_last.last_rare=this.product_last.rare,this.form_last.last_image="",this.form_last.is_update=1,this.url2=this.product_last.image):(this.form_last.last_name="",this.form_last.last_point="",this.form_last.last_rare="",this.form_last.last_image="",this.form_last.is_update=0,this.url2=""),this.form_last.is_last=1,this.form_last.last_marks=0,this.open=!0},modalProductOpen(s){s?(this.form_last.last_id=s.id,this.form_last.last_name=s.name,this.form_last.last_point=s.point,this.form_last.last_rare=s.rare,this.form_last.last_marks=parseFloat((s.marks*this.count_step).toFixed(7)),this.form_last.category_id=parseFloat((s.category_id*this.count_step).toFixed(7)),this.form_last.last_order=s.order,this.form_last.last_image="",this.form_last.is_update=1,this.url2=s.image,this.form_last.rank=s.rank,this.form_last.last_lost_type=s.lost_type==1):(this.form_last.last_id="",this.form_last.last_name="",this.form_last.last_point="",this.form_last.last_rare="",this.form_last.last_marks=0,this.form_last.last_order=0,this.form_last.last_image="",this.form_last.is_update=0,this.url2="",this.form_last.rank=0,this.form_last.category_id=0,this.form_last.last_lost_type=!1),this.form_last.is_last=0,this.open=!0},closeModal(){this.open=!1},submit_last(){if(this.form_last.is_last==1)this.$refs.photo2.files[0]&&(this.form_last.last_image=this.$refs.photo2.files[0]),this.form_last.post(route("admin.gacha.product_last.create"),{preserveScroll:!0,onFinish:()=>{}});else{if(this.$refs.photo2.files[0]&&(this.form_last.last_image=this.$refs.photo2.files[0]),this.form_last.last_order>0&&this.form_last.last_marks!=1){U("\u6392\u51FA\u9806\u5E8F\u306F\u70B9\u6570\u306E\u5024\u304C1\u306E\u5834\u5408\u306B\u306E\u307F\u8A2D\u5B9A\u3067\u304D\u307E\u3059\u3002");return}if(this.form_last.last_order>0&&this.form_last.last_order<=this.gacha.count){U("\u3053\u306E\u30AC\u30C1\u30E3\u306F\u3059\u3067\u306B "+this.gacha.count+" \u56DE\u56DE\u3055\u308C\u3066\u3044\u307E\u3059\u3002 "+this.gacha.count+" \u4EE5\u4E0A\u3092\u8A2D\u5B9A\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059\u3002");return}if(this.form_last.last_order>0&&this.products.data.find(e=>e.order==this.form_last.last_order&&e.id!=this.form_last.last_id)){U("\u3053\u306E\u6392\u51FA\u9806\u5E8F\u306F\u3059\u3067\u306B\u4F7F\u7528\u3057\u307E\u3057\u305F\u3002");return}let s=w(this.form_last.data());s.last_marks/=this.count_step,s.category_id/=this.count_step,s.post(route("admin.gacha.product.create"),{onFinish:()=>{},preserveScroll:!0})}},submit(){let s=this.form.count_card-this.gacha.count;var e=0;let r;for(r=0;r<this.form.lostProducts.length;r++)this.form.lostProducts[r].key&&(e=e+this.form.lostProducts[r].count);let l=0;for(r=0;r<this.products.data.length;r++)(this.form.lost_product_type!="1"||this.products.data[r].order==0)&&(l=l+Math.max(0,this.products.data[r].marks)*this.count_step);this.form.lost_product_type=="1"&&(this.form.count_card=0);let m=e+l;m=parseFloat(m.toFixed(7));let a="";this.form.lost_product_type=="1"?(a=m==100?"\u30AB\u30FC\u30C9\u6392\u51FA\u7387\u306E\u5408\u8A08\u304C\u6B63\u78BA\u3067\u3059\u3002":`\u30AB\u30FC\u30C9\u6392\u51FA\u7387\u306E\u5408\u8A08\u306F100\uFF05\u3067\u306A\u3051\u308C\u3070\u306A\u308A\u307E\u305B\u3093\u3002\u73FE\u5728${m}%\u3067\u3059\u3002`,this.form.spin_limit=0):a=m==s?"\u6B8B\u308A\u53E3\u6570 "+s+" = \u5F53\u305F\u308A\u30AB\u30FC\u30C9\u306E\u6B8B\u308A\u6570 "+l+" + \u30AB\u30FC\u30C9\u6307\u5B9A\u306E\u6B8B\u308A\u6570 "+e+`
\u4FDD\u5B58\u3057\u307E\u3059\u304B\uFF1F`:"\u6B8B\u308A\u53E3\u6570 "+s+" \u2260 \u5F53\u305F\u308A\u30AB\u30FC\u30C9\u306E\u6B8B\u308A\u6570 "+l+" + \u30AB\u30FC\u30C9\u6307\u5B9A\u306E\u6B8B\u308A\u6570 "+e+`
\u5927\u4E08\u592B\u3067\u3059\u304B\uFF1F`,M(a,"",m==s?"success":"warning").then(C=>{C&&(this.$refs.photo&&(this.form.image=this.$refs.photo.files[0]),this.$refs.photo1&&(this.form.thumbnail=this.$refs.photo1.files[0]),w({...this.form.data(),lostProducts:this.form.lostProducts.map(V=>({...V,count:V.count/this.count_step}))}).post(route("admin.gacha.update"),{preserveScroll:!0}))})},previewImage(s){const e=s.target.files[0];this.url=URL.createObjectURL(e)},previewImage1(s){const e=s.target.files[0];this.url1=URL.createObjectURL(e)},previewImage2(s){const e=s.target.files[0];this.url2=URL.createObjectURL(e)},toPublic(s){this.form_to_public.to_status=s,this.form_to_public.post(route("admin.gacha.to_public"),{onFinish:()=>{},preserveScroll:!0})},gachaLimit(s){this.form_to_limit.to_status=s,this.form_to_limit.post(route("admin.gacha.gacha_limit"),{onFinish:()=>{},preserveScroll:!0})},addLostProduct(){let s=0,e;for(e=0;e<this.form.lostProducts.length;e++)s<this.form.lostProducts[e].key&&(s=this.form.lostProducts[e].key);s=s+1,this.form.lostProducts.push({id:0,point:0,count:0,key:s})},deleteLostProduct(s){let e;for(e=0;e<this.form.lostProducts.length;e++)if(s==this.form.lostProducts[e].key){this.form.lostProducts[e].key=0;break}},copyLink(s){navigator.clipboard.writeText(s).then(()=>{Q("URL\u3092\u30B3\u30D4\u30FC\u3057\u307E\u3057\u305F\u3002",{autoClose:2e3})})}},setup(s){const e=w({id:s.gacha.id,title:s.gacha.title,point:s.gacha.point,consume_point:s.gacha.consume_point,count_card:s.gacha.count_card,count:s.gacha.count,lost_product_type:s.gacha.lost_product_type,thumbnail:"",image:"",category_id:s.category_share.cat_id,lostProducts:[],spin_limit:s.gacha.spin_limit,ids:[],videos:s.videos,start_time:s.gacha.start_time,end_time:s.gacha.end_time,rank_limit:s.gacha.rank_limit,plan_limit:s.gacha.plan_limit});let r={last_id:"",last_name:"",last_point:"",last_rare:"",last_marks:"",last_image:"",last_order:"",is_last:0,gacha_id:s.gacha.id,is_update:0,rank:0,category_id:0,last_lost_type:!1};const l=w(r),m=w({gacha_id:s.gacha.id,to_status:1}),a=w({gacha_id:s.gacha.id,to_status:1});return{form:e,form_last:l,form_to_public:m,form_to_limit:a}},mounted(){this.url=this.gacha.image,this.url1=this.gacha.thumbnail,this.form.lostProducts=[];let s;for(s=0;s<this.productsLostSetting.length;s++){let e=this.productsLostSetting[s];this.form.lostProducts.push({id:e.id,count:parseFloat((e.count*this.count_step).toFixed(7)),point:e.point,key:e.id})}},computed:{count_step(){return this.form.lost_product_type=="1"?.01:1},sortedProducts(){let s=this.products.data;return this.sorting=="point_up"&&s.sort((e,r)=>e.point-r.point),this.sorting=="point_down"&&s.sort((e,r)=>r.point-e.point),this.sorting=="count_up"&&s.sort((e,r)=>e.marks-r.marks),this.sorting=="count_down"&&s.sort((e,r)=>r.marks-e.marks),s},point_rate(){let s=this.form.point*(this.form.count_card-this.gacha.count);this.form.lost_product_type=="1"&&(s=this.form.point*1e4);let e=0;return this.form.lostProducts.forEach(r=>{e+=r.point*r.count/this.count_step}),this.products.data.forEach(r=>{r.marks>0&&(e+=r.point*r.marks/this.count_step)}),(e*100/s).toFixed(2)}}},tt={class:"pt-6 md:px-6 px-4"},et={class:"flex flex-wrap justify-between mb-4 gap-2"},ot={class:"text-right"},st=["disabled"],rt=["disabled"],lt=["disabled"],nt=["disabled"],it={key:0,class:"mb-4 flex flex-wrap gap-2 items-center justify-between"},at={class:"font-medium text-sm text-neutral-700 flex items-center gap-2"},dt={class:"mb-4"},ct=t("label",{for:"title",class:"block font-medium text-sm text-neutral-700 mb-1"},"\u30BF\u30A4\u30C8\u30EB",-1),ut={key:0,class:"text-red-500 text-sm mt-1"},mt={class:"mb-4"},_t=t("label",{for:"text1",class:"block font-medium text-sm text-neutral-700 mb-1"},[_("\u6D88\u8CBB\u30DD\u30A4\u30F3\u30C8\uFF08\u30C6\u30AD\u30B9\u30C8\uFF09"),t("span",{class:"text-red-500"},"*")],-1),ft={key:0,class:"text-red-500 text-sm mt-1"},ht={class:"mb-4"},bt=t("label",{for:"consume_point",class:"block font-medium text-sm text-neutral-700 mb-1"},[_("\u30E9\u30F3\u30AF\u30A2\u30C3\u30D7\u30DD\u30A4\u30F3\u30C8\uFF08\u30C6\u30AD\u30B9\u30C8\uFF09"),t("span",{class:"text-red-500"},"*")],-1),pt={key:0,class:"text-red-500 text-sm mt-1"},gt={class:"mb-4"},xt=t("label",{for:"type",class:"block font-medium text-sm text-neutral-700 mb-2 ml-1"},[_("\u7A2E\u985E "),t("span",{class:"text-red-500"},"*")],-1),yt=t("option",{value:"0"},"\u9650\u5B9A\u30AB\u30FC\u30C9",-1),vt=t("option",{value:"1"},"\u7121\u9650\u30AC\u30C1\u30E3",-1),kt=[yt,vt],wt={key:1,class:"mb-4"},Vt=t("label",{for:"text2",class:"block font-medium text-sm text-neutral-700 mb-1"},[_("\u7DCF\u30AB\u30FC\u30C9\u6570\uFF08\u534A\u89D2\u6570\u5B57\uFF09"),t("span",{class:"text-red-500"},"*")],-1),Pt={key:0,class:"text-red-500 text-sm mt-1"},Ut={class:"mb-4"},Ct=t("label",{for:"text1",class:"block font-medium text-sm text-neutral-700 mb-1"},[_("\u30AC\u30C1\u30E3\u5236\u9650\u56DE\u6570 "),t("span",{class:"text-red-500"},"*")],-1),Lt={key:0,class:"text-red-500 text-sm mt-1"},jt={class:"mb-4"},Ot=t("label",{for:"rank_limit",class:"block font-medium text-sm text-neutral-700 mb-1"},"\u30E9\u30F3\u30AF\u5236\u9650",-1),Ft=t("option",{value:0},"\u5236\u9650\u306A\u3057",-1),Mt=["value"],It=t("option",{value:-1},"\u30B7\u30FC\u30AF\u30EC\u30C3\u30C8",-1),Dt={class:"mb-4"},St=t("label",{for:"plan_limit",class:"block font-medium text-sm text-neutral-700 mb-1"},"\u30B5\u30D6\u30B9\u30AF\u30EA\u30D7\u30B7\u30E7\u30F3\u5236\u9650",-1),Rt=t("option",{value:0},"\u5236\u9650\u306A\u3057",-1),Tt=["value"],Ht=t("option",{value:-1},"\u30B5\u30D6\u30B9\u30AF\u30EA\u30D7\u30B7\u30E7\u30F3",-1),Et={class:"mb-4"},Nt=t("label",{class:"block font-medium text-sm text-neutral-700 mb-2 ml-1"},"\u958B\u59CB\u6642\u523B",-1),qt={class:"w-full flex flex-wrap gap-3 items-center"},Bt={class:"mb-4"},At=t("label",{class:"block font-medium text-sm text-neutral-700 mb-2 ml-1"},"\u7D42\u4E86\u6642\u523B",-1),zt={class:"w-full flex flex-wrap gap-3 items-center"},Xt={class:"mb-4"},Yt=t("label",{for:"cards",class:"block font-medium text-sm text-neutral-700 mb-2 ml-1"},"\u30CF\u30BA\u30EC\u30AB\u30FC\u30C9\u767B\u9332\uFF08\u534A\u89D2\u6570\u5B57\uFF09",-1),Gt={key:0,class:"w-full flex flex-row items-center mb-3"},Jt={class:"flex-1 flex items-center"},Kt={class:"flex-1 inline-block pr-1"},Qt=["onUpdate:modelValue"],Wt=t("span",{class:"pl-1 pr-3"},"PT : ",-1),Zt={class:"flex-1 inline-block pr-1"},$t=["onUpdate:modelValue","step"],te={class:"px-2"},ee={class:"w-10 shrink h-10"},oe=["onClick"],se={class:"text-center pt-2"},re={class:"mb-4"},le=t("label",{for:"file1",class:"block font-medium text-sm text-neutral-700 mb-1"},[_("\u30B5\u30E0\u30CD\u30A4\u30EB "),t("span",{class:"text-red-500"},"*")],-1),ne={class:"text-center w-full"},ie=["src"],ae={key:0,class:"text-red-500 text-sm mt-1"},de={class:"mb-8"},ce=t("label",{for:"file1",class:"block font-medium text-sm text-neutral-700 mb-1"},[_("\u8A73\u7D30\u30DA\u30FC\u30B8\u753B\u50CF "),t("span",{class:"text-red-500"},"*")],-1),ue={class:"text-center w-full"},me=["src"],_e={key:0,class:"text-red-500 text-sm mt-1"},fe={class:"mb-8"},he=t("label",{for:"file1",class:"block font-medium text-sm text-neutral-700 mb-1"},[_("\u52D5\u753B\u8A2D\u5B9A"),t("span",{class:"text-red-500"},"*")],-1),be={class:"flex items-center gap-3 py-1"},pe=["onUpdate:modelValue"],ge=["onUpdate:modelValue"],xe=["value"],ye={class:"w-10 shrink h-10"},ve=["onClick"],ke={class:"text-center pt-2"},we={class:"mb-8 text-center flex gap-2 justify-center sticky bottom-5"},Ve=t("button",{type:"submit",class:"inline-block items-center flex-1 max-w-60 py-2 bg-green-500 rounded-md font-semibold text-sm text-white uppercase tracking-widest hover:bg-green-700 active:bg-green-700 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150"}," \u4FDD\u5B58 ",-1),Pe=t("h3",{class:"mb-2 font-bold"},"\u30E9\u30B9\u30C8\u30EF\u30F3\u8CDE \u767B\u9332",-1),Ue=t("hr",null,null,-1),Ce={class:"mb-6 py-2 border-neutral-200 border-b flex flex-wrap justify-center items-center gap-2"},Le={key:0,class:"flex-1 flex border-neutral-200 items-center"},je=["src"],Oe={class:"flex flex-col justify-evenly text-sm py-1 px-2"},Fe={class:"text-red-500"},Me={class:"flex-1 flex flex-wrap gap-2 justify-center"},Ie={class:"flex flex-wrap justify-between mb-4 gap-2"},De=t("h3",{class:"font-bold pt-1"},"\u5F53\u305F\u308A\u30AB\u30FC\u30C9 \u767B\u9332",-1),Se={class:"flex items-center gap-2"},Re=t("label",{for:"sorting",class:"block font-medium text-sm text-neutral-700 text-nowrap"},"\u30BD\u30FC\u30C8",-1),Te=t("option",{value:"point_up"},"\u30DD\u30A4\u30F3\u30C8\u6607\u9806",-1),He=t("option",{value:"point_down"},"\u30DD\u30A4\u30F3\u30C8\u964D\u9806",-1),Ee={value:"count_up"},Ne={value:"count_down"},qe=t("hr",{class:"mb-2"},null,-1),Be={class:"mb-2 pb-2 border-neutral-200 border-b flex items-center justify-between flex-wrap"},Ae={class:"flex border-neutral-200 items-center"},ze=["src"],Xe={class:"flex-1 inline-block text-sm py-1 px-2"},Ye={key:0},Ge={class:"text-red-500"},Je={key:0},Ke={class:"text-center flex flex-wrap gap-2"},Qe=["onClick"],We=["onClick"],Ze={class:"flex justify-between text-center my-6 items-center gap-4"},$e=t("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),to={class:"fixed inset-0 z-10 overflow-y-auto"},eo={class:"flex min-h-full items-center justify-center p-4 text-center sm:items-center sm:p-0"},oo={class:"mb-4"},so=t("label",{for:"text1-1",class:"block font-medium text-sm text-neutral-700 mb-1"},[_("\u540D\u524D"),t("span",{class:"text-red-500"},"*")],-1),ro={class:"text-red-500 text-sm mt-1"},lo={class:"mb-4"},no=t("label",{for:"text1-2",class:"block font-medium text-sm text-neutral-700 mb-1"},[_("\u5909\u63DB\u30DD\u30A4\u30F3\u30C8\uFF08\u534A\u89D2\u6570\u5B57\uFF09"),t("span",{class:"text-red-500"},"*")],-1),io={class:"text-red-500 text-sm mt-1"},ao={class:"mb-4 flex items-center gap-2"},co=t("label",{for:"lost_type",class:"cursor-pointer text-sm py-1"}," \u767A\u9001\u5C02\u7528 ",-1),uo={key:0,class:"mb-4"},mo=t("label",{for:"last_rare",class:"block font-medium text-sm text-neutral-700 mb-1"},"\u7A2E\u985E",-1),_o=["value"],fo={key:1,class:"mb-4"},ho=t("label",{for:"rank",class:"block font-medium text-sm text-neutral-700 mb-1"},"\u30AB\u30FC\u30C9\u30E9\u30F3\u30AF",-1),bo=t("option",{value:"0"},"\u305D\u306E\u4ED6",-1),po=t("option",{value:"1"},"1\u7B49",-1),go=t("option",{value:"2"},"2\u7B49",-1),xo=t("option",{value:"3"},"3\u7B49",-1),yo=t("option",{value:"4"},"4\u7B49",-1),vo=[bo,po,go,xo,yo],ko={key:2,class:"mb-4"},wo={for:"text1-4",class:"block font-medium text-sm text-neutral-700 mb-1"},Vo=t("span",{class:"text-red-500"},"*",-1),Po=["step"],Uo={class:"text-red-500 text-sm mt-1"},Co={key:3,class:"mb-4"},Lo={for:"text1-4",class:"block font-medium text-sm text-neutral-700 mb-1"},jo=t("span",{class:"text-red-500"},"*",-1),Oo=["step"],Fo={class:"text-red-500 text-sm mt-1"},Mo={key:4,class:"mb-4"},Io=t("label",{for:"text1-4",class:"block font-medium text-sm text-neutral-700 mb-1"},"\u6392\u51FA\u9806\u5E8F",-1),Do={class:"text-red-500 text-sm mt-1"},So={class:"mb-4"},Ro=t("label",{for:"file1-1",class:"block font-medium text-sm text-neutral-700 mb-1"},[_("\u753B\u50CF\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9 "),t("span",{class:"text-red-500"},"*")],-1),To={class:"text-center w-full"},Ho=["src"],Eo={class:"text-red-500 text-sm mt-1"},No={class:"mb-6 text-center"},qo=t("button",{type:"submit",class:"inline-block items-center px-8 py-2.5 bg-green-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 active:bg-green-700 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150 mr-2"}," \u4FDD\u5B58 ",-1);function Bo(s,e,r,l,m,a){const C=g("Head"),L=g("Link"),V=g("VueDatePicker"),j=g("XMarkIcon"),O=g("TransitionChild"),I=g("DialogPanel"),D=g("Dialog"),S=g("TransitionRoot"),R=g("AppLayout");return n(),i(p,null,[h(C,{title:"\u30AC\u30C1\u30E3 \u7DE8\u96C6"}),h(R,{closeModal:a.closeModal},{default:x(()=>[t("div",tt,[t("div",et,[t("div",ot,[r.gacha.status==1?(n(),i("button",{key:0,type:"button",onClick:e[0]||(e[0]=o=>a.toPublic(0)),class:P([{"opacity-25":l.form_to_public.processing},"inline w-44 py-2.5 bg-neutral-500 border border-transparent rounded-md font-semibold text-xs text-white tracking-widest hover:bg-neutral-700 active:bg-neutral-700 focus:outline-none focus:border-neutral-700 focus:shadow-outline-neutral transition ease-in-out duration-150"]),disabled:l.form_to_public.processing}," \u975E\u516C\u958B\u306B\u3059\u308B ",10,st)):(n(),i("button",{key:1,type:"button",onClick:e[1]||(e[1]=o=>a.toPublic(1)),class:P([{"opacity-25":l.form_to_public.processing},"inline w-44 py-2.5 bg-green-500 border border-transparent rounded-md font-semibold text-xs text-white tracking-widest hover:bg-green-700 active:bg-green-700 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150"]),disabled:l.form_to_public.processing}," \u516C\u958B\u306B\u3059\u308B ",10,rt))]),t("div",null,[r.gacha.gacha_limit_on_setting==1?(n(),i("button",{key:0,type:"button",onClick:e[2]||(e[2]=o=>a.gachaLimit(0)),class:P([{"opacity-25":l.form_to_limit.processing},"inline w-44 py-2.5 bg-neutral-500 border border-transparent rounded-md font-semibold text-xs text-white tracking-widest hover:bg-neutral-700 active:bg-neutral-700 focus:outline-none focus:border-neutral-700 focus:shadow-outline-neutral transition ease-in-out duration-150"]),disabled:l.form_to_limit.processing}," 1\u65E51\u56DE\u5236\u9650\u30AD\u30E3\u30F3\u30BB\u30EB ",10,lt)):(n(),i("button",{key:1,type:"button",onClick:e[3]||(e[3]=o=>a.gachaLimit(1)),class:P([{"opacity-25":l.form_to_limit.processing},"inline w-44 py-2.5 bg-green-500 border border-transparent rounded-md font-semibold text-xs text-white tracking-widest hover:bg-green-700 active:bg-green-700 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150"]),disabled:l.form_to_limit.processing}," 1\u65E51\u56DE\u5236\u9650\u8A2D\u5B9A ",10,nt))])]),t("form",{onSubmit:e[19]||(e[19]=F(o=>a.submit(),["prevent"]))},[l.form.rank_limit==-1?(n(),i("div",it,[t("span",at,[_(" \u5C02\u7528URL: "),h(L,{href:s.route("user.gacha",{id:r.gacha.id,code:r.gacha.description}),class:"text-blue-500 hover:text-blue-700"},{default:x(()=>[_(d(s.route("user.gacha",{id:r.gacha.id,code:r.gacha.description})),1)]),_:1},8,["href"])]),t("button",{type:"button",onClick:e[4]||(e[4]=o=>a.copyLink(s.route("user.gacha",{id:r.gacha.id,code:r.gacha.description}))),class:"px-3 py-1 rounded-full border text-sm"},"URL\u3092\u30B3\u30D4\u30FC")])):c("",!0),t("div",dt,[ct,u(t("input",{"onUpdate:modelValue":e[5]||(e[5]=o=>l.form.title=o),id:"title",type:"text",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044"},null,512),[[b,l.form.title]]),r.errors.title?(n(),i("div",ut,d(r.errors.title),1)):c("",!0)]),t("div",mt,[_t,u(t("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>l.form.point=o),id:"text1",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044"},null,512),[[b,l.form.point]]),r.errors.point?(n(),i("div",ft,d(r.errors.point),1)):c("",!0)]),t("div",ht,[bt,u(t("input",{"onUpdate:modelValue":e[7]||(e[7]=o=>l.form.consume_point=o),id:"consume_point",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044"},null,512),[[b,l.form.consume_point]]),r.errors.point?(n(),i("div",pt,d(r.errors.point),1)):c("",!0)]),t("div",gt,[xt,u(t("select",{"onUpdate:modelValue":e[8]||(e[8]=o=>l.form.lost_product_type=o),id:"type",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300"},kt,512),[[y,l.form.lost_product_type]])]),l.form.lost_product_type=="0"?(n(),i("div",wt,[Vt,u(t("input",{"onUpdate:modelValue":e[9]||(e[9]=o=>l.form.count_card=o),id:"text2",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044"},null,512),[[b,l.form.count_card]]),r.errors.count_card?(n(),i("div",Pt,d(r.errors.count_card),1)):c("",!0)])):c("",!0),t("div",Ut,[Ct,u(t("input",{"onUpdate:modelValue":e[10]||(e[10]=o=>l.form.spin_limit=o),id:"text1",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044"},null,512),[[b,l.form.spin_limit]]),r.errors.spin_limit?(n(),i("div",Lt,d(r.errors.spin_limit),1)):c("",!0)]),t("div",jt,[Ot,u(t("select",{"onUpdate:modelValue":e[11]||(e[11]=o=>l.form.rank_limit=o),id:"type",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300"},[Ft,(n(!0),i(p,null,v(r.ranks,(o,k)=>(n(),i("option",{value:o.rank},d(o.title),9,Mt))),256)),It],512),[[y,l.form.rank_limit]])]),t("div",Dt,[St,u(t("select",{"onUpdate:modelValue":e[12]||(e[12]=o=>l.form.plan_limit=o),id:"type",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300"},[Rt,(n(!0),i(p,null,v(r.plans,(o,k)=>(n(),i("option",{value:o.id},d(o.name),9,Tt))),256)),Ht],512),[[y,l.form.plan_limit]])]),t("div",Et,[Nt,t("div",qt,[h(V,{modelValue:l.form.start_time,"onUpdate:modelValue":e[13]||(e[13]=o=>l.form.start_time=o),format:"Y-MM-dd HH:mm",class:"flex-1"},null,8,["modelValue"])])]),t("div",Bt,[At,t("div",zt,[h(V,{modelValue:l.form.end_time,"onUpdate:modelValue":e[14]||(e[14]=o=>l.form.end_time=o),format:"Y-MM-dd HH:mm",class:"flex-1"},null,8,["modelValue"])])]),t("div",Xt,[Yt,(n(!0),i(p,null,v(l.form.lostProducts,(o,k)=>(n(),i(p,null,[o.key?(n(),i("div",Gt,[t("div",Jt,[t("div",Kt,[u(t("input",{"onUpdate:modelValue":f=>o.point=f,type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5909\u63DBpt"},null,8,Qt),[[b,o.point]])]),Wt,t("div",Zt,[u(t("input",{"onUpdate:modelValue":f=>o.count=f,type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u679A\u6570",step:a.count_step},null,8,$t),[[b,o.count]])]),t("span",te,d(a.count_step==1?"\u679A":"%"),1)]),t("div",ee,[t("button",{type:"button",onClick:f=>a.deleteLostProduct(o.key),class:"h-full w-10 text-center"},[h(j,{class:"h-5 w-5 inline-block"})],8,oe)])])):c("",!0)],64))),256)),t("div",se,[t("button",{type:"button",onClick:e[15]||(e[15]=o=>a.addLostProduct()),class:"inline-block items-center max-w-60 w-full mx-auto py-2.5 bg-neutral-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-neutral-700 active:bg-neutral-700 focus:outline-none focus:border-neutral-700 focus:shadow-outline-neutral transition ease-in-out duration-150 mr-2"}," \u30AB\u30FC\u30C9\u8FFD\u52A0 ")])]),t("div",re,[le,t("div",ne,[m.url1?(n(),i("img",{key:0,src:m.url1,class:"inline-block mt-4 h-52"},null,8,ie)):c("",!0)]),t("input",{onChange:e[16]||(e[16]=(...o)=>a.previewImage1&&a.previewImage1(...o)),ref:"photo1",id:"file1",type:"file",class:"w-full"},null,544),r.errors.thumbnail?(n(),i("div",ae,d(r.errors.thumbnail),1)):c("",!0)]),t("div",de,[ce,t("div",ue,[m.url?(n(),i("img",{key:0,src:m.url,class:"inline-block mt-4 h-52"},null,8,me)):c("",!0)]),t("input",{onChange:e[17]||(e[17]=(...o)=>a.previewImage&&a.previewImage(...o)),ref:"photo",id:"file1",type:"file",class:"w-full"},null,544),r.errors.image?(n(),i("div",_e,d(r.errors.image),1)):c("",!0)]),t("div",fe,[he,(n(!0),i(p,null,v(l.form.videos,(o,k)=>(n(),i("div",be,[u(t("input",{type:"number",class:"h-9 w-32 border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300","onUpdate:modelValue":f=>o.point=f},null,8,pe),[[b,o.point]]),_("\u4EE5\u4E0A\xA0\xA0\xA0=\xA0\xA0\xA0 "),u(t("select",{"onUpdate:modelValue":f=>o.level=f,class:"w-32 border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300"},[(n(!0),i(p,null,v(r.video_names,(f,Ao)=>(n(),i("option",{value:f},d(f),9,xe))),256))],8,ge),[[y,o.level]]),t("div",ye,[t("button",{type:"button",onClick:f=>a.deleteVideo(k),class:"h-full w-10 text-center"},[h(j,{class:"h-5 w-5 inline-block"})],8,ve)])]))),256)),t("div",ke,[t("button",{type:"button",onClick:e[18]||(e[18]=o=>a.addVideo()),class:"inline-block items-center px-8 py-2 bg-neutral-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-neutral-700 active:bg-neutral-700 focus:outline-none focus:border-neutral-700 focus:shadow-outline-neutral transition ease-in-out duration-150 mr-2"}," \u8FFD\u52A0 ")])]),t("div",we,[Ve,h(L,{href:s.route("admin.gacha",{cat_id:r.gacha.category_id}),as:"button",class:"inline-block items-center flex-1 max-w-60 py-2 bg-rose-500 rounded-md font-semibold text-sm text-white uppercase tracking-widest hover:bg-rose-700 active:bg-rose-700 focus:outline-none focus:shadow-outline-green transition ease-in-out duration-150"},{default:x(()=>[_(" \u623B\u308B ")]),_:1},8,["href"])])],32),l.form.lost_product_type=="0"?(n(),i(p,{key:0},[Pe,Ue,t("div",Ce,[r.product_last.id?(n(),i("div",Le,[t("img",{src:r.product_last.image,class:"w-20 h-20 inline-block object-contain"},null,8,je),t("div",Oe,[t("div",null,d(r.product_last.name),1),t("div",null,d(r.product_last.rare),1),t("div",Fe,d(r.product_last.point)+"pt",1)])])):c("",!0),t("div",Me,[r.product_last.name?(n(),i("button",{key:0,type:"button",onClick:e[20]||(e[20]=o=>a.modalProductLastOpen()),class:"items-center flex-1 min-w-16 py-2 bg-green-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 active:bg-green-700 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150"}," \u7DE8\u96C6 ")):(n(),i("button",{key:1,type:"button",onClick:e[21]||(e[21]=o=>a.modalProductLastOpen()),class:"items-center flex-1 max-w-60 py-2 my-2 bg-green-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 active:bg-green-700 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150"}," \u8FFD\u52A0 ")),r.product_last.name?(n(),i("button",{key:2,onClick:e[22]||(e[22]=o=>a.destroy_product_last(r.product_last.id)),type:"button",class:"items-center flex-1 min-w-16 py-2 bg-red-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-700 active:bg-red-700 focus:outline-none focus:border-red-700 focus:shadow-outline-red transition ease-in-out duration-150"}," \u524A\u9664 ")):c("",!0)])])],64)):c("",!0),t("div",Ie,[De,t("div",Se,[Re,u(t("select",{"onUpdate:modelValue":e[23]||(e[23]=o=>m.sorting=o),id:"sorting",class:"text-sm w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300"},[Te,He,t("option",Ee,d(l.form.lost_product_type=="1"?"\u6392\u51FA\u7387\u6607\u9806":"\u30AB\u30FC\u30C9\u679A\u6570\u6607\u9806"),1),t("option",Ne,d(l.form.lost_product_type=="1"?"\u6392\u51FA\u7387\u964D\u9806":"\u30AB\u30FC\u30C9\u679A\u6570\u964D\u9806"),1)],512),[[y,m.sorting]])])]),qe,(n(!0),i(p,null,v(a.sortedProducts,(o,k)=>(n(),i("div",Be,[t("div",Ae,[t("img",{src:o.image,class:"w-20 h-20 inline-block object-contain"},null,8,ze),t("div",Xe,[t("div",null,"ID: "+d(o.id)+" "+d(o.rank?`(${o.rank}\u7B49)`:""),1),t("div",null,d(o.name),1),t("div",null,d(o.rare),1),t("div",null,[_(d(parseFloat((o.marks*a.count_step).toFixed(7)))+" ",1),o.order?(n(),i("span",Ye,"("+d(o.order)+"\u756A)",1)):c("",!0),_("\xA0 "),t("span",null,"(\u8868\u793A\u7528: "+d(parseFloat((o.category_id*a.count_step).toFixed(7)))+")",1)]),t("div",Ge,[_(d(a.format_number(o.point))+"pt ",1),o.lost_type=="1"?(n(),i("span",Je," (\u767A\u9001\u5C02\u7528)")):c("",!0)])])]),t("div",Ke,[t("button",{type:"button",onClick:f=>a.modalProductOpen(o),class:"inline-block items-center flex-1 min-w-16 py-2 bg-green-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 active:bg-green-700 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150"}," \u7DE8\u96C6 ",8,Qe),t("button",{type:"button",onClick:f=>a.destroy_product_last(o.id),class:"inline-block items-center flex-1 min-w-16 py-2 bg-red-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-700 active:bg-red-700 focus:outline-none focus:border-red-700 focus:shadow-outline-red transition ease-in-out duration-150"}," \u524A\u9664 ",8,We)])]))),256)),t("div",Ze,[t("span",null,"\u9084\u5143\u7387: "+d(a.point_rate)+"%",1),t("button",{type:"button",onClick:e[24]||(e[24]=o=>a.modalProductOpen(0)),class:"inline-block items-center flex-1 max-w-48 py-2 bg-cyan-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-cyan-700 active:bg-cyan-700 focus:outline-none focus:border-cyan-700 focus:shadow-outline-cyan transition ease-in-out duration-150"}," \u8FFD\u52A0 ")])]),t("template",null,[h(S,{as:"template",show:m.open},{default:x(()=>[h(D,{as:"div",class:"relative z-20",onClose:e[36]||(e[36]=o=>m.open=!1)},{default:x(()=>[h(O,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:x(()=>[$e]),_:1}),t("div",to,[t("div",eo,[h(O,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:x(()=>[h(I,{class:"p-3 relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},{default:x(()=>[t("form",{onSubmit:e[35]||(e[35]=F(o=>a.submit_last(),["prevent"]))},[t("div",oo,[so,u(t("input",{"onUpdate:modelValue":e[25]||(e[25]=o=>l.form_last.last_name=o),id:"text1-1",type:"text",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044",required:""},null,512),[[b,l.form_last.last_name]]),t("div",ro,d(r.errors.last_name),1)]),t("div",lo,[no,u(t("input",{"onUpdate:modelValue":e[26]||(e[26]=o=>l.form_last.last_point=o),id:"text1-2",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044",required:""},null,512),[[b,l.form_last.last_point]]),t("div",io,d(r.errors.last_point),1)]),t("div",ao,[u(t("input",{id:"lost_type","onUpdate:modelValue":e[27]||(e[27]=o=>l.form_last.last_lost_type=o),type:"checkbox"},null,512),[[N,l.form_last.last_lost_type]]),co]),l.form_last.is_last==0?(n(),i("div",uo,[mo,u(t("select",{"onUpdate:modelValue":e[28]||(e[28]=o=>l.form_last.last_rare=o),id:"last_rare",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm"},[(n(!0),i(p,null,v(r.lost_types,(o,k)=>(n(),i("option",{value:o},d(o),9,_o))),256))],512),[[y,l.form_last.last_rare]])])):c("",!0),l.form_last.is_last==0?(n(),i("div",fo,[ho,u(t("select",{"onUpdate:modelValue":e[29]||(e[29]=o=>l.form_last.rank=o),id:"rank",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm"},vo,512),[[y,l.form_last.rank]])])):c("",!0),l.form_last.is_last==0?(n(),i("div",ko,[t("label",wo,[_(d(l.form.lost_product_type=="1"?"\u6392\u51FA\u7387 (%)":"\u679A\u6570")+"\uFF08\u534A\u89D2\u6570\u5B57\uFF09",1),Vo]),u(t("input",{"onUpdate:modelValue":e[30]||(e[30]=o=>l.form_last.last_marks=o),id:"text1-4",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044",step:a.count_step,required:""},null,8,Po),[[b,l.form_last.last_marks]]),t("div",Uo,d(r.errors.last_marks),1)])):c("",!0),l.form_last.is_last==0?(n(),i("div",Co,[t("label",Lo,[_(d(l.form.lost_product_type=="1"?"\u8868\u793A\u7528\u306E\u6392\u51FA\u7387 (%)":"\u8868\u793A\u7528\u306E\u5728\u5EAB\u6570")+"\uFF08\u534A\u89D2\u6570\u5B57\uFF09",1),jo]),u(t("input",{"onUpdate:modelValue":e[31]||(e[31]=o=>l.form_last.category_id=o),id:"text1-4",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044",step:a.count_step,required:""},null,8,Oo),[[b,l.form_last.category_id]]),t("div",Fo,d(r.errors.last_marks),1)])):c("",!0),l.form_last.is_last==0&&l.form.lost_product_type!="1"?(n(),i("div",Mo,[Io,u(t("input",{"onUpdate:modelValue":e[32]||(e[32]=o=>l.form_last.last_order=o),id:"text1-4",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u6392\u51FA\u8A2D\u5B9A\u304C\u306A\u3044\u5834\u5408\u306F\u30010\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002",required:""},null,512),[[b,l.form_last.last_order]]),t("div",Do,d(r.errors.last_order),1)])):c("",!0),t("div",So,[Ro,t("div",To,[m.url2?(n(),i("img",{key:0,src:m.url2,class:"inline-block mt-4 h-24"},null,8,Ho)):c("",!0)]),t("input",{onChange:e[33]||(e[33]=(...o)=>a.previewImage2&&a.previewImage2(...o)),ref:"photo2",id:"file1-1",type:"file",class:"w-full"},null,544),t("div",Eo,d(r.errors.last_image),1)]),t("div",No,[qo,t("button",{type:"button",onClick:e[34]||(e[34]=o=>m.open=!1),class:"inline-block items-center px-8 py-2.5 bg-red-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-700 active:bg-red-700 focus:outline-none focus:border-red-700 focus:shadow-outline-red transition ease-in-out duration-150"}," \u30AD\u30E3\u30F3\u30BB\u30EB ")])],32)]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])]),_:1},8,["closeModal"])],64)}const Zo=W($,[["render",Bo]]);export{Zo as default};
