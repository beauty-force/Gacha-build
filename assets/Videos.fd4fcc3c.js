import{H as D,E as T,G as V,r as n,o as i,c as d,b as r,w as l,F as _,d as e,f as j,t as b,h as g,I as N,J as h,K as y,e as A}from"./app.5aeb4b76.js";import{A as H}from"./Admin.1891631d.js";import{N as L,e as M,U as O,o as U,f as B,u as F}from"./useConfirm.82591324.js";import{_ as P}from"./_plugin-vue_export-helper.cdc0426e.js";const{confirm:R}=F(),S={components:{Head:D,AppLayout:H,Dialog:L,DialogPanel:M,DialogTitle:O,TransitionChild:U,TransitionRoot:B},props:{errors:Object,auth:Object,category_share:Object,videos:Object},data(){return{open:!1}},methods:{submit(){this.$refs.video.files.length>0?this.form.video=this.$refs.video.files[0]:this.form.video="",this.form.post(route("admin.video.store"))},open_form(s){this.form.id=s?s.id:0,this.form.gacha_id=s?s.gacha_id:0,this.form.group=s?s.group:"",this.form.level=s?s.level:"",this.open=!0},destroy(s){R("\u524A\u9664\u3057\u3066\u3082\u3044\u3044\u3067\u3059\u304B\uFF1F","","error").then(t=>{t&&T.Inertia.delete(route("admin.video.destroy",{id:s}),{preserveScroll:!0})})}},setup(s){return{form:V({id:0,gacha_id:0,group:"",level:"",video:""})}}},z={class:"pt-6 md:px-6 px-4"},E={key:0,class:"w-full mb-2 py-2 border-b"},I={class:"max-w-48 px-2"},q={class:"max-w-32"},G=["src"],J={class:"flex-1 justify-end flex gap-2"},K=["onClick"],Q=["onClick"],W=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),X={class:"fixed inset-0 z-20 overflow-y-auto"},Y={class:"flex min-h-full items-center justify-center p-4 text-center sm:items-center sm:p-0"},Z={class:"mb-4 space-y-1"},$=e("label",{for:"group",class:"block font-medium text-sm text-neutral-700"},"\u30B0\u30EB\u30FC\u30D7",-1),ee=e("label",{for:"level",class:"block font-medium text-sm text-neutral-700"},[A("\u540D\u524D"),e("span",{class:"text-red-500"},"*")],-1),te=e("label",{for:"video",class:"block font-medium text-neutral-700 mb-2"},"\u52D5\u753B\u30D5\u30A1\u30A4\u30EB\u9078\u629E ",-1),oe={id:"video",ref:"video",type:"file",accept:"video/*",class:"w-full"},se={class:"text-center"},re=e("button",{type:"submit",class:"inline-block items-center px-8 py-2 bg-green-500 border border-transparent rounded-md font-semibold text-sm text-white uppercase tracking-widest hover:bg-green-700 active:bg-green-700 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150 mr-2"}," \u767B\u9332 ",-1);function ne(s,t,p,c,a,u){const v=n("Head"),f=n("TransitionChild"),x=n("DialogPanel"),w=n("Dialog"),k=n("TransitionRoot"),C=n("AppLayout");return i(),d(_,null,[r(v,{title:"\u30AC\u30C1\u30E3\u6F14\u51FA\u52D5\u753B\u8A2D\u5B9A"}),r(C,{hide_cat_bar:1,closeModal:()=>{a.open=!1}},{default:l(()=>[e("div",z,[e("button",{onClick:t[0]||(t[0]=()=>{u.open_form(null)}),class:"rounded-lg bg-rose-500 hover:bg-rose-400 text-sm text-white px-4 py-1 mb-3"},"\u767B\u9332"),(i(!0),d(_,null,j(p.videos,(o,m)=>(i(),d("div",{class:"mb-4 flex items-center flex-wrap gap-2",key:m},[m==0||p.videos[m-1].group!==o.group?(i(),d("div",E," \u300C"+b(o.group)+"\u300D ",1)):g("",!0),e("div",I," \u300C"+b(o.level)+"\u300D \u52D5\u753B : ",1),e("div",q,[o.file?(i(),d("video",{key:0,class:"inline-block max-h-96",src:o.file,type:"video/mp4",controls:""},null,8,G)):g("",!0)]),e("div",J,[e("button",{onClick:()=>{u.open_form(o)},class:"rounded-lg bg-yellow-500 hover:bg-yellow-400 text-sm text-white px-4 py-1"},"\u7DE8\u96C6",8,K),e("button",{onClick:le=>u.destroy(o.id),class:"rounded-lg px-3 py-1 bg-red-500 text-sm text-neutral-50"}," \u524A\u9664 ",8,Q)])]))),128))]),e("template",null,[r(k,{as:"template",show:a.open},{default:l(()=>[r(w,{as:"div",class:"relative z-20",onClose:t[5]||(t[5]=o=>a.open=!1),open:a.open},{default:l(()=>[r(f,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:l(()=>[W]),_:1}),e("div",X,[e("div",Y,[r(f,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:l(()=>[r(x,{class:"p-3 relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-md"},{default:l(()=>[e("form",{onSubmit:t[4]||(t[4]=N(o=>u.submit(),["prevent"]))},[e("div",Z,[$,h(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>c.form.group=o),id:"group",type:"text",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044"},null,512),[[y,c.form.group]]),ee,h(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>c.form.level=o),id:"level",type:"text",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044",required:""},null,512),[[y,c.form.level]]),te,e("input",oe,null,512)]),e("div",se,[re,e("button",{type:"button",onClick:t[3]||(t[3]=o=>a.open=!1),class:"inline-block items-center px-8 py-2 bg-red-500 border border-transparent rounded-md font-semibold text-sm text-white uppercase tracking-widest hover:bg-red-700 active:bg-red-700 focus:outline-none focus:border-red-700 focus:shadow-outline-red transition ease-in-out duration-150"}," \u30AD\u30E3\u30F3\u30BB\u30EB ")])],32)]),_:1})]),_:1})])])]),_:1},8,["open"])]),_:1},8,["show"])])]),_:1},8,["closeModal"])],64)}const ue=P(S,[["render",ne]]);export{ue as default};
