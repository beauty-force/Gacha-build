import{d as m,r as l,c,o as n,a as _,w as i,b as t,t as e,F as p,f as x,e as y,l as f,i as h}from"./app-lJilX7J2.js";import{A as L}from"./Admin-DAKqTPjT.js";import{P as N}from"./Pagination-DYhHgwSo.js";import{G as v}from"./GachaCard-Pq5AqWje.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useConfirm-C51xXyxl.js";import"./index-BlCAchf0.js";import"./GachaButtons-YQu4KwRi.js";import"./PlayIcon-zPolRzYf.js";const B={components:{Head:m.Head,AppLayout:L,Link:m.Link,GachaCard:v,Pagination:N},props:{errors:Object,gachas:Object,search_cond:Object,total:Number,total_exchanged:Number,total_point:Number,total_gacha:Number,id:Number},mounted(){},methods:{format_number(d){return String(d).replace(/(.)(?=(\d{3})+$)/g,"$1,")}},setup(d){return{form_search:m.useForm(d.search_cond)}}},C={class:"md:px-1 px-2"},H={class:"border-b w-full p-2 mb-2 font-semibold flex flex-wrap gap-4 items-center"},P={class:"w-full flex flex-col gap-4"},V={class:"w-full table-auto"},j={class:"text-sm border border-gray-400"},F={class:"border-r border-t border-gray-400"},G=["rowspan"],O=["rowspan"],D=["rowspan"],E={class:"text-center py-2 border-r border-gray-200"},S={class:"text-center py-2 border-r border-gray-200"},I={class:"text-center py-2 border-r border-gray-200"},T={class:"text-center py-2 border-r border-gray-200"},q={class:"text-center py-2 border-r border-gray-200"},z={class:"text-center py-2"},J={class:"border-r border-r-gray-400 border-t border-t-gray-200"},K={class:"text-center py-2 border-r border-gray-200"},M={class:"text-center py-2 border-r border-gray-200"},Q={class:"text-center py-2 border-r border-gray-200"},R={class:"text-center py-2 border-r border-gray-200"},U={class:"text-center py-2 border-r border-gray-200"},W={class:"text-center py-2"};function X(d,a,s,Y,Z,u){const g=l("Head"),b=l("Link"),k=l("Pagination"),w=l("AppLayout");return n(),c(p,null,[_(g,{title:"ガチャ履歴"}),_(w,null,{default:i(()=>[t("div",C,[t("div",H,[a[0]||(a[0]=t("h3",{class:"flex-1"},"ガチャ履歴",-1)),a[1]||(a[1]=t("span",null,"合計:",-1)),t("span",null,e(s.total_gacha)+"回",1),t("span",null,e(u.format_number(s.total_point-s.total_exchanged))+"pt",1),t("span",null,"( "+e(u.format_number(s.total_point))+"pt 使用、"+e(u.format_number(s.total_exchanged))+"pt 交換 )",1)]),t("div",P,[t("table",V,[a[2]||(a[2]=t("thead",null,[t("tr",{class:"border border-gray-400 border-collapse font-bold"},[t("td",{class:"text-center py-2"},"ガチャID"),t("td",{class:"text-center py-2"},"カテゴリー"),t("td",{class:"text-center py-2"},"ガチャ日時"),t("td",{class:"text-center py-2"},"製品番号"),t("td",{class:"text-center py-2"},"名前"),t("td",{class:"text-center py-2"},"レア度"),t("td",{class:"text-center py-2"},"種類"),t("td",{class:"text-center py-2"},"状態"),t("td",{class:"text-center py-2"},"更新日時")])],-1)),t("tbody",j,[(n(!0),c(p,null,x(s.gachas,r=>(n(),c(p,null,[t("tr",F,[t("td",{class:"text-center py-2 border border-gray-400",rowspan:r.products.length},[_(b,{class:"underline text-sky-600",href:d.route("admin.gacha.edit",{id:r.gacha_id})},{default:i(()=>[y(e(r.gacha_id),1)]),_:2},1032,["href"])],8,G),t("td",{class:"text-center py-2 border border-gray-400",rowspan:r.products.length},e(r.category),9,O),t("td",{class:"text-center py-2 border border-gray-400",rowspan:r.products.length},e(r.created_at),9,D),t("td",E,[r.products[0].id>0?(n(),f(b,{key:0,class:"underline text-sky-600",href:d.route("admin.product",{id:r.products[0].id})},{default:i(()=>[y(e(r.products[0].id),1)]),_:2},1032,["href"])):h("",!0)]),t("td",S,e(r.products[0].name),1),t("td",I,e(r.products[0].rare),1),t("td",T,e(r.products[0].type),1),t("td",q,e(r.products[0].status),1),t("td",z,e(r.products[0].updated_at),1)]),(n(!0),c(p,null,x(r.products.slice(1),o=>(n(),c("tr",J,[t("td",K,[o.id>0?(n(),f(b,{key:0,class:"underline text-sky-600",href:d.route("admin.product",{id:o.id})},{default:i(()=>[y(e(o.id),1)]),_:2},1032,["href"])):h("",!0)]),t("td",M,e(o.name),1),t("td",Q,e(o.rare),1),t("td",R,e(o.type),1),t("td",U,e(o.status),1),t("td",W,e(o.updated_at),1)]))),256))],64))),256))])]),_(k,{search_cond:{...s.search_cond,id:s.id},route_name:"admin.users.gacha_log",total:s.total},null,8,["search_cond","total"])])])]),_:1})],64)}const ct=A(B,[["render",X]]);export{ct as default};
