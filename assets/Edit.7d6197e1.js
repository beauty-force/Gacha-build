import{L as E,H as N,E as q,G as k,r as x,o as n,c as a,b as _,w as b,F as g,d as t,n as j,I as O,e as m,t as d,h as u,J as f,K as p,M as w,f as y,a2 as I}from"./app.1056e6e0.js";import{A as z}from"./Admin.e1d97bd6.js";import{B as A}from"./main.8e4e47be.js";import{N as B,e as Y,U as X,o as G,f as J,r as K,u as Q}from"./useConfirm.15ac7fa5.js";import{i as W}from"./index.29ba31e3.js";import{_ as Z}from"./_plugin-vue_export-helper.cdc0426e.js";import{r as $}from"./ExclamationTriangleIcon.4a5f9190.js";import"./isNativeReflectConstruct.8f2fcece.js";const{confirm:T,alert:V}=Q(),tt={components:{Link:E,Head:N,AppLayout:z,Dialog:B,DialogPanel:Y,DialogTitle:X,TransitionChild:G,TransitionRoot:J,ExclamationTriangleIcon:$,XMarkIcon:K,VueDatePicker:A},props:{errors:Object,gacha:Object,category_share:Object,product_last:Object,products:Object,productsLostSetting:Object,videos:Object,titles:Object,ranks:Object,lost_types:Object,video_names:Object,plans:Object},data(){return{url:null,url1:null,url2:null,open:!1,sorting:"point_down",csvDialogOpen:!1,csvFile:null,imageFiles:[],csvUploading:!1}},methods:{format_number(o){return String(o).replace(/(.)(?=(\d{3})+$)/g,"$1,")},addVideo(){if(this.video_names.length==0){V("\u767B\u9332\u3055\u308C\u305F\u52D5\u753B\u304C\u3042\u308A\u307E\u305B\u3093\u3002");return}this.form.videos.push({level:this.video_names[0],point:0})},deleteVideo(o){this.form.videos=this.form.videos.filter((e,l)=>l!=o)},destroy_product_last(o){T("\u524A\u9664\u3057\u3066\u3082\u3044\u3044\u3067\u3059\u304B\uFF1F","","error").then(e=>{e&&q.Inertia.delete(route("admin.gacha.product_last.destroy",{id:o}))})},modalProductLastOpen(){this.product_last.name?(this.form_last.last_name=this.product_last.name,this.form_last.last_point=this.product_last.point,this.form_last.last_rare=this.product_last.rare,this.form_last.last_image="",this.form_last.is_update=1,this.url2=this.product_last.image):(this.form_last.last_name="",this.form_last.last_point="",this.form_last.last_rare="",this.form_last.last_image="",this.form_last.is_update=0,this.url2=""),this.form_last.is_last=1,this.form_last.last_marks=0,this.open=!0},modalProductOpen(o){o?(this.form_last.last_id=o.id,this.form_last.last_name=o.name,this.form_last.last_point=o.point,this.form_last.last_rare=o.rare,this.form_last.last_marks=parseFloat((o.marks*this.count_step).toFixed(7)),this.form_last.category_id=parseFloat((o.category_id*this.count_step).toFixed(7)),this.form_last.last_order=o.order,this.form_last.last_image="",this.form_last.is_update=1,this.url2=o.image,this.form_last.rank=o.rank,this.form_last.delivery_only=o.lost_type%2==1,this.form_last.black_case=Math.floor(o.lost_type/2)==1):(this.form_last.last_id="",this.form_last.last_name="",this.form_last.last_point="",this.form_last.last_rare="",this.form_last.last_marks=0,this.form_last.last_order=0,this.form_last.last_image="",this.form_last.is_update=0,this.url2="",this.form_last.rank=0,this.form_last.category_id=0,this.form_last.delivery_only=!1,this.form_last.black_case=!1),this.form_last.is_last=0,this.open=!0},closeModal(){this.open=!1},submit_last(){if(this.form_last.is_last==1)this.$refs.photo2.files[0]&&(this.form_last.last_image=this.$refs.photo2.files[0]),this.form_last.post(route("admin.gacha.product_last.create"),{preserveScroll:!0,onFinish:()=>{}});else{if(this.$refs.photo2.files[0]&&(this.form_last.last_image=this.$refs.photo2.files[0]),this.form_last.last_order>0&&this.form_last.last_marks!=1){V("\u6392\u51FA\u9806\u5E8F\u306F\u70B9\u6570\u306E\u5024\u304C1\u306E\u5834\u5408\u306B\u306E\u307F\u8A2D\u5B9A\u3067\u304D\u307E\u3059\u3002");return}if(this.form_last.last_order>0&&this.form_last.last_order<=this.gacha.count){V("\u3053\u306E\u30AC\u30C1\u30E3\u306F\u3059\u3067\u306B "+this.gacha.count+" \u56DE\u56DE\u3055\u308C\u3066\u3044\u307E\u3059\u3002 "+this.gacha.count+" \u4EE5\u4E0A\u3092\u8A2D\u5B9A\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059\u3002");return}if(this.form_last.last_order>0&&this.products.data.find(e=>e.order==this.form_last.last_order&&e.id!=this.form_last.last_id)){V("\u3053\u306E\u6392\u51FA\u9806\u5E8F\u306F\u3059\u3067\u306B\u4F7F\u7528\u3057\u307E\u3057\u305F\u3002");return}let o=k(this.form_last.data());o.last_marks/=this.count_step,o.category_id/=this.count_step,o.post(route("admin.gacha.product.create"),{onFinish:()=>{},preserveScroll:!0})}},submit(){let o=this.form.count_card-this.gacha.count;var e=0;let l;for(l=0;l<this.form.lostProducts.length;l++)this.form.lostProducts[l].key&&(e=e+this.form.lostProducts[l].count);let r=0;for(l=0;l<this.products.data.length;l++)(this.form.lost_product_type!="1"||this.products.data[l].order==0)&&(r=r+Math.max(0,this.products.data[l].marks)*this.count_step);this.form.lost_product_type=="1"&&(this.form.count_card=0);let c=e+r;c=parseFloat(c.toFixed(7));let i="",U=!1;this.form.lost_product_type=="1"?(i=c==100?"\u30AB\u30FC\u30C9\u6392\u51FA\u7387\u306E\u5408\u8A08\u304C\u6B63\u78BA\u3067\u3059\u3002":`\u30AB\u30FC\u30C9\u6392\u51FA\u7387\u306E\u5408\u8A08\u306F100\uFF05\u3067\u306A\u3051\u308C\u3070\u306A\u308A\u307E\u305B\u3093\u3002\u73FE\u5728${c}%\u3067\u3059\u3002`,this.form.spin_limit=0,U=c==100):(i=c==o?"\u6B8B\u308A\u53E3\u6570 "+o+" = \u5F53\u305F\u308A\u30AB\u30FC\u30C9\u306E\u6B8B\u308A\u6570 "+r+" + \u30AB\u30FC\u30C9\u6307\u5B9A\u306E\u6B8B\u308A\u6570 "+e+`
\u4FDD\u5B58\u3057\u307E\u3059\u304B\uFF1F`:"\u6B8B\u308A\u53E3\u6570 "+o+" \u2260 \u5F53\u305F\u308A\u30AB\u30FC\u30C9\u306E\u6B8B\u308A\u6570 "+r+" + \u30AB\u30FC\u30C9\u6307\u5B9A\u306E\u6B8B\u308A\u6570 "+e+`
\u5927\u4E08\u592B\u3067\u3059\u304B\uFF1F`,U=c==o),T(i,"",U?"success":"warning").then(P=>{P&&(this.$refs.photo&&(this.form.image=this.$refs.photo.files[0]),this.$refs.photo1&&(this.form.thumbnail=this.$refs.photo1.files[0]),k({...this.form.data(),lostProducts:this.form.lostProducts.map(C=>({...C,count:C.count/this.count_step}))}).post(route("admin.gacha.update"),{preserveScroll:!0}))})},previewImage(o){const e=o.target.files[0];this.url=URL.createObjectURL(e)},previewImage1(o){const e=o.target.files[0];this.url1=URL.createObjectURL(e)},previewImage2(o){const e=o.target.files[0];this.url2=URL.createObjectURL(e)},toPublic(o){this.form_to_public.to_status=o,this.form_to_public.post(route("admin.gacha.to_public"),{onFinish:()=>{},preserveScroll:!0})},gachaLimit(o){this.form_to_limit.to_status=o,this.form_to_limit.post(route("admin.gacha.gacha_limit"),{onFinish:()=>{},preserveScroll:!0})},addLostProduct(){let o=0,e;for(e=0;e<this.form.lostProducts.length;e++)o<this.form.lostProducts[e].key&&(o=this.form.lostProducts[e].key);o=o+1,this.form.lostProducts.push({id:0,point:0,count:0,key:o})},deleteLostProduct(o){let e;for(e=0;e<this.form.lostProducts.length;e++)if(o==this.form.lostProducts[e].key){this.form.lostProducts[e].key=0;break}},copyLink(o){navigator.clipboard.writeText(o).then(()=>{W("URL\u3092\u30B3\u30D4\u30FC\u3057\u307E\u3057\u305F\u3002",{autoClose:2e3})})},onCsvFileChange(o){this.csvFile=o.target.files[0]},onImageFilesChange(o){this.imageFiles=Array.from(o.target.files)},removeImageFile(o){this.imageFiles.splice(o,1)},submitCsv(){if(!this.csvFile){V("CSV\u30D5\u30A1\u30A4\u30EB\u3092\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044");return}this.csvUploading=!0;const o=new FormData;o.append("csv",this.csvFile),o.append("gacha_id",this.gacha.id),this.imageFiles.forEach((e,l)=>{o.append(`images[${l}]`,e)});try{k({csv:this.csvFile,gacha_id:this.gacha.id,images:this.imageFiles}).post(route("admin.gacha.upload_csv"),{preserveScroll:!0,onFinish:()=>{this.csvUploading=!1,this.csvDialogOpen=!1,this.csvFile=null,this.imageFiles=[]}})}catch{V("\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u306B\u5931\u6557\u3057\u307E\u3057\u305F"),this.csvUploading=!1}}},setup(o){const e=k({id:o.gacha.id,title:o.gacha.title,point:o.gacha.point,consume_point:o.gacha.consume_point,count_card:o.gacha.count_card,count:o.gacha.count,lost_product_type:o.gacha.lost_product_type,thumbnail:"",image:"",category_id:o.category_share.cat_id,lostProducts:[],spin_limit:o.gacha.spin_limit,ids:[],videos:o.videos,start_time:o.gacha.start_time,end_time:o.gacha.end_time,rank_limit:o.gacha.rank_limit,plan_limit:o.gacha.plan_limit,publish_at:o.gacha.publish_at,unpublish_at:o.gacha.unpublish_at});let l={last_id:"",last_name:"",last_point:"",last_rare:"",last_marks:"",last_image:"",last_order:"",is_last:0,gacha_id:o.gacha.id,is_update:0,rank:0,category_id:0,delivery_only:!1,black_case:!1};const r=k(l),c=k({gacha_id:o.gacha.id,to_status:1}),i=k({gacha_id:o.gacha.id,to_status:1});return{form:e,form_last:r,form_to_public:c,form_to_limit:i}},mounted(){this.url=this.gacha.image,this.url1=this.gacha.thumbnail,this.form.lostProducts=[];let o;for(o=0;o<this.productsLostSetting.length;o++){let e=this.productsLostSetting[o];this.form.lostProducts.push({id:e.id,count:parseFloat((e.count*this.count_step).toFixed(7)),point:e.point,key:e.id})}},computed:{count_step(){return this.form.lost_product_type=="1"?.01:1},sortedProducts(){let o=this.products.data;return this.sorting=="point_up"&&o.sort((e,l)=>e.point-l.point),this.sorting=="point_down"&&o.sort((e,l)=>l.point-e.point),this.sorting=="count_up"&&o.sort((e,l)=>e.marks-l.marks),this.sorting=="count_down"&&o.sort((e,l)=>l.marks-e.marks),o},point_rate(){let o=this.form.point*(this.form.count_card-this.gacha.count);this.form.lost_product_type=="1"&&(o=this.form.point*1e4);let e=0;return this.form.lostProducts.forEach(l=>{e+=l.point*l.count/this.count_step}),this.products.data.forEach(l=>{l.marks>0&&(e+=l.point*l.marks/this.count_step)}),(e*100/o).toFixed(2)}}},et={class:"pt-6 md:px-6 px-4"},st={class:"flex flex-wrap justify-between mb-4 gap-2"},ot={class:"text-right"},lt=["disabled"],rt=["disabled"],nt=["disabled"],at=["disabled"],it={key:0,class:"mb-4 flex flex-wrap gap-2 items-center justify-between"},dt={class:"font-medium text-sm text-neutral-700 flex items-center gap-2"},ct={class:"mb-4"},ut=t("label",{class:"block font-medium text-sm text-neutral-700 mb-2 ml-1"},"\u516C\u958B\u6642\u523B",-1),mt={class:"w-full flex flex-wrap gap-3 items-center"},_t={class:"mb-4"},ft=t("label",{class:"block font-medium text-sm text-neutral-700 mb-2 ml-1"},"\u975E\u516C\u958B\u6642\u523B",-1),ht={class:"w-full flex flex-wrap gap-3 items-center"},bt={class:"mb-4"},pt=t("label",{for:"title",class:"block font-medium text-sm text-neutral-700 mb-1"},"\u30BF\u30A4\u30C8\u30EB",-1),gt={key:0,class:"text-red-500 text-sm mt-1"},xt={class:"mb-4"},vt=t("label",{for:"text1",class:"block font-medium text-sm text-neutral-700 mb-1"},[m("\u6D88\u8CBB\u30DD\u30A4\u30F3\u30C8\uFF08\u30C6\u30AD\u30B9\u30C8\uFF09"),t("span",{class:"text-red-500"},"*")],-1),yt={key:0,class:"text-red-500 text-sm mt-1"},kt={class:"mb-4"},wt=t("label",{for:"consume_point",class:"block font-medium text-sm text-neutral-700 mb-1"},[m("\u30E9\u30F3\u30AF\u30A2\u30C3\u30D7\u30DD\u30A4\u30F3\u30C8\uFF08\u30C6\u30AD\u30B9\u30C8\uFF09"),t("span",{class:"text-red-500"},"*")],-1),Ct={key:0,class:"text-red-500 text-sm mt-1"},Vt={class:"mb-4"},Ut=t("label",{for:"type",class:"block font-medium text-sm text-neutral-700 mb-2 ml-1"},[m("\u7A2E\u985E "),t("span",{class:"text-red-500"},"*")],-1),Ft=t("option",{value:"0"},"\u9650\u5B9A\u30AB\u30FC\u30C9",-1),Pt=t("option",{value:"1"},"\u7121\u9650\u30AC\u30C1\u30E3",-1),Lt=[Ft,Pt],jt={key:1,class:"mb-4"},Ot=t("label",{for:"text2",class:"block font-medium text-sm text-neutral-700 mb-1"},[m("\u7DCF\u30AB\u30FC\u30C9\u6570\uFF08\u534A\u89D2\u6570\u5B57\uFF09"),t("span",{class:"text-red-500"},"*")],-1),Dt={key:0,class:"text-red-500 text-sm mt-1"},Mt={class:"mb-4"},St=t("label",{for:"text1",class:"block font-medium text-sm text-neutral-700 mb-1"},[m("\u30AC\u30C1\u30E3\u5236\u9650\u56DE\u6570 "),t("span",{class:"text-red-500"},"*")],-1),It={key:0,class:"text-red-500 text-sm mt-1"},Tt={class:"mb-4"},Ht=t("label",{for:"rank_limit",class:"block font-medium text-sm text-neutral-700 mb-1"},"\u30E9\u30F3\u30AF\u5236\u9650",-1),Rt=t("option",{value:"0"},"\u5236\u9650\u306A\u3057",-1),Et=["value"],Nt=t("option",{value:"-1"},"\u30B7\u30FC\u30AF\u30EC\u30C3\u30C8",-1),qt=t("option",{value:"-2"},"\u65B0\u898F\u767B\u9332\u8005\u9650\u5B9A",-1),zt={class:"mb-4"},At=t("label",{for:"plan_limit",class:"block font-medium text-sm text-neutral-700 mb-1"},"\u30B5\u30D6\u30B9\u30AF\u30EA\u30D7\u30B7\u30E7\u30F3\u5236\u9650",-1),Bt=t("option",{value:0},"\u5236\u9650\u306A\u3057",-1),Yt=["value"],Xt=t("option",{value:-1},"\u30B5\u30D6\u30B9\u30AF\u30EA\u30D7\u30B7\u30E7\u30F3",-1),Gt={class:"mb-4"},Jt=t("label",{class:"block font-medium text-sm text-neutral-700 mb-2 ml-1"},"\u958B\u59CB\u6642\u523B",-1),Kt={class:"w-full flex flex-wrap gap-3 items-center"},Qt={class:"mb-4"},Wt=t("label",{class:"block font-medium text-sm text-neutral-700 mb-2 ml-1"},"\u7D42\u4E86\u6642\u523B",-1),Zt={class:"w-full flex flex-wrap gap-3 items-center"},$t={class:"mb-4"},te=t("label",{for:"cards",class:"block font-medium text-sm text-neutral-700 mb-2 ml-1"},"\u30CF\u30BA\u30EC\u30AB\u30FC\u30C9\u767B\u9332\uFF08\u534A\u89D2\u6570\u5B57\uFF09",-1),ee={key:0,class:"w-full flex flex-row items-center mb-3"},se={class:"flex-1 flex items-center"},oe={class:"flex-1 inline-block pr-1"},le=["onUpdate:modelValue"],re=t("span",{class:"pl-1 pr-3"},"PT : ",-1),ne={class:"flex-1 inline-block pr-1"},ae=["onUpdate:modelValue","step"],ie={class:"px-2"},de={class:"w-10 shrink h-10"},ce=["onClick"],ue={class:"text-center pt-2"},me={class:"mb-4"},_e=t("label",{for:"file1",class:"block font-medium text-sm text-neutral-700 mb-1"},[m("\u30B5\u30E0\u30CD\u30A4\u30EB "),t("span",{class:"text-red-500"},"*")],-1),fe={class:"text-center w-full"},he=["src"],be={key:0,class:"text-red-500 text-sm mt-1"},pe={class:"mb-8"},ge=t("label",{for:"file1",class:"block font-medium text-sm text-neutral-700 mb-1"},[m("\u8A73\u7D30\u30DA\u30FC\u30B8\u753B\u50CF "),t("span",{class:"text-red-500"},"*")],-1),xe={class:"text-center w-full"},ve=["src"],ye={key:0,class:"text-red-500 text-sm mt-1"},ke={class:"mb-8"},we=t("label",{for:"file1",class:"block font-medium text-sm text-neutral-700 mb-1"},[m("\u52D5\u753B\u8A2D\u5B9A"),t("span",{class:"text-red-500"},"*")],-1),Ce={class:"flex items-center gap-3 py-1"},Ve=["onUpdate:modelValue"],Ue=["onUpdate:modelValue"],Fe=["value"],Pe={class:"w-10 shrink h-10"},Le=["onClick"],je={class:"text-center pt-2"},Oe={class:"mb-8 text-center flex gap-2 justify-center sticky bottom-5"},De=t("button",{type:"submit",class:"inline-block items-center flex-1 max-w-60 py-2 bg-green-500 rounded-md font-semibold text-sm text-white uppercase tracking-widest hover:bg-green-700 active:bg-green-700 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150"}," \u4FDD\u5B58 ",-1),Me=t("h3",{class:"mb-2 font-bold"},"\u30E9\u30B9\u30C8\u30EF\u30F3\u8CDE \u767B\u9332",-1),Se=t("hr",null,null,-1),Ie={class:"mb-6 py-2 border-neutral-200 border-b flex flex-wrap justify-center items-center gap-2"},Te={key:0,class:"flex-1 flex border-neutral-200 items-center"},He=["src"],Re={class:"flex flex-col justify-evenly text-sm py-1 px-2"},Ee={class:"text-red-500"},Ne={class:"flex-1 flex flex-wrap gap-2 justify-center"},qe={class:"flex flex-wrap justify-between mb-4 gap-2"},ze={class:"flex justify-between items-center mb-2 gap-2"},Ae=t("span",{class:"font-bold"},"\u5F53\u305F\u308A\u30AB\u30FC\u30C9 \u767B\u9332",-1),Be={class:"flex items-center gap-2"},Ye=t("label",{for:"sorting",class:"block font-medium text-sm text-neutral-700 text-nowrap"},"\u30BD\u30FC\u30C8",-1),Xe=t("option",{value:"point_up"},"\u30DD\u30A4\u30F3\u30C8\u6607\u9806",-1),Ge=t("option",{value:"point_down"},"\u30DD\u30A4\u30F3\u30C8\u964D\u9806",-1),Je={value:"count_up"},Ke={value:"count_down"},Qe=t("hr",{class:"mb-2"},null,-1),We={class:"mb-2 pb-2 border-neutral-200 border-b flex items-center justify-between flex-wrap"},Ze={class:"flex border-neutral-200 items-center gap-1"},$e=["src"],ts={class:"flex-1 inline-block text-sm py-1 px-2"},es={key:0},ss={class:"text-red-500"},os={key:0,class:"space-x-3"},ls={key:0},rs={key:1},ns={class:"text-center flex flex-wrap gap-2"},as=["onClick"],is=["onClick"],ds={class:"flex justify-between text-center my-6 items-center gap-4"},cs=t("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),us={class:"fixed inset-0 z-10 overflow-y-auto"},ms={class:"flex min-h-full items-center justify-center p-4 text-center sm:items-center sm:p-0"},_s={class:"mb-4"},fs=t("label",{for:"text1-1",class:"block font-medium text-sm text-neutral-700 mb-1"},[m("\u540D\u524D"),t("span",{class:"text-red-500"},"*")],-1),hs={class:"text-red-500 text-sm mt-1"},bs={class:"mb-4"},ps=t("label",{for:"text1-2",class:"block font-medium text-sm text-neutral-700 mb-1"},[m("\u5909\u63DB\u30DD\u30A4\u30F3\u30C8\uFF08\u534A\u89D2\u6570\u5B57\uFF09"),t("span",{class:"text-red-500"},"*")],-1),gs={class:"text-red-500 text-sm mt-1"},xs={class:"mb-4 flex items-center gap-2"},vs=t("label",{for:"delivery_only",class:"cursor-pointer text-sm py-1"}," \u767A\u9001\u5C02\u7528 ",-1),ys={class:"mb-4 flex items-center gap-2"},ks=t("label",{for:"black_case",class:"cursor-pointer text-sm py-1"}," \u9ED2\u30B1\u30FC\u30B9\u4ED8\u304D ",-1),ws={key:0,class:"mb-4"},Cs=t("label",{for:"last_rare",class:"block font-medium text-sm text-neutral-700 mb-1"},"\u7A2E\u985E",-1),Vs=["value"],Us={key:1,class:"mb-4"},Fs=t("label",{for:"rank",class:"block font-medium text-sm text-neutral-700 mb-1"},"\u30AB\u30FC\u30C9\u30E9\u30F3\u30AF",-1),Ps=t("option",{value:"0"},"\u305D\u306E\u4ED6",-1),Ls=t("option",{value:"1"},"1\u7B49",-1),js=t("option",{value:"2"},"2\u7B49",-1),Os=t("option",{value:"3"},"3\u7B49",-1),Ds=t("option",{value:"4"},"4\u7B49",-1),Ms=[Ps,Ls,js,Os,Ds],Ss={key:2,class:"mb-4"},Is={for:"text1-4",class:"block font-medium text-sm text-neutral-700 mb-1"},Ts=t("span",{class:"text-red-500"},"*",-1),Hs=["step"],Rs={class:"text-red-500 text-sm mt-1"},Es={key:3,class:"mb-4"},Ns={for:"text1-4",class:"block font-medium text-sm text-neutral-700 mb-1"},qs=t("span",{class:"text-red-500"},"*",-1),zs=["step"],As={class:"text-red-500 text-sm mt-1"},Bs={key:4,class:"mb-4"},Ys=t("label",{for:"text1-4",class:"block font-medium text-sm text-neutral-700 mb-1"},"\u6392\u51FA\u9806\u5E8F",-1),Xs={class:"text-red-500 text-sm mt-1"},Gs={class:"mb-4"},Js=t("label",{for:"file1-1",class:"block font-medium text-sm text-neutral-700 mb-1"},[m("\u753B\u50CF\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9 "),t("span",{class:"text-red-500"},"*")],-1),Ks={class:"text-center w-full"},Qs=["src"],Ws={class:"text-red-500 text-sm mt-1"},Zs={class:"mb-6 text-center"},$s=t("button",{type:"submit",class:"inline-block items-center px-8 py-2.5 bg-green-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 active:bg-green-700 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150 mr-2"}," \u4FDD\u5B58 ",-1),to=t("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),eo={class:"fixed inset-0 z-40 overflow-y-auto"},so={class:"flex min-h-full items-center justify-center p-4 text-center sm:items-center sm:p-0"},oo=t("div",{class:"mb-4"},[t("a",{href:"/gacha_csv/product.csv",download:"",class:"text-blue-600 underline"},"CSV\u30C6\u30F3\u30D7\u30EC\u30FC\u30C8\u3092\u30C0\u30A6\u30F3\u30ED\u30FC\u30C9")],-1),lo={class:"mb-4"},ro=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"CSV\u30D5\u30A1\u30A4\u30EB",-1),no={class:"mb-4"},ao=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"\u753B\u50CF\u30D5\u30A1\u30A4\u30EB",-1),io=t("p",{class:"text-sm text-gray-500 mt-1"},"\u753B\u50CF\u30D5\u30A1\u30A4\u30EB\u306F\u4EFB\u610F\u3067\u3059\u3002CSV\u306B\u8A18\u8F09\u3055\u308C\u305F\u753B\u50CF\u540D\u3068\u4E00\u81F4\u3059\u308B\u30D5\u30A1\u30A4\u30EB\u3092\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044\u3002",-1),co={key:0,class:"mt-2"},uo=t("p",{class:"text-sm font-medium text-gray-700"},"\u9078\u629E\u3055\u308C\u305F\u753B\u50CF:",-1),mo={class:"mt-1 text-sm text-gray-500"},_o=["onClick"],fo={class:"flex gap-2 justify-end"},ho=["disabled"],bo={key:0},po={key:1};function go(o,e,l,r,c,i){const U=x("Head"),P=x("Link"),F=x("VueDatePicker"),C=x("XMarkIcon"),L=x("TransitionChild"),D=x("DialogPanel"),M=x("Dialog"),S=x("TransitionRoot"),H=x("DialogTitle"),R=x("AppLayout");return n(),a(g,null,[_(U,{title:"\u30AC\u30C1\u30E3 \u7DE8\u96C6"}),_(R,{closeModal:i.closeModal},{default:b(()=>[t("div",et,[t("div",st,[t("div",ot,[l.gacha.status==1?(n(),a("button",{key:0,type:"button",onClick:e[0]||(e[0]=s=>i.toPublic(0)),class:j([{"opacity-25":r.form_to_public.processing},"inline w-44 py-2.5 bg-neutral-500 border border-transparent rounded-md font-semibold text-xs text-white tracking-widest hover:bg-neutral-700 active:bg-neutral-700 focus:outline-none focus:border-neutral-700 focus:shadow-outline-neutral transition ease-in-out duration-150"]),disabled:r.form_to_public.processing}," \u975E\u516C\u958B\u306B\u3059\u308B ",10,lt)):(n(),a("button",{key:1,type:"button",onClick:e[1]||(e[1]=s=>i.toPublic(1)),class:j([{"opacity-25":r.form_to_public.processing},"inline w-44 py-2.5 bg-green-500 border border-transparent rounded-md font-semibold text-xs text-white tracking-widest hover:bg-green-700 active:bg-green-700 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150"]),disabled:r.form_to_public.processing}," \u516C\u958B\u306B\u3059\u308B ",10,rt))]),t("div",null,[l.gacha.gacha_limit_on_setting==1?(n(),a("button",{key:0,type:"button",onClick:e[2]||(e[2]=s=>i.gachaLimit(0)),class:j([{"opacity-25":r.form_to_limit.processing},"inline w-44 py-2.5 bg-neutral-500 border border-transparent rounded-md font-semibold text-xs text-white tracking-widest hover:bg-neutral-700 active:bg-neutral-700 focus:outline-none focus:border-neutral-700 focus:shadow-outline-neutral transition ease-in-out duration-150"]),disabled:r.form_to_limit.processing}," 1\u65E51\u56DE\u5236\u9650\u30AD\u30E3\u30F3\u30BB\u30EB ",10,nt)):(n(),a("button",{key:1,type:"button",onClick:e[3]||(e[3]=s=>i.gachaLimit(1)),class:j([{"opacity-25":r.form_to_limit.processing},"inline w-44 py-2.5 bg-green-500 border border-transparent rounded-md font-semibold text-xs text-white tracking-widest hover:bg-green-700 active:bg-green-700 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150"]),disabled:r.form_to_limit.processing}," 1\u65E51\u56DE\u5236\u9650\u8A2D\u5B9A ",10,at))])]),t("form",{onSubmit:e[21]||(e[21]=O(s=>i.submit(),["prevent"]))},[r.form.rank_limit==-1?(n(),a("div",it,[t("span",dt,[m(" \u5C02\u7528URL: "),_(P,{href:o.route("user.gacha",{id:l.gacha.id,code:l.gacha.description}),class:"text-blue-500 hover:text-blue-700"},{default:b(()=>[m(d(o.route("user.gacha",{id:l.gacha.id,code:l.gacha.description})),1)]),_:1},8,["href"])]),t("button",{type:"button",onClick:e[4]||(e[4]=s=>i.copyLink(o.route("user.gacha",{id:l.gacha.id,code:l.gacha.description}))),class:"px-3 py-1 rounded-full border text-sm"},"URL\u3092\u30B3\u30D4\u30FC")])):u("",!0),t("div",ct,[ut,t("div",mt,[_(F,{modelValue:r.form.publish_at,"onUpdate:modelValue":e[5]||(e[5]=s=>r.form.publish_at=s),format:"Y-MM-dd HH:mm",class:"flex-1"},null,8,["modelValue"])])]),t("div",_t,[ft,t("div",ht,[_(F,{modelValue:r.form.unpublish_at,"onUpdate:modelValue":e[6]||(e[6]=s=>r.form.unpublish_at=s),format:"Y-MM-dd HH:mm",class:"flex-1"},null,8,["modelValue"])])]),t("div",bt,[pt,f(t("input",{"onUpdate:modelValue":e[7]||(e[7]=s=>r.form.title=s),id:"title",type:"text",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044"},null,512),[[p,r.form.title]]),l.errors.title?(n(),a("div",gt,d(l.errors.title),1)):u("",!0)]),t("div",xt,[vt,f(t("input",{"onUpdate:modelValue":e[8]||(e[8]=s=>r.form.point=s),id:"text1",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044"},null,512),[[p,r.form.point]]),l.errors.point?(n(),a("div",yt,d(l.errors.point),1)):u("",!0)]),t("div",kt,[wt,f(t("input",{"onUpdate:modelValue":e[9]||(e[9]=s=>r.form.consume_point=s),id:"consume_point",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044"},null,512),[[p,r.form.consume_point]]),l.errors.point?(n(),a("div",Ct,d(l.errors.point),1)):u("",!0)]),t("div",Vt,[Ut,f(t("select",{"onUpdate:modelValue":e[10]||(e[10]=s=>r.form.lost_product_type=s),id:"type",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300"},Lt,512),[[w,r.form.lost_product_type]])]),r.form.lost_product_type=="0"?(n(),a("div",jt,[Ot,f(t("input",{"onUpdate:modelValue":e[11]||(e[11]=s=>r.form.count_card=s),id:"text2",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044"},null,512),[[p,r.form.count_card]]),l.errors.count_card?(n(),a("div",Dt,d(l.errors.count_card),1)):u("",!0)])):u("",!0),t("div",Mt,[St,f(t("input",{"onUpdate:modelValue":e[12]||(e[12]=s=>r.form.spin_limit=s),id:"text1",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044"},null,512),[[p,r.form.spin_limit]]),l.errors.spin_limit?(n(),a("div",It,d(l.errors.spin_limit),1)):u("",!0)]),t("div",Tt,[Ht,f(t("select",{"onUpdate:modelValue":e[13]||(e[13]=s=>r.form.rank_limit=s),id:"type",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300"},[Rt,(n(!0),a(g,null,y(l.ranks,(s,v)=>(n(),a("option",{value:s.rank},d(s.title),9,Et))),256)),Nt,qt],512),[[w,r.form.rank_limit]])]),t("div",zt,[At,f(t("select",{"onUpdate:modelValue":e[14]||(e[14]=s=>r.form.plan_limit=s),id:"type",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300"},[Bt,(n(!0),a(g,null,y(l.plans,(s,v)=>(n(),a("option",{value:s.id},d(s.name),9,Yt))),256)),Xt],512),[[w,r.form.plan_limit]])]),t("div",Gt,[Jt,t("div",Kt,[_(F,{modelValue:r.form.start_time,"onUpdate:modelValue":e[15]||(e[15]=s=>r.form.start_time=s),format:"Y-MM-dd HH:mm",class:"flex-1"},null,8,["modelValue"])])]),t("div",Qt,[Wt,t("div",Zt,[_(F,{modelValue:r.form.end_time,"onUpdate:modelValue":e[16]||(e[16]=s=>r.form.end_time=s),format:"Y-MM-dd HH:mm",class:"flex-1"},null,8,["modelValue"])])]),t("div",$t,[te,(n(!0),a(g,null,y(r.form.lostProducts,(s,v)=>(n(),a(g,null,[s.key?(n(),a("div",ee,[t("div",se,[t("div",oe,[f(t("input",{"onUpdate:modelValue":h=>s.point=h,type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5909\u63DBpt"},null,8,le),[[p,s.point]])]),re,t("div",ne,[f(t("input",{"onUpdate:modelValue":h=>s.count=h,type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u679A\u6570",step:i.count_step},null,8,ae),[[p,s.count]])]),t("span",ie,d(i.count_step==1?"\u679A":"%"),1)]),t("div",de,[t("button",{type:"button",onClick:h=>i.deleteLostProduct(s.key),class:"h-full w-10 text-center"},[_(C,{class:"h-5 w-5 inline-block"})],8,ce)])])):u("",!0)],64))),256)),t("div",ue,[t("button",{type:"button",onClick:e[17]||(e[17]=s=>i.addLostProduct()),class:"inline-block items-center max-w-60 w-full mx-auto py-2.5 bg-neutral-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-neutral-700 active:bg-neutral-700 focus:outline-none focus:border-neutral-700 focus:shadow-outline-neutral transition ease-in-out duration-150 mr-2"}," \u30AB\u30FC\u30C9\u8FFD\u52A0 ")])]),t("div",me,[_e,t("div",fe,[c.url1?(n(),a("img",{key:0,src:c.url1,class:"inline-block mt-4 h-52"},null,8,he)):u("",!0)]),t("input",{onChange:e[18]||(e[18]=(...s)=>i.previewImage1&&i.previewImage1(...s)),ref:"photo1",id:"file1",type:"file",class:"w-full"},null,544),l.errors.thumbnail?(n(),a("div",be,d(l.errors.thumbnail),1)):u("",!0)]),t("div",pe,[ge,t("div",xe,[c.url?(n(),a("img",{key:0,src:c.url,class:"inline-block mt-4 h-52"},null,8,ve)):u("",!0)]),t("input",{onChange:e[19]||(e[19]=(...s)=>i.previewImage&&i.previewImage(...s)),ref:"photo",id:"file1",type:"file",class:"w-full"},null,544),l.errors.image?(n(),a("div",ye,d(l.errors.image),1)):u("",!0)]),t("div",ke,[we,(n(!0),a(g,null,y(r.form.videos,(s,v)=>(n(),a("div",Ce,[f(t("input",{type:"number",class:"h-9 w-32 border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300","onUpdate:modelValue":h=>s.point=h},null,8,Ve),[[p,s.point]]),m("\u4EE5\u4E0A\xA0\xA0\xA0=\xA0\xA0\xA0 "),f(t("select",{"onUpdate:modelValue":h=>s.level=h,class:"w-32 border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300"},[(n(!0),a(g,null,y(l.video_names,(h,xo)=>(n(),a("option",{value:h},d(h),9,Fe))),256))],8,Ue),[[w,s.level]]),t("div",Pe,[t("button",{type:"button",onClick:h=>i.deleteVideo(v),class:"h-full w-10 text-center"},[_(C,{class:"h-5 w-5 inline-block"})],8,Le)])]))),256)),t("div",je,[t("button",{type:"button",onClick:e[20]||(e[20]=s=>i.addVideo()),class:"inline-block items-center px-8 py-2 bg-neutral-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-neutral-700 active:bg-neutral-700 focus:outline-none focus:border-neutral-700 focus:shadow-outline-neutral transition ease-in-out duration-150 mr-2"}," \u8FFD\u52A0 ")])]),t("div",Oe,[De,_(P,{href:o.route("admin.gacha",{cat_id:l.gacha.category_id}),as:"button",class:"inline-block items-center flex-1 max-w-60 py-2 bg-rose-500 rounded-md font-semibold text-sm text-white uppercase tracking-widest hover:bg-rose-700 active:bg-rose-700 focus:outline-none focus:shadow-outline-green transition ease-in-out duration-150"},{default:b(()=>[m(" \u623B\u308B ")]),_:1},8,["href"])])],32),r.form.lost_product_type=="0"?(n(),a(g,{key:0},[Me,Se,t("div",Ie,[l.product_last.id?(n(),a("div",Te,[t("img",{src:l.product_last.image,class:"w-20 h-20 inline-block object-contain"},null,8,He),t("div",Re,[t("div",null,d(l.product_last.name),1),t("div",null,d(l.product_last.rare),1),t("div",Ee,d(l.product_last.point.toLocaleString())+"pt",1)])])):u("",!0),t("div",Ne,[l.product_last.name?(n(),a("button",{key:0,type:"button",onClick:e[22]||(e[22]=s=>i.modalProductLastOpen()),class:"items-center flex-1 min-w-16 py-2 bg-green-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 active:bg-green-700 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150"}," \u7DE8\u96C6 ")):(n(),a("button",{key:1,type:"button",onClick:e[23]||(e[23]=s=>i.modalProductLastOpen()),class:"items-center flex-1 max-w-60 py-2 my-2 bg-green-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 active:bg-green-700 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150"}," \u8FFD\u52A0 ")),l.product_last.name?(n(),a("button",{key:2,onClick:e[24]||(e[24]=s=>i.destroy_product_last(l.product_last.id)),type:"button",class:"items-center flex-1 min-w-16 py-2 bg-red-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-700 active:bg-red-700 focus:outline-none focus:border-red-700 focus:shadow-outline-red transition ease-in-out duration-150"}," \u524A\u9664 ")):u("",!0)])])],64)):u("",!0),t("div",qe,[t("div",ze,[Ae,t("button",{type:"button",onClick:e[25]||(e[25]=s=>c.csvDialogOpen=!0),class:"inline-block px-4 py-2 bg-emerald-600 text-white text-xs rounded hover:bg-emerald-700 transition-colors"}," CSV\u3067\u767B\u9332 ")]),t("div",Be,[Ye,f(t("select",{"onUpdate:modelValue":e[26]||(e[26]=s=>c.sorting=s),id:"sorting",class:"text-sm w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300"},[Xe,Ge,t("option",Je,d(r.form.lost_product_type=="1"?"\u6392\u51FA\u7387\u6607\u9806":"\u30AB\u30FC\u30C9\u679A\u6570\u6607\u9806"),1),t("option",Ke,d(r.form.lost_product_type=="1"?"\u6392\u51FA\u7387\u964D\u9806":"\u30AB\u30FC\u30C9\u679A\u6570\u964D\u9806"),1)],512),[[w,c.sorting]])])]),Qe,(n(!0),a(g,null,y(i.sortedProducts,(s,v)=>(n(),a("div",We,[t("div",Ze,[t("img",{src:s.image,class:"w-20 h-20 inline-block object-contain"},null,8,$e),t("div",ts,[t("div",null,"ID: "+d(s.id)+" "+d(s.rank?`(${s.rank}\u7B49)`:""),1),t("div",null,d(s.name),1),t("div",null,d(s.rare),1),t("div",null,[m(d(parseFloat((s.marks*i.count_step).toFixed(7)))+" ",1),s.order?(n(),a("span",es,"("+d(s.order)+"\u756A)",1)):u("",!0),m("\xA0 "),t("span",null,"(\u8868\u793A\u7528: "+d(parseFloat((s.category_id*i.count_step).toFixed(7)))+")",1)]),t("div",ss,[m(d(i.format_number(s.point))+"pt ",1),s.lost_type?(n(),a("span",os,[m(" ( "),s.lost_type%2==1?(n(),a("span",ls,"\u767A\u9001\u5C02\u7528")):u("",!0),Math.floor(s.lost_type/2)==1?(n(),a("span",rs,"\u9ED2\u30B1\u30FC\u30B9\u4ED8\u304D")):u("",!0),m(" ) ")])):u("",!0)])])]),t("div",ns,[t("button",{type:"button",onClick:h=>i.modalProductOpen(s),class:"inline-block items-center flex-1 min-w-16 py-2 bg-green-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 active:bg-green-700 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150"}," \u7DE8\u96C6 ",8,as),t("button",{type:"button",onClick:h=>i.destroy_product_last(s.id),class:"inline-block items-center flex-1 min-w-16 py-2 bg-red-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-700 active:bg-red-700 focus:outline-none focus:border-red-700 focus:shadow-outline-red transition ease-in-out duration-150"}," \u524A\u9664 ",8,is)])]))),256)),t("div",ds,[t("span",null,"\u9084\u5143\u7387: "+d(i.point_rate)+"%",1),t("button",{type:"button",onClick:e[27]||(e[27]=s=>i.modalProductOpen(0)),class:"inline-block items-center flex-1 max-w-48 py-2 bg-cyan-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-cyan-700 active:bg-cyan-700 focus:outline-none focus:border-cyan-700 focus:shadow-outline-cyan transition ease-in-out duration-150"}," \u8FFD\u52A0 ")])]),t("template",null,[_(S,{as:"template",show:c.open},{default:b(()=>[_(M,{as:"div",class:"relative z-20",onClose:e[40]||(e[40]=s=>c.open=!1)},{default:b(()=>[_(L,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:b(()=>[cs]),_:1}),t("div",us,[t("div",ms,[_(L,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:b(()=>[_(D,{class:"p-3 relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},{default:b(()=>[t("form",{onSubmit:e[39]||(e[39]=O(s=>i.submit_last(),["prevent"]))},[t("div",_s,[fs,f(t("input",{"onUpdate:modelValue":e[28]||(e[28]=s=>r.form_last.last_name=s),id:"text1-1",type:"text",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044",required:""},null,512),[[p,r.form_last.last_name]]),t("div",hs,d(l.errors.last_name),1)]),t("div",bs,[ps,f(t("input",{"onUpdate:modelValue":e[29]||(e[29]=s=>r.form_last.last_point=s),id:"text1-2",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044",required:""},null,512),[[p,r.form_last.last_point]]),t("div",gs,d(l.errors.last_point),1)]),t("div",xs,[f(t("input",{id:"delivery_only","onUpdate:modelValue":e[30]||(e[30]=s=>r.form_last.delivery_only=s),type:"checkbox"},null,512),[[I,r.form_last.delivery_only]]),vs]),t("div",ys,[f(t("input",{id:"black_case","onUpdate:modelValue":e[31]||(e[31]=s=>r.form_last.black_case=s),type:"checkbox"},null,512),[[I,r.form_last.black_case]]),ks]),r.form_last.is_last==0?(n(),a("div",ws,[Cs,f(t("select",{"onUpdate:modelValue":e[32]||(e[32]=s=>r.form_last.last_rare=s),id:"last_rare",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm"},[(n(!0),a(g,null,y(l.lost_types,(s,v)=>(n(),a("option",{value:s},d(s),9,Vs))),256))],512),[[w,r.form_last.last_rare]])])):u("",!0),r.form_last.is_last==0?(n(),a("div",Us,[Fs,f(t("select",{"onUpdate:modelValue":e[33]||(e[33]=s=>r.form_last.rank=s),id:"rank",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm"},Ms,512),[[w,r.form_last.rank]])])):u("",!0),r.form_last.is_last==0?(n(),a("div",Ss,[t("label",Is,[m(d(r.form.lost_product_type=="1"?"\u6392\u51FA\u7387 (%)":"\u679A\u6570")+"\uFF08\u534A\u89D2\u6570\u5B57\uFF09",1),Ts]),f(t("input",{"onUpdate:modelValue":e[34]||(e[34]=s=>r.form_last.last_marks=s),id:"text1-4",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044",step:i.count_step,required:""},null,8,Hs),[[p,r.form_last.last_marks]]),t("div",Rs,d(l.errors.last_marks),1)])):u("",!0),r.form_last.is_last==0?(n(),a("div",Es,[t("label",Ns,[m(d(r.form.lost_product_type=="1"?"\u8868\u793A\u7528\u306E\u6392\u51FA\u7387 (%)":"\u8868\u793A\u7528\u306E\u5728\u5EAB\u6570")+"\uFF08\u534A\u89D2\u6570\u5B57\uFF09",1),qs]),f(t("input",{"onUpdate:modelValue":e[35]||(e[35]=s=>r.form_last.category_id=s),id:"text1-4",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044",step:i.count_step,required:""},null,8,zs),[[p,r.form_last.category_id]]),t("div",As,d(l.errors.last_marks),1)])):u("",!0),r.form_last.is_last==0&&r.form.lost_product_type!="1"?(n(),a("div",Bs,[Ys,f(t("input",{"onUpdate:modelValue":e[36]||(e[36]=s=>r.form_last.last_order=s),id:"text1-4",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u6392\u51FA\u8A2D\u5B9A\u304C\u306A\u3044\u5834\u5408\u306F\u30010\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002",required:""},null,512),[[p,r.form_last.last_order]]),t("div",Xs,d(l.errors.last_order),1)])):u("",!0),t("div",Gs,[Js,t("div",Ks,[c.url2?(n(),a("img",{key:0,src:c.url2,class:"inline-block mt-4 h-24"},null,8,Qs)):u("",!0)]),t("input",{onChange:e[37]||(e[37]=(...s)=>i.previewImage2&&i.previewImage2(...s)),ref:"photo2",id:"file1-1",type:"file",class:"w-full"},null,544),t("div",Ws,d(l.errors.last_image),1)]),t("div",Zs,[$s,t("button",{type:"button",onClick:e[38]||(e[38]=s=>c.open=!1),class:"inline-block items-center px-8 py-2.5 bg-red-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-700 active:bg-red-700 focus:outline-none focus:border-red-700 focus:shadow-outline-red transition ease-in-out duration-150"}," \u30AD\u30E3\u30F3\u30BB\u30EB ")])],32)]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])]),t("template",null,[_(S,{as:"template",show:c.csvDialogOpen},{default:b(()=>[_(M,{as:"div",class:"relative z-30",onClose:e[45]||(e[45]=s=>c.csvDialogOpen=!1)},{default:b(()=>[_(L,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:b(()=>[to]),_:1}),t("div",eo,[t("div",so,[_(L,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:b(()=>[_(D,{class:"p-4 relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-md"},{default:b(()=>[_(H,{class:"text-lg font-bold mb-2"},{default:b(()=>[m("CSV\u3067\u30AB\u30FC\u30C9\u767B\u9332")]),_:1}),oo,t("form",{onSubmit:e[44]||(e[44]=O((...s)=>i.submitCsv&&i.submitCsv(...s),["prevent"]))},[t("div",lo,[ro,t("input",{type:"file",accept:".csv",onChange:e[41]||(e[41]=(...s)=>i.onCsvFileChange&&i.onCsvFileChange(...s)),class:"w-full"},null,32)]),t("div",no,[ao,t("input",{type:"file",multiple:"",accept:"image/*",onChange:e[42]||(e[42]=(...s)=>i.onImageFilesChange&&i.onImageFilesChange(...s)),class:"w-full"},null,32),io,c.imageFiles.length>0?(n(),a("div",co,[uo,t("ul",mo,[(n(!0),a(g,null,y(c.imageFiles,(s,v)=>(n(),a("li",{key:v,class:"flex items-center gap-2"},[t("span",null,d(s.name),1),t("button",{type:"button",onClick:h=>i.removeImageFile(v),class:"text-red-500 hover:text-red-700"},[_(C,{class:"h-4 w-4"})],8,_o)]))),128))])])):u("",!0)]),t("div",fo,[t("button",{type:"button",onClick:e[43]||(e[43]=s=>c.csvDialogOpen=!1),class:"px-4 py-2 bg-neutral-300 text-neutral-700 rounded hover:bg-neutral-400"},"\u30AD\u30E3\u30F3\u30BB\u30EB"),t("button",{type:"submit",disabled:c.csvUploading,class:"px-4 py-2 bg-emerald-600 text-white rounded hover:bg-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed"},[c.csvUploading?(n(),a("span",bo,"\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u4E2D...")):(n(),a("span",po,"\u767B\u9332"))],8,ho)])],32)]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])]),_:1},8,["closeModal"])],64)}const Po=Z(tt,[["render",go]]);export{Po as default};
