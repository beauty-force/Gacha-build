import{d as w,p as y,c as l,o as i,b as e,e as o,t as n,u as d,i as k,F as h,f as _,n as C}from"./app-DiiebcXJ.js";import{l as S}from"./index-BJwNjVM4.js";const j={class:"w-full flex flex-col items-end md:flex-row md:items-center md:mt-2"},L={class:"w-full border-4 border-dotted rounded-lg py-4 gap-2 bg-neutral-50 relative"},N={class:"flex flex-col items-center justify-center gap-4 flex-1"},P={class:"flex items-center gap-2 hover:text-yellow-500"},$={class:"text-sm mt-2 leading-7"},I={key:0,class:"ml-4 text-red-500"},A={key:1,class:"ml-4"},B={class:"flex flex-wrap justify-center gap-2 py-6"},T=["href"],V=["href"],E={class:"space-y-1"},F={class:"flex justify-between items-center"},z={class:"px-2 text-sm"},M={key:0,class:"grid grid-cols-1 md:grid-cols-2 items-center px-2 gap-1"},R={class:"border px-3 py-1.5 flex justify-between items-center text-sm rounded-lg"},q={__name:"InviteFriend",props:{invitations:Array,invite_url:String,invite_bonus:Number,invited_bonus:Number,invited_bonus_limit:Number,line_invite_text:String,twitter_invite_text:String},setup(s){const r=s,m=w.usePage().props.value.auth.user,u=y({status:!1}),v=()=>{u.value.status=!u.value.status},g=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),f=encodeURIComponent(r.line_invite_text),x=encodeURIComponent(r.twitter_invite_text),b=g?`twitter://post?text=${x}&url=${r.invite_url}`:`https://twitter.com/intent/tweet?text=${x}&url=${r.invite_url}`,c=g?`line://msg/text/${f}`:`https://social-plugins.line.me/lineit/share?url=${r.invite_url}`,p=()=>{navigator.clipboard.writeText(m.invite_code).then(()=>{S("招待コードをコピーしました。",{autoClose:2e3})})};return(U,t)=>(i(),l("section",null,[t[16]||(t[16]=e("header",null,[e("h2",{class:"text-lg font-bold"},"友達をイブガチャに招待")],-1)),t[17]||(t[17]=e("p",{class:"text-sm mt-3 leading-7"},[o(" お友達を招待してポイントゲット！"),e("br")],-1)),e("div",j,[t[2]||(t[2]=e("img",{src:"/images/invite_top.png",class:"h-24 w-auto md:hidden -mb-2 -mt-20 md:mt-0"},null,-1)),e("div",L,[e("div",N,[t[1]||(t[1]=e("p",{class:"text-sm"},"あなたの招待コード",-1)),e("div",P,[e("span",{class:"text-4xl font-bold font-[mplus2] px-2 leading-8 cursor-pointer",onClick:p},n(d(m).invite_code),1),(i(),l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 cursor-pointer",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",onClick:p},[...t[0]||(t[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"},null,-1)])]))])])]),t[3]||(t[3]=e("img",{src:"/images/invite_left.png",class:"hidden md:block h-28 -ml-2 w-auto"},null,-1))]),e("p",$,[t[4]||(t[4]=o(" 登録時にあなたの招待コードを入力するだけで…",-1)),t[5]||(t[5]=e("br",null,null,-1)),t[6]||(t[6]=o(" ✅ お互いに",-1)),e("strong",null,n(s.invite_bonus.toLocaleString())+" PT",1),t[7]||(t[7]=o("プレゼント！",-1)),t[8]||(t[8]=e("br",null,null,-1)),s.invitations.length>=30?(i(),l("span",I," (招待上限に達しました) ")):(i(),l("span",A,"(残り"+n(30-s.invitations.length)+"人)",1)),t[9]||(t[9]=e("br",null,null,-1)),t[10]||(t[10]=e("br",null,null,-1)),o(" ✅ 紹介された方が累計"+n(s.invited_bonus_limit.toLocaleString())+"円を購入すると、お互いに",1),e("strong",null,n(s.invited_bonus.toLocaleString())+" PT",1),t[11]||(t[11]=o("プレゼント",-1)),t[12]||(t[12]=e("br",null,null,-1)),t[13]||(t[13]=e("span",{class:"ml-4"},"(上限なし)",-1))]),e("div",B,[e("a",{href:d(b),target:"_blank",class:"text-nowrap flex-1 flex gap-1 rounded-full border px-12 py-2 justify-center items-center font-semibold hover:bg-neutral-100"},[...t[14]||(t[14]=[e("img",{src:"/images/twitter-x.svg",class:"h-4"},null,-1),e("span",null,"(twitter)でシェアする",-1)])],8,T),e("a",{href:d(c),target:"_blank",class:"text-nowrap flex-1 flex gap-1 rounded-full border px-12 py-2 justify-center items-center font-semibold hover:bg-neutral-100"},[...t[15]||(t[15]=[e("img",{src:"/images/line.png",class:"h-5"},null,-1),e("span",null,"LINEで送る",-1)])],8,V)]),e("div",E,[e("p",F,[e("span",z,n(s.invitations.length?s.invitations.length+"人の友達紹介":""),1),e("button",{onClick:v,class:"px-3 py-1 rounded-full border text-sm"},"友達リスト表示")]),u.value.status?(i(),l("div",M,[(i(!0),l(h,null,_(s.invitations,a=>(i(),l("span",R,[o(n(a.name)+" ",1),e("span",{class:C(["text-xs",{"text-green-600":a.status==1,"text-gray-500":a.status==0}])},n(a.status==0?"未購入":"購入済"),3)]))),256))])):k("",!0)])]))}};export{q as default};
