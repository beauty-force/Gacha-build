import{d as x,r as c,c as l,o as s,a as n,w as i,b as e,i as u,F as _,f as y,l as I,n as h,e as f,t as d,h as b}from"./app-DsZT8ZFb.js";import{d as B}from"./index-B-2oS8p0.js";import{A as D}from"./UserLayout-RurAsO9g.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as z,b as A,r as H}from"./ChevronRightIcon-hqj6gz2f.js";import{r as N}from"./ChevronLeftIcon-BJ70l7eu.js";import"./useConfirm-IV4jvDvB.js";import"./index-BzGcoHiv.js";const O={components:{Head:x.Head,AppLayout:D,Link:x.Link,ChevronDoubleLeftIcon:H,ChevronDoubleRightIcon:A,ChevronLeftIcon:N,ChevronRightIcon:z},props:{errors:Object,gacha:Object,category_share:Object,products:Object,sortBy:String},data(){return{main_tab:[{title:"未選択",route_url:route("user.products"),is_active:!1},{title:"発送待ち",route_url:route("user.products.wait"),is_active:!1},{title:"発送済み",route_url:route("user.products.delivered"),is_active:!0}]}},computed:{currentSortBy(){return this.sortBy||"newest"}},methods:{handleSortChange(g){const t=g.target.value;B.Inertia.get(route("user.products.delivered"),{sort:t,page:1},{preserveState:!1,preserveScroll:!1})}}},V={class:"w-full min-h-full"},E={class:"sticky top-20 py-3 z-[2] bg-white"},F={class:"w-full text-neutral-500 space-x-1 border-b-4 border-yellow-500 px-4 flex justify-center"},T={key:0,class:"sticky top-[8.5rem] z-[3] bg-white py-2 px-4 flex justify-between items-center gap-4 border-b"},M={class:"flex items-center"},P=["value"],q={class:"flex items-center gap-1"},G={class:"px-3 py-1.5 rounded-md text-xs border border-yellow-500 bg-yellow-500 text-white font-bold"},J={key:1,class:"sticky top-[8.5rem] z-[3] bg-white py-2 px-4 border-b"},K={class:"flex justify-end"},Q=["value"],U={key:2,class:"grid md:grid-cols-2 gap-1 px-4 md:px-6 py-2"},W={class:"mt-1 py-2 px-3 border rounded-md hover:bg-slate-100"},X={class:"flex border-neutral-200 items-start w-full"},Y=["for"],Z={class:"relative"},$=["src"],ee=["src","alt"],te={class:"min-h-32 flex flex-col justify-evenly flex-1 items-start gap-0.5"},re=["src"],oe={class:"text-base px-3 font-bold"},se={key:1,class:"text-sm px-3"},le={class:"text-xs px-3"},ne={class:"text-xs px-3"},ae={key:2,class:"flex bg-red-500 justify-center items-center rounded-full px-3 mx-auto min-w-[60%] py-0.5 text-white text-base"},de={key:3,class:"flex items-center justify-center py-8"};function ce(g,t,o,ie,m,a){const v=c("Head"),p=c("Link"),w=c("ChevronDoubleLeftIcon"),k=c("ChevronLeftIcon"),C=c("ChevronRightIcon"),j=c("ChevronDoubleRightIcon"),S=c("AppLayout");return s(),l(_,null,[n(v,{title:"獲得した商品一覧"}),n(S,null,{default:i(()=>[e("div",V,[t[10]||(t[10]=e("h1",{class:"underline underline-offset-8 py-3 text-center text-lg font-bold bg-white"},"   獲得した商品一覧   ",-1)),e("div",E,[e("div",F,[(s(!0),l(_,null,y(m.main_tab,(r,L)=>(s(),I(p,{href:r.route_url,class:h(["-mb-[1px] flex-1 inline-block text-center py-1.5 rounded-t-md border-yellow-500 border-x border-t",{"bg-yellow-500 text-white":r.is_active,"hover:bg-yellow-400 hover:text-white":!r.is_active}])},{default:i(()=>[f(d(r.title),1)]),_:2},1032,["href","class"]))),256))])]),o.products.data.length&&o.products.last_page>1?(s(),l("div",T,[e("div",M,[e("select",{value:a.currentSortBy,onChange:t[0]||(t[0]=(...r)=>a.handleSortChange&&a.handleSortChange(...r)),class:"border rounded-md pl-4 pr-8 py-1 text-sm"},[...t[4]||(t[4]=[e("option",{value:"newest"},"新しい順",-1),e("option",{value:"oldest"},"古い順",-1),e("option",{value:"highest"},"高い順",-1)])],40,P)]),e("div",q,[n(p,{href:o.products.first_page_url||g.route("user.products.delivered",{page:1,sort:a.currentSortBy}),class:h(["w-8 h-8 rounded-md text-sm border border-yellow-500 font-medium transition-colors flex items-center justify-center",o.products.current_page>1?"bg-white text-yellow-600 hover:bg-yellow-50 cursor-pointer":"bg-gray-100 text-gray-400 cursor-not-allowed opacity-50"])},{default:i(()=>[n(w,{class:"w-4 h-4"})]),_:1},8,["href","class"]),n(p,{href:o.products.prev_page_url||"#",class:h(["w-8 h-8 rounded-md text-sm border border-yellow-500 font-medium transition-colors flex items-center justify-center",o.products.prev_page_url?"bg-white text-yellow-600 hover:bg-yellow-50 cursor-pointer":"bg-gray-100 text-gray-400 cursor-not-allowed opacity-50"]),onClick:t[1]||(t[1]=b(()=>{},["prevent"]))},{default:i(()=>[n(k,{class:"w-4 h-4"})]),_:1},8,["href","class"]),e("span",G,d(o.products.current_page)+" / "+d(o.products.last_page),1),n(p,{href:o.products.next_page_url||"#",class:h(["w-8 h-8 rounded-md text-sm border border-yellow-500 font-medium transition-colors flex items-center justify-center",o.products.next_page_url?"bg-white text-yellow-600 hover:bg-yellow-50 cursor-pointer":"bg-gray-100 text-gray-400 cursor-not-allowed opacity-50"]),onClick:t[2]||(t[2]=b(()=>{},["prevent"]))},{default:i(()=>[n(C,{class:"w-4 h-4"})]),_:1},8,["href","class"]),n(p,{href:o.products.last_page_url||g.route("user.products.delivered",{page:o.products.last_page,sort:a.currentSortBy}),class:h(["w-8 h-8 rounded-md text-sm border border-yellow-500 font-medium transition-colors flex items-center justify-center",o.products.current_page<o.products.last_page?"bg-white text-yellow-600 hover:bg-yellow-50 cursor-pointer":"bg-gray-100 text-gray-400 cursor-not-allowed opacity-50"])},{default:i(()=>[n(j,{class:"w-4 h-4"})]),_:1},8,["href","class"])])])):o.products.data.length?(s(),l("div",J,[e("div",K,[e("select",{value:a.currentSortBy,onChange:t[3]||(t[3]=(...r)=>a.handleSortChange&&a.handleSortChange(...r)),class:"border rounded-md pl-4 pr-8 py-1 text-sm"},[...t[5]||(t[5]=[e("option",{value:"newest"},"新しい順",-1),e("option",{value:"oldest"},"古い順",-1),e("option",{value:"highest"},"高い順",-1)])],40,Q)])])):u("",!0),o.products.data.length?(s(),l("div",U,[(s(!0),l(_,null,y(o.products.data,(r,L)=>(s(),l("div",W,[e("div",X,[e("label",{for:"checkbox"+r.id,class:"flex-1 cursor-pointer flex items-center text-sm py-1 px-2"},[e("div",Z,[e("img",{src:r.image,class:"h-32 w-24 object-contain"},null,8,$),r.badge?(s(),l("img",{key:0,src:r.badge,class:"absolute -top-2 -right-2 w-[35%]",alt:r.badge},null,8,ee)):u("",!0)]),e("div",te,[r.rank>0?(s(),l("img",{key:0,src:`/images/badge${r.rank}.png`,class:"px-3 h-7 w-auto object-contain"},null,8,re)):u("",!0),e("div",oe,d(r.name),1),r.gacha_title?(s(),l("div",se,d(r.gacha_title),1)):u("",!0),e("div",le,[t[6]||(t[6]=e("span",{class:"text-neutral-600"},"発送日時：",-1)),f(d(r.updated_at_time),1)]),e("div",ne,[t[7]||(t[7]=e("span",{class:"text-neutral-600"},"追跡番号：",-1)),f(d(r.tracking_number),1)]),r.is_lost_product!=2?(s(),l("div",ae,[t[8]||(t[8]=e("img",{src:"/images/icon_cash.png",class:"h-4 mr-1"},null,-1)),e("span",null,d(r.point.toLocaleString())+" PT",1)])):u("",!0)])],8,Y)])]))),256))])):o.products.data.length==0?(s(),l("div",de,[...t[9]||(t[9]=[e("p",{class:"text-center"},"発送済みの獲得商品はありません",-1)])])):u("",!0)])]),_:1})],64)}const be=R(O,[["render",ce]]);export{be as default};
