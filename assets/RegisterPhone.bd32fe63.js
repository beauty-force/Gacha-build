import{H as k,L as V,u as g,a as F,G as L,r as d,o as i,c,i as y,b as l,w as x,F as C,d as e,I as T,t as j,J as a,K as m,n as f,h,a9 as B,e as p}from"./app.cb205857.js";import{_ as E}from"./Checkbox.e7f4fafb.js";import{A as I}from"./UserLayout.dab5cdfa.js";import{_ as N,a as S}from"./TextInput.d10c2899.js";import{_ as U}from"./_plugin-vue_export-helper.cdc0426e.js";import"./useConfirm.b4889034.js";import"./index.ce9df9b4.js";const A={components:{Checkbox:E,Head:k,AppLayout:I,InputError:N,TextInput:S,Link:V},data:()=>({passwordFieldType:"password",step_integer:0,step_titles:["\u672C\u4EBA\u78BA\u8A8D","\u8A8D\u8A3C\u30B3\u30FC\u30C9\u5165\u529B","\u30A2\u30AB\u30A6\u30F3\u30C8\u767B\u9332"],is_processing:!1,data:{}}),props:{invitation_code:String,invited_bonus:Number,errors:Object,recaptcha_site_key:String},methods:{submit(){this.step_integer==0?grecaptcha.ready(()=>{grecaptcha.execute(this.recaptcha_site_key,{action:"phone_submit"}).then(o=>{this.form.recaptcha_token=o,this.form.post(route("register.phone.send"),{onFinish:()=>{this.data=g().props.value.flash,this.data.data&&this.data.data.status==1&&(this.step_integer=1,this.form.phone=this.data.data.phone)}})})}):this.step_integer==1?this.form.post(route("register.phone.verify"),{onFinish:()=>{this.data=g().props.value.flash,this.data.data&&(this.data.data.status==1?this.step_integer=2:this.step_integer=0)}}):this.form.post(route("register.phone.register"),{onFinish:()=>{}})},submit_phone(){const o={phone:this.form.phone};this.is_processing=!0,F.post(route("register.phone.send"),o).then(s=>{s.status==201||s.status==200,this.is_processing=!1}).catch(s=>{this.is_processing=!1})},switchVisibility(){this.passwordFieldType=this.passwordFieldType==="password"?"text":"password"}},setup(o){return{form:L({phone:"",code:"",email:"",password:"",invite_code:o.invitation_code,recaptcha_token:""})}},mounted(){const o=document.createElement("script");o.src="https://www.google.com/recaptcha/api.js?render="+this.recaptcha_site_key,o.async=!0,o.defer=!0,document.head.appendChild(o)}},H={class:"flex flex-col h-full"},D=e("div",{class:"flex justify-center w-full"},[e("img",{src:"/images/register_badge.png",alt:"Register Badge",class:"w-full object-contain mt-2 md:mt-6 sm:mt-4 sm:mx-8 md:mx-12"})],-1),M={class:"py-6 md:px-6 px-4 flex-1"},P={class:"underline underline-offset-8 mb-10 text-center text-lg font-bold"},R={key:0,class:"flex flex-col items-center"},z={class:"mb-10 w-full"},G=e("label",{for:"phone",class:"block text-base font-bold pl-2 mb-2"},[p("\u96FB\u8A71\u756A\u53F7"),e("span",{class:"text-red-500 pl-1"},"*")],-1),J=["disabled"],K=e("div",{class:"inline-block items-center px-10 py-1 rounded-full font-semibold text-base text-white uppercase bg-theme bg-theme-hover"}," \u8A8D\u8A3C\u3078\u9032\u3080 ",-1),O=[K],q={key:1},Q={class:"mb-8"},W=e("label",{for:"code",class:"block text-base font-bold pl-2 mb-2"},"sms\u306B\u8A18\u8F09\u3055\u308C\u305F4\u6841\u306E\u8A8D\u8A3C\u30B3\u30FC\u30C9\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002",-1),X={class:"mb-8 text-center border border-yellow-600 rounded-full p-0.5 w-fit mx-auto"},Y=["disabled"],Z={key:2},$={class:"mb-4"},ee=e("label",{for:"invite_code",class:"block text-base font-bold pl-2 mb-2",title:"\u3042\u306A\u305F\u3092\u62DB\u5F85\u3057\u305F\u53CB\u9054\u306E\u62DB\u5F85\u30B3\u30FC\u30C9"},"\u62DB\u5F85\u30B3\u30FC\u30C9",-1),te={class:"mb-4"},se=e("label",{for:"email",class:"block text-base font-bold pl-2 mb-2"},[p("\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9"),e("span",{class:"text-red-500 pl-1"},"*")],-1),oe={class:"block mb-4"},re=e("label",{for:"password",class:"block text-base font-bold pl-2 mb-2"},[p("\u30D1\u30B9\u30EF\u30FC\u30C9"),e("span",{class:"text-red-500 pl-1"},"*")],-1),ie=["type"],le={class:"block mb-8 px-2"},ae={class:"flex items-center cursor-pointer gap-2"},ne=e("span",{class:"text-base"},"\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u8868\u793A",-1),de={class:"mb-8 text-center border border-yellow-600 rounded-full p-0.5 w-fit mx-auto"},ce=["disabled"],me={class:"flex items-center justify-center text-sm my-4"};function pe(o,s,b,t,ue,u){const _=d("Head"),n=d("InputError"),w=d("Link"),v=d("AppLayout");return i(),c(C,null,[b.invitation_code?(i(),y(_,{key:0,description:"\u5927\u8D64\u5B57\u30AC\u30C1\u30E3\u5927\u91CF\u6392\u51FA\u4E2D \u65B0\u898F\u30E6\u30FC\u30B6\u30FC\u3082\u7206\u30A2\u30C9\u5831\u544A\u591A\u6570",title:`\u4ECA\u306A\u3089\u65B0\u898F\u767B\u9332\u3067${b.invited_bonus.toLocaleString()}pt\u3082\u3089\u3048\u308B!!`},null,8,["title"])):(i(),y(_,{key:1,title:"\u65B0\u898F\u767B\u9332"})),l(v,null,{default:x(()=>[e("div",H,[D,e("div",M,[e("form",{onSubmit:s[6]||(s[6]=T((...r)=>u.submit&&u.submit(...r),["prevent"]))},[e("h2",P,"\xA0\xA0\xA0"+j(o.step_titles[o.step_integer])+"\xA0\xA0",1),o.step_integer==0?(i(),c("div",R,[e("div",z,[G,a(e("input",{"onUpdate:modelValue":s[0]||(s[0]=r=>t.form.phone=r),id:"phone",type:"tel",class:"w-full text-neutral-700 border-yellow-300 focus:border-yellow-300 focus:ring focus:ring-sky-200 focus:ring-opacity-50 rounded-md shadow-sm"},null,512),[[m,t.form.phone]]),l(n,{class:"mt-2",message:t.form.errors.phone},null,8,["message"])]),e("button",{type:"submit",class:f([{"opacity-50":t.form.processing},"inline-block items-center mb-8 text-center border border-yellow-600 rounded-full p-0.5 w-fit mx-auto hover:scale-105"]),disabled:t.form.processing},O,10,J)])):h("",!0),o.step_integer==1?(i(),c("div",q,[e("div",Q,[W,a(e("input",{"onUpdate:modelValue":s[1]||(s[1]=r=>t.form.code=r),id:"code",type:"tel",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u8A8D\u8A3C\u30B3\u30FC\u30C9\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044"},null,512),[[m,t.form.code]]),l(n,{class:"mt-2",message:t.form.errors.code},null,8,["message"])]),e("div",X,[e("button",{type:"submit",class:f([{"opacity-50":t.form.processing},"inline-block items-center px-10 py-1 rounded-full font-semibold text-base text-white uppercase bg-theme bg-theme-hover"]),disabled:t.form.processing}," \u6B21\u3078 ",10,Y)])])):h("",!0),o.step_integer==2?(i(),c("div",Z,[e("div",$,[ee,a(e("input",{"onUpdate:modelValue":s[2]||(s[2]=r=>t.form.invite_code=r),id:"invite_code",type:"text",class:"text-neutral-700 h-10 w-full border-yellow-300 focus:border-yellow-300 focus:ring focus:ring-sky-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder:text-neutral-300",placeholder:"\u62DB\u5F85\u3057\u305F\u53CB\u9054\u306E\u62DB\u5F85\u30B3\u30FC\u30C9\u3092\u5165\u529B\u3057\u307E\u3059",autocomplete:"off"},null,512),[[m,t.form.invite_code]])]),e("div",te,[se,a(e("input",{"onUpdate:modelValue":s[3]||(s[3]=r=>t.form.email=r),id:"email",type:"email",class:"text-neutral-700 h-10 w-full border-yellow-300 focus:border-yellow-300 focus:ring focus:ring-sky-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder:text-neutral-300",placeholder:"\u4F8B) user@eve-gacha.com"},null,512),[[m,t.form.email]]),l(n,{class:"mt-2",message:t.form.errors.email},null,8,["message"])]),e("div",oe,[re,a(e("input",{"onUpdate:modelValue":s[4]||(s[4]=r=>t.form.password=r),id:"password",type:o.passwordFieldType,class:"text-neutral-700 h-10 w-full border-yellow-300 focus:border-yellow-300 focus:ring focus:ring-sky-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder:text-neutral-300",placeholder:"\u534A\u89D2\u82F1\u6570\u5B576\uFF5E20\u6587\u5B57"},null,8,ie),[[B,t.form.password]]),l(n,{class:"mt-2",message:t.form.errors.password},null,8,["message"])]),e("div",le,[e("label",ae,[e("input",{type:"checkbox",onClick:s[5]||(s[5]=r=>u.switchVisibility()),class:"w-5 h-5 rounded border-yellow-300 text-neutral-600 shadow-sm focus:ring-neutral-500"}),ne])]),e("div",de,[e("button",{type:"submit",class:f([{"opacity-50":t.form.processing},"inline-block items-center px-10 py-1 rounded-full font-semibold text-base text-white uppercase bg-theme bg-theme-hover"]),disabled:t.form.processing}," \u767B\u9332 ",10,ce)])])):h("",!0),e("div",me,[l(w,{href:o.route("login"),class:"underline underline-offset-4 text-neutral-600 hover:text-sky-500"},{default:x(()=>[p("\u3059\u3067\u306B\u30A2\u30AB\u30A6\u30F3\u30C8\u3092\u304A\u6301\u3061\u306E\u65B9\u306F\u3053\u3061\u3089")]),_:1},8,["href"])])],32)])])]),_:1})],64)}const we=U(A,[["render",pe]]);export{we as default};
