import{d as b,r as p,c as l,o as i,a as x,w as y,b as e,h as L,j as c,i as d,v as f,e as u,t as a,F as _,f as g,k as N}from"./app-bBJrUzFS.js";import{A as O}from"./Admin-CeKR2ffS.js";import{B as j}from"./main-CNYzCyWC.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useConfirm-Br9hQ-5z.js";import"./isNativeReflectConstruct-zdezgZUv.js";const D={components:{Head:b.Head,AppLayout:O,Link:b.Link,VueDatePicker:j},props:{errors:Object,auth:Object,coupon:Object,editing:Object,types:Object,points:Array},methods:{submit(){this.form.post(route("admin.coupon.store"))}},computed:{flash(){return b.usePage().props.value.flash}},watch:{flash:function(r,t){r.data&&(this.form.title=r.data.title,this.form.type=r.data.type,this.form.code=r.data.code,this.form.point=r.data.point,this.form.discount_rate=r.data.discount_rate,this.form.expiration=r.data.expiration,this.form.count=r.data.count,this.form.user_limit=r.data.user_limit)}},setup(r){return{form:b.useForm({id:r.coupon.id,title:r.coupon.title,type:r.coupon.type,code:r.coupon.code,point:r.coupon.point,discount_rate:r.coupon.discount_rate.map(o=>o.rate),expiration:r.coupon.expiration,count:r.coupon.count,user_limit:r.coupon.user_limit})}}},H={class:"pt-6 md:px-6 px-4"},M={key:0,class:"mb-2 text-lg font-bold"},B={key:1,class:"mb-2 text-lg font-bold"},C={class:"mb-6"},P={key:0,class:"text-red-500 text-sm mt-1"},S={class:"mb-6"},F={key:0,class:"text-red-500 text-sm mt-1"},T={class:"mb-6"},E=["value"],I={key:0,class:"mb-6"},R={key:0,class:"text-red-500 text-sm mt-1"},q={key:1,class:"text-red-500 text-sm mt-1"},z={class:"mb-6"},G=["for"],J=["onUpdate:modelValue","id"],K={key:0,class:"text-red-500 text-sm mt-1"},Q={class:"mb-6"},W={key:0,class:"text-red-500 text-sm mt-1"},X={class:"mb-6"},Y={key:0,class:"text-red-500 text-sm mt-1"},Z={class:"mb-6"},$={key:0,class:"text-red-500 text-sm mt-1"},tt={class:"flex gap-4 mb-4"},et={class:"w-1/2"};function ot(r,t,o,s,rt,h){const v=p("Head"),k=p("VueDatePicker"),w=p("Link"),V=p("AppLayout");return i(),l(_,null,[x(v,{title:o.editing?"クーポン編集":"クーポン追加"},null,8,["title"]),x(V,null,{default:y(()=>[e("div",H,[o.editing?(i(),l("h1",M,"クーポン編集")):(i(),l("h1",B,"クーポン追加")),t[19]||(t[19]=e("hr",{class:"mb-8"},null,-1)),e("form",{onSubmit:t[8]||(t[8]=L(n=>h.submit(),["prevent"]))},[c(e("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>s.form.id=n),class:"hidden"},null,512),[[f,s.form.id]]),e("div",C,[t[9]||(t[9]=e("label",{for:"title",class:"block font-medium text-sm text-neutral-700 mb-2 ml-1"},[u("お名前 (テキスト) "),e("span",{class:"text-red-500"},"*")],-1)),c(e("input",{"onUpdate:modelValue":t[1]||(t[1]=n=>s.form.title=n),id:"title",type:"text",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"入力してください"},null,512),[[f,s.form.title]]),o.errors.title?(i(),l("div",P,a(o.errors.title),1)):d("",!0)]),e("div",S,[t[10]||(t[10]=e("label",{for:"code",class:"block font-medium text-sm text-neutral-700 mb-2 ml-1"},[u("コード(テキスト) "),e("span",{class:"text-red-500"},"*")],-1)),c(e("input",{"onUpdate:modelValue":t[2]||(t[2]=n=>s.form.code=n),id:"code",type:"text",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"入力してください"},null,512),[[f,s.form.code]]),o.errors.code?(i(),l("div",F,a(o.errors.code),1)):d("",!0)]),e("div",T,[t[11]||(t[11]=e("label",{for:"type",class:"block font-medium text-sm text-neutral-700 mb-2 ml-1"},[u("種類 "),e("span",{class:"text-red-500"},"*")],-1)),c(e("select",{"onUpdate:modelValue":t[3]||(t[3]=n=>s.form.type=n),id:"type",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300"},[(i(!0),l(_,null,g(o.types,(n,m)=>(i(),l("option",{value:m},a(n),9,E))),256))],512),[[N,s.form.type]])]),s.form.type=="NORMAL"?(i(),l("div",I,[t[12]||(t[12]=e("label",{for:"point",class:"block font-medium text-sm text-neutral-700 mb-2 ml-1"},[u("ポイント (半角数字) "),e("span",{class:"text-red-500"},"*")],-1)),c(e("input",{"onUpdate:modelValue":t[4]||(t[4]=n=>s.form.point=n),id:"point",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"入力してください"},null,512),[[f,s.form.point]]),o.errors.point?(i(),l("div",R,a(o.errors.point),1)):d("",!0)])):d("",!0),o.errors.discount_rate?(i(),l("div",q,a(o.errors.discount_rate),1)):d("",!0),s.form.type=="DISCOUNT"?(i(!0),l(_,{key:2},g(o.points,(n,m)=>(i(),l("div",z,[e("label",{for:"discount_rate"+m,class:"block font-medium text-sm text-neutral-700 mb-2 ml-1"},[u(a(n.point)+" pt - 割引率 (半角数字) ",1),t[13]||(t[13]=e("span",{class:"text-red-500"},"*",-1))],8,G),c(e("input",{"onUpdate:modelValue":U=>s.form.discount_rate[m]=U,id:"discount_rate"+m,type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"入力してください"},null,8,J),[[f,s.form.discount_rate[m]]]),o.errors[`discount_rate.${m}`]?(i(),l("div",K,a(o.errors[`discount_rate.${m}`]),1)):d("",!0)]))),256)):d("",!0),e("div",Q,[t[14]||(t[14]=e("label",{for:"expiration",class:"block font-medium text-sm text-neutral-700 mb-2 ml-1"},[u("有効期限 "),e("span",{class:"text-red-500"},"*")],-1)),x(k,{modelValue:s.form.expiration,"onUpdate:modelValue":t[5]||(t[5]=n=>s.form.expiration=n),format:"yyyy-MM-dd HH:mm"},null,8,["modelValue"]),o.errors.expiration?(i(),l("div",W,a(o.errors.expiration),1)):d("",!0)]),e("div",X,[t[15]||(t[15]=e("label",{for:"count",class:"block font-medium text-sm text-neutral-700 mb-2 ml-1"},[u("点数 (半角数字) "),e("span",{class:"text-red-500"},"*")],-1)),c(e("input",{"onUpdate:modelValue":t[6]||(t[6]=n=>s.form.count=n),id:"count",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"入力してください"},null,512),[[f,s.form.count]]),o.errors.count?(i(),l("div",Y,a(o.errors.count),1)):d("",!0)]),e("div",Z,[t[16]||(t[16]=e("label",{for:"user_limit",class:"block font-medium text-sm text-neutral-700 mb-2 ml-1"},[u("一人当上限 (半角数字) "),e("span",{class:"text-red-500"},"*")],-1)),c(e("input",{"onUpdate:modelValue":t[7]||(t[7]=n=>s.form.user_limit=n),id:"user_limit",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"入力してください"},null,512),[[f,s.form.user_limit]]),o.errors.user_limit?(i(),l("div",$,a(o.errors.user_limit),1)):d("",!0)]),e("div",tt,[t[18]||(t[18]=e("div",{class:"w-1/2"},[e("button",{type:"submit",class:"inline-block items-center w-full py-2.5 bg-teal-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-teal-700 active:bg-green-700 transition ease-in-out duration-150"}," 保存 ")],-1)),e("div",et,[x(w,{href:r.route("admin.coupon"),class:"text-center inline-block items-center w-full py-2.5 bg-cyan-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-cyan-700 transition ease-in-out duration-150",as:"button"},{default:y(()=>[...t[17]||(t[17]=[u(" 戻る ",-1)])]),_:1},8,["href"])])])],32)])]),_:1})],64)}const ut=A(D,[["render",ot]]);export{ut as default};
