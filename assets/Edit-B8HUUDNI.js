import{p as _,d as g,l as V,o as n,w as y,a as p,b as s,u as e,h as U,c as l,i as d,n as i,t as u,j as m,v as b,e as j}from"./app-DD9omvKC.js";import{A as B}from"./Admin-C4yZ5GHu.js";import{B as w}from"./main-IftWOrsP.js";import"./useConfirm-DqzKcb5y.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./isNativeReflectConstruct-zdezgZUv.js";const M={class:"py-2"},H={class:"mx-auto"},C={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},D={class:"p-3 md:p-6 bg-white border-b border-gray-200"},L={class:"mb-4"},N={key:0,class:"text-red-500 text-xs italic"},q={class:"mb-4"},E={key:0,class:"text-red-500 text-xs italic"},A={class:"mb-4"},O={key:0,class:"text-red-500 text-xs italic"},R={class:"mb-4"},S={key:0,class:"text-red-500 text-xs italic"},T={class:"mb-4"},z={class:"mb-4 flex justify-center"},F=["src"],I={class:"mb-4"},G={key:0,class:"text-red-500 text-xs italic"},J={class:"mb-4"},K={key:0,class:"text-red-500 text-xs italic"},P={class:"flex items-center justify-between"},Q=["disabled"],te={__name:"Edit",props:{plan:Object},setup(v){const a=v,c=_(a.plan.image),f=_(null),t=g.useForm({name:a.plan.name,description:a.plan.description,amount:a.plan.amount,point:a.plan.point,image:null,start_date:a.plan.start_date?new Date(a.plan.start_date):null,end_date:a.plan.end_date?new Date(a.plan.end_date):null}),h=()=>{f.value.files[0]&&(t.image=f.value.files[0]),t.post(route("admin.plans.update",a.plan.id))},k=x=>{c.value=URL.createObjectURL(x.target.files[0])};return(x,o)=>(n(),V(B,null,{default:y(()=>[p(e(g.Head),null,{default:y(()=>[...o[6]||(o[6]=[s("title",null,"プラン編集",-1)])]),_:1}),s("div",M,[s("div",H,[s("div",C,[s("div",D,[s("form",{onSubmit:U(h,["prevent"])},[s("div",L,[o[7]||(o[7]=s("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"start_date"}," 開始日時 ",-1)),p(e(w),{modelValue:e(t).start_date,"onUpdate:modelValue":o[0]||(o[0]=r=>e(t).start_date=r),format:"yyyy-MM-dd HH:mm",placeholder:"開始日時を選択",class:i({"border-red-500":e(t).errors.start_date})},null,8,["modelValue","class"]),e(t).errors.start_date?(n(),l("p",N,u(e(t).errors.start_date),1)):d("",!0)]),s("div",q,[o[8]||(o[8]=s("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"end_date"}," 終了日時 ",-1)),p(e(w),{modelValue:e(t).end_date,"onUpdate:modelValue":o[1]||(o[1]=r=>e(t).end_date=r),format:"yyyy-MM-dd HH:mm",placeholder:"終了日時を選択",class:i({"border-red-500":e(t).errors.end_date})},null,8,["modelValue","class"]),e(t).errors.end_date?(n(),l("p",E,u(e(t).errors.end_date),1)):d("",!0)]),s("div",A,[o[9]||(o[9]=s("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"name"}," プラン名 ",-1)),m(s("input",{id:"name","onUpdate:modelValue":o[2]||(o[2]=r=>e(t).name=r),type:"text",class:i(["shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",{"border-red-500":e(t).errors.name}]),required:""},null,2),[[b,e(t).name]]),e(t).errors.name?(n(),l("p",O,u(e(t).errors.name),1)):d("",!0)]),s("div",R,[o[10]||(o[10]=s("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"description"}," 説明 ",-1)),m(s("textarea",{id:"description","onUpdate:modelValue":o[3]||(o[3]=r=>e(t).description=r),class:i(["shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",{"border-red-500":e(t).errors.description}]),rows:"3"},null,2),[[b,e(t).description]]),e(t).errors.description?(n(),l("p",S,u(e(t).errors.description),1)):d("",!0)]),s("div",T,[o[11]||(o[11]=s("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"image"}," 画像 ",-1)),s("input",{type:"file",id:"image",accept:"image/*",ref_key:"image",ref:f,onChange:k,class:i(["shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",{"border-red-500":e(t).errors.image}])},null,34)]),s("div",z,[c.value?(n(),l("img",{key:0,src:c.value,class:"h-32 inline-block object-contain"},null,8,F)):d("",!0)]),s("div",I,[o[12]||(o[12]=s("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"amount"}," 金額（円） ",-1)),m(s("input",{id:"amount","onUpdate:modelValue":o[4]||(o[4]=r=>e(t).amount=r),type:"number",min:"0",class:i(["shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",{"border-red-500":e(t).errors.amount}]),required:""},null,2),[[b,e(t).amount]]),e(t).errors.amount?(n(),l("p",G,u(e(t).errors.amount),1)):d("",!0)]),s("div",J,[o[13]||(o[13]=s("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"point"}," 付与ポイント ",-1)),m(s("input",{id:"point","onUpdate:modelValue":o[5]||(o[5]=r=>e(t).point=r),type:"number",min:"0",class:i(["shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",{"border-red-500":e(t).errors.point}]),required:""},null,2),[[b,e(t).point]]),e(t).errors.point?(n(),l("p",K,u(e(t).errors.point),1)):d("",!0)]),s("div",P,[s("button",{type:"submit",class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",disabled:e(t).processing}," 更新 ",8,Q),p(e(g.Link),{href:x.route("admin.plans.index"),class:"inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-800"},{default:y(()=>[...o[14]||(o[14]=[j(" キャンセル ",-1)])]),_:1},8,["href"])])],32)])])])])]),_:1}))}};export{te as default};
