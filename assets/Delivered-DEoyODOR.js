import{d as x,r as c,c as r,o,a as m,w as f,b as t,F as u,f as h,l as w,n as k,e as p,t as a,j,k as L,i}from"./app-BEiqhFTt.js";import{U as B}from"./UserLayout-SGzY47is.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useConfirm-23CFCG36.js";import"./index-Bp9nDqUI.js";const V={components:{Head:x.Head,AppLayout:B,Link:x.Link},props:{errors:Object,gacha:Object,category_share:Object,products:Object},data(){return{main_tab:[{title:"未選択",route_url:route("user.products"),is_active:!1},{title:"発送待ち",route_url:route("user.products.wait"),is_active:!1},{title:"発送済み",route_url:route("user.products.delivered"),is_active:!0}],sortBy:"newest"}},computed:{sortedProducts(){const n=[...this.products.data];switch(this.sortBy){case"newest":return n.sort((s,l)=>l.updated_at_time.localeCompare(s.updated_at_time));case"oldest":return n.sort((s,l)=>s.updated_at_time.localeCompare(l.updated_at_time));case"highest":return n.sort((s,l)=>l.point-s.point);default:return n}}}},H={class:"w-full min-h-full"},N={class:"sticky top-20 py-3 z-[2] bg-white"},O={class:"w-full text-neutral-500 space-x-1 border-b-4 border-yellow-500 px-4 flex justify-center"},P={class:"flex justify-end mt-2 px-4 sticky top-36 z-[1]"},z={key:0,class:"grid md:grid-cols-2 gap-1 px-4 md:px-6 py-2"},A={class:"mt-1 py-2 px-3 border rounded-md hover:bg-slate-100"},D={class:"flex border-neutral-200 items-start w-full"},S=["for"],U={class:"relative"},E=["src"],F=["src","alt"],T={class:"min-h-32 flex flex-col justify-evenly flex-1 items-start gap-0.5"},M=["src"],q={class:"text-base px-3 font-bold"},G={key:1,class:"text-sm px-3"},I={class:"text-xs px-3"},J={class:"text-xs px-3"},K={key:2,class:"flex bg-red-500 justify-center items-center rounded-full px-3 mx-auto min-w-[60%] py-0.5 text-white text-base"},Q={key:1,class:"flex items-center justify-center py-8"};function R(n,s,l,W,d,_){const y=c("Head"),b=c("Link"),g=c("AppLayout");return o(),r(u,null,[m(y,{title:"獲得した商品一覧"}),m(g,null,{default:f(()=>[t("div",H,[s[6]||(s[6]=t("h1",{class:"underline underline-offset-8 py-3 text-center text-lg font-bold bg-white"},"   獲得した商品一覧   ",-1)),t("div",N,[t("div",O,[(o(!0),r(u,null,h(d.main_tab,(e,v)=>(o(),w(b,{href:e.route_url,class:k(["-mb-[1px] flex-1 inline-block text-center py-1.5 rounded-t-md border-yellow-500 border-x border-t",{"bg-yellow-500 text-white":e.is_active,"hover:bg-yellow-400 hover:text-white":!e.is_active}])},{default:f(()=>[p(a(e.title),1)]),_:2},1032,["href","class"]))),256))])]),t("div",P,[j(t("select",{"onUpdate:modelValue":s[0]||(s[0]=e=>d.sortBy=e),class:"border rounded-md pl-4 pr-8 py-1 text-sm"},[...s[1]||(s[1]=[t("option",{value:"newest"},"新しい順",-1),t("option",{value:"oldest"},"古い順",-1),t("option",{value:"highest"},"高い順",-1)])],512),[[L,d.sortBy]])]),_.sortedProducts.length?(o(),r("div",z,[(o(!0),r(u,null,h(_.sortedProducts,(e,v)=>(o(),r("div",A,[t("div",D,[t("label",{for:"checkbox"+e.id,class:"flex-1 cursor-pointer flex items-center text-sm py-1 px-2"},[t("div",U,[t("img",{src:e.image,class:"h-32 w-24 object-contain"},null,8,E),e.badge?(o(),r("img",{key:0,src:e.badge,class:"absolute -top-2 -right-2 w-[35%]",alt:e.badge},null,8,F)):i("",!0)]),t("div",T,[e.rank>0?(o(),r("img",{key:0,src:`/images/badge${e.rank}.png`,class:"px-3 h-7 w-auto object-contain"},null,8,M)):i("",!0),t("div",q,a(e.name),1),e.gacha_title?(o(),r("div",G,a(e.gacha_title),1)):i("",!0),t("div",I,[s[2]||(s[2]=t("span",{class:"text-neutral-600"},"発送日時：",-1)),p(a(e.updated_at_time),1)]),t("div",J,[s[3]||(s[3]=t("span",{class:"text-neutral-600"},"追跡番号：",-1)),p(a(e.tracking_number),1)]),e.is_lost_product!=2?(o(),r("div",K,[s[4]||(s[4]=t("img",{src:"/images/icon_cash.png",class:"h-4 mr-1"},null,-1)),t("span",null,a(e.point.toLocaleString())+" PT",1)])):i("",!0)])],8,S)])]))),256))])):(o(),r("div",Q,[...s[5]||(s[5]=[t("p",{class:"text-center"},"発送済みの獲得商品はありません",-1)])]))])]),_:1})],64)}const et=C(V,[["render",R]]);export{et as default};
