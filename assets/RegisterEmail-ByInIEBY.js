import{d as n,r as m,c as p,o as r,l as _,a as l,w as x,b as s,h as k,i as u,t as V,j as a,v as f,n as b,e as g,a9 as F,F as L,g as j}from"./app-B-1GpCXn.js";import{_ as T}from"./Checkbox-CQPaobhQ.js";import{A as B}from"./UserLayout-sTaTtLBR.js";import{_ as C}from"./InputError-BXo_nJOf.js";import{_ as E}from"./InputLabel-uP1H_pu9.js";import{_ as I}from"./TextInput-h7i6wJ4A.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useConfirm-D6HGndBC.js";import"./index-DGdllI6x.js";const U={components:{Checkbox:T,Head:n.Head,AppLayout:B,InputError:C,InputLabel:E,TextInput:I,Link:n.Link},data:()=>({passwordFieldType:"password",step_integer:0,step_titles:["アカウント登録","認証コード入力","本人確認"],is_processing:!1,data:{}}),props:{invitation_code:String,invited_bonus:Number,errors:Object},methods:{submit(){this.step_integer==0?this.form.post(route("register.email.send"),{onFinish:()=>{this.data=n.usePage().props.value.flash,this.data.data&&this.data.data.status==1&&(this.step_integer=1)}}):this.step_integer==1?this.form.post(route("register.email.verify"),{onFinish:()=>{this.data=n.usePage().props.value.flash,this.data.data&&this.data.data.status==1&&(this.step_integer=2)}}):this.form.post(route("register.phone.register"),{onFinish:()=>{}})},submit_phone(){const i={phone:this.form.phone};this.is_processing=!0,j.post(route("register.phone.send"),i).then(e=>{e.status==201||e.status==200,this.is_processing=!1}).catch(e=>{this.is_processing=!1})},switchVisibility(){this.passwordFieldType=this.passwordFieldType==="password"?"text":"password"}},setup(i){return{form:n.useForm({invite_code:i.invitation_code,phone:"",code:"",email:"",password:""})}},mounted(){}},A={class:"flex flex-col h-full"},H={class:"py-6 md:px-6 px-4 flex-1"},S={class:"underline underline-offset-8 mb-10 text-center text-lg font-bold"},D={key:0,class:"flex flex-col items-center"},M={class:"mb-4"},R={class:"mb-10 w-full"},P=["disabled"],z={key:1},O={class:"mb-8"},q={class:"mb-8 text-center border border-yellow-600 rounded-full p-0.5 w-fit mx-auto"},G=["disabled"],J={key:2},K={class:"mb-6"},Q={class:"mb-6"},W=["type"],X={class:"block mb-8 px-2"},Y={class:"flex items-center cursor-pointer gap-2"},Z={class:"mb-8 text-center border border-yellow-600 rounded-full p-0.5 w-fit mx-auto"},$=["disabled"],ee={class:"flex items-center justify-center text-sm my-4"};function se(i,e,h,t,te,c){const y=m("Head"),d=m("InputError"),w=m("Link"),v=m("AppLayout");return r(),p(L,null,[h.invitation_code?(r(),_(y,{key:0,description:"大赤字ガチャ大量排出中 新規ユーザーも爆アド報告多数",title:`今なら新規登録で${h.invited_bonus.toLocaleString()}ptもらえる!!`},null,8,["title"])):(r(),_(y,{key:1,title:"新規登録"})),l(v,null,{default:x(()=>[s("div",A,[e[15]||(e[15]=s("div",{class:"flex justify-center w-full"},[s("img",{src:"/images/register_badge.png",alt:"Register Badge",class:"w-full object-contain md:mt-6 sm:mt-4 sm:mx-8 md:mx-12"})],-1)),s("div",H,[s("form",{onSubmit:e[6]||(e[6]=k((...o)=>c.submit&&c.submit(...o),["prevent"]))},[s("h2",S,"   "+V(i.step_titles[i.step_integer])+"  ",1),i.step_integer==0?(r(),p("div",D,[s("div",M,[e[7]||(e[7]=s("label",{for:"invite_code",class:"block text-base font-bold pl-2 mb-2",title:"あなたを招待した友達の招待コード"},"招待コード",-1)),a(s("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>t.form.invite_code=o),id:"invite_code",type:"text",class:"text-neutral-700 h-10 w-full border-yellow-300 focus:border-yellow-300 focus:ring focus:ring-sky-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder:text-neutral-300",placeholder:"招待した友達の招待コードを入力します",autocomplete:"off"},null,512),[[f,t.form.invite_code]])]),s("div",R,[e[8]||(e[8]=s("label",{for:"email",class:"block text-base font-bold pl-2 mb-2"},"メールアドレス",-1)),a(s("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>t.form.email=o),id:"email",type:"email",class:"w-full text-neutral-700 border-yellow-300 focus:border-yellow-300 focus:ring focus:ring-sky-200 focus:ring-opacity-50 rounded-md shadow-sm"},null,512),[[f,t.form.email]]),l(d,{class:"mt-2",message:t.form.errors.email},null,8,["message"])]),s("button",{type:"submit",class:b([{"opacity-50":t.form.processing},"inline-block items-center mb-8 text-center border border-yellow-600 rounded-full p-0.5 w-fit mx-auto hover:scale-105"]),disabled:t.form.processing},[...e[9]||(e[9]=[s("div",{class:"inline-block items-center px-10 py-1 rounded-full font-semibold text-base text-white uppercase bg-theme bg-theme-hover"}," 認証へ進む ",-1)])],10,P)])):u("",!0),i.step_integer==1?(r(),p("div",z,[s("div",O,[e[10]||(e[10]=s("label",{for:"code",class:"block text-base pl-2 mb-2"},"登録したメールに送信された4行の認証コードを入力してください。",-1)),a(s("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>t.form.code=o),id:"code",type:"tel",class:"w-full text-neutral-700 border-yellow-300 focus:border-yellow-300 focus:ring focus:ring-sky-200 focus:ring-opacity-50 rounded-md shadow-sm",placeholder:"認証コードを入力してください"},null,512),[[f,t.form.code]]),l(d,{class:"mt-2",message:t.form.errors.code},null,8,["message"])]),s("div",q,[s("button",{type:"submit",class:b([{"opacity-50":t.form.processing},"inline-block items-center px-10 py-1 rounded-full font-semibold text-base text-white uppercase bg-theme bg-theme-hover"]),disabled:t.form.processing}," 次へ ",10,G)])])):u("",!0),i.step_integer==2?(r(),p("div",J,[s("div",K,[e[11]||(e[11]=s("label",{for:"phone",class:"block text-base font-bold pl-2 mb-2"},[g(" 電話番号 "),s("span",{class:"text-red-500"},"*")],-1)),a(s("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>t.form.phone=o),id:"phone",type:"tel",class:"text-neutral-700 h-10 w-full border-yellow-300 focus:border-yellow-300 focus:ring focus:ring-sky-200 focus:ring-opacity-50 rounded-md shadow-sm",placeholder:"半角数字のみで入力してください"},null,512),[[f,t.form.phone]]),l(d,{class:"mt-2",message:t.form.errors.phone},null,8,["message"])]),s("div",Q,[e[12]||(e[12]=s("label",{for:"password",class:"block text-base font-bold pl-2 mb-2"},[g(" パスワード "),s("span",{class:"text-red-500"},"*")],-1)),a(s("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>t.form.password=o),id:"password",type:i.passwordFieldType,class:"text-neutral-700 h-10 w-full border-yellow-300 focus:border-yellow-300 focus:ring focus:ring-sky-200 focus:ring-opacity-50 rounded-md shadow-sm"},null,8,W),[[F,t.form.password]]),l(d,{class:"mt-2",message:t.form.errors.password},null,8,["message"])]),s("div",X,[s("label",Y,[s("input",{type:"checkbox",onClick:e[5]||(e[5]=o=>c.switchVisibility()),class:"w-5 h-5 rounded border-yellow-300 text-neutral-600 shadow-sm focus:ring-neutral-500"}),e[13]||(e[13]=s("span",{class:"text-base"},"パスワードを表示",-1))])]),s("div",Z,[s("button",{type:"submit",class:b([{"opacity-50":t.form.processing},"inline-block items-center px-10 py-1 rounded-full font-semibold text-base text-white uppercase bg-theme bg-theme-hover"]),disabled:t.form.processing}," 登録 ",10,$)])])):u("",!0),s("div",ee,[l(w,{href:i.route("login"),class:"underline underline-offset-4 text-neutral-600 hover:text-sky-500"},{default:x(()=>[...e[14]||(e[14]=[g("すでにアカウントをお持ちの方はこちら",-1)])]),_:1},8,["href"])])],32)]),e[16]||(e[16]=s("div",{class:"flex justify-center w-full"},[s("img",{src:"/images/register_badge2.png",alt:"Register Badge",class:"w-full object-contain md:mb-6 sm:mb-4 sm:mx-8 md:mx-12"})],-1))])]),_:1})],64)}const fe=N(U,[["render",se]]);export{fe as default};
