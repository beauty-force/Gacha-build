import{d as p,r as d,c as l,o as n,a as m,w as x,b as t,F as g,f as y,n as _,i as w,t as f}from"./app-eVUcwuVE.js";import{U as v}from"./UserLayout-Cp_jz6Pm.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */import"./useConfirm-DuLyikpD.js";import"./index-BvvB_mLw.js";const L={components:{Head:p.Head,AppLayout:v,Link:p.Link},props:{errors:Object,auth:Object,category_share:Object,products:Object},methods:{format_number(r){return String(r).replace(/(.)(?=(\d{3})+$)/g,"$1,")},initializeLazyLoading(){const r=document.querySelectorAll("img.lazy"),s={root:null,rootMargin:"0px",threshold:.1},i=o=>{o.src=o.dataset.src},u=new IntersectionObserver((o,c)=>{o.forEach(a=>{a.isIntersecting&&(i(a.target),c.unobserve(a.target))})},s);r.forEach(o=>{u.observe(o)})}},mounted(){this.initializeLazyLoading()}},j={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-x-2 gap-y-3 pt-4 pb-8 px-4 sm:gap-x-3"},z={key:0,class:"w-full absolute z-10 bg-neutral-900/50 h-full flex items-center"},O={class:"flex bg-white justify-center items-end"},E={class:"text-center w-full h-full bg-white flex p-2 justify-center"},H=["data-src"],A={class:"flex-1 bg-gradient-to-l to-yellow-600 from-yellow-400 py-1.5 flex flex-col gap-1"},C={class:"h-12 text-xs px-3 flex items-center text-white justify-center font-bold font-[mplus2] overflow-hidden text-ellipsis"},S={class:"text-white"},$={class:"rounded-full px-4 py-0.5 bg-white text-neutral-800 text-sm font-bold font-[mplus2]"};function B(r,s,i,u,o,c){const a=d("Head"),h=d("Link"),b=d("AppLayout");return n(),l(g,null,[m(a,{title:"EP交換所"}),m(b,{is_home:!0},{default:x(()=>[t("div",j,[(n(!0),l(g,null,y(i.products.data,(e,D)=>(n(),l("div",{class:_(["w-full flex justify-stretch items-stretch",{grayscale:e.marks==0}])},[m(h,{href:e.marks>0?r.route("user.dp.detail",{id:e.id}):"",class:"w-full text-center relative rounded-lg shadow-md border-2 border-gray-200 overflow-hidden flex flex-col"},{default:x(()=>[e.marks==0?(n(),l("div",z,[...s[0]||(s[0]=[t("span",{class:"w-full text-white text-3xl font-black font-[mplus2]"},"SOLD OUT",-1)])])):w("",!0),t("div",O,[s[1]||(s[1]=t("span",{class:"text-sm leading-relaxed"},"残り ",-1)),t("span",{class:_(["font-semibold text-2xl",{"text-rose-500":e.marks<=5}])},f(e.marks),3),s[2]||(s[2]=t("span",{class:"text-sm leading-relaxed"}," 枚",-1))]),t("div",E,[t("img",{class:"w-full h-full object-contain lazy","data-src":e.image},null,8,H)]),t("div",A,[t("div",C,f(e.name),1),t("div",S,[t("span",$,f(c.format_number(e.dp))+"EP ",1)])])]),_:2},1032,["href"])],2))),256))])]),_:1})],64)}const q=k(L,[["render",B]]);export{q as default};
