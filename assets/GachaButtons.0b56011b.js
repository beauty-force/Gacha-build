import{L as g,u as p,G as d,o as n,c as r,d as t,n as h,t as i,h as l}from"./app.04280069.js";import{u}from"./useConfirm.801861ec.js";import{_ as m}from"./_plugin-vue_export-helper.cdc0426e.js";import{r as f}from"./PlayIcon.c4e82f13.js";const{confirm:x}=u(),b={components:{Link:g,PlayIcon:f},props:{gacha:Object},data(){return{category_share:p().props.value.category_share,str_gacha10:"",str_gacha50:"",str_gacha100:"",str_gacha500:"",point_10gacha:0,point_100gacha:0,point_500gacha:0,processing:!1}},methods:{format_number(e){return String(e).replace(/(.)(?=(\d{3})+$)/g,"$1,")},clickgacha(e){let a=this.gacha.point*e;x(`\u30AC\u30C1\u30E3\u3092\u5F15\u304D\u307E\u3059\u304B\uFF1F
`+e+"\u56DE\u5206\u306E\u30DD\u30A4\u30F3\u30C8\u3092"+a.toLocaleString()+"PT\u6D88\u8CBB\u3057\u307E\u3059\u3002").then(o=>{o&&this.start_gacha(e)})},start_gacha(e){this.processing=!0,!this.url_edit&&d({id:this.gacha.id,number:e,code:this.gacha.code}).post(route("user.gacha.start_post"),{onFinish:()=>{this.processing=!1}})}},mounted(){this.gacha.count_rest<=10?(this.str_gacha10="\u5168\u3066",this.point_10gacha=this.gacha.count_rest*this.gacha.point):(this.str_gacha10="10\u9023",this.point_10gacha=10*this.gacha.point),this.gacha.count_rest<=100?(this.str_gacha100="\u5168\u3066",this.point_100gacha=this.gacha.count_rest*this.gacha.point):(this.str_gacha100="100\u9023",this.point_100gacha=100*this.gacha.point),this.gacha.count_rest<=500?(this.str_gacha500="\u5168\u3066",this.point_500gacha=this.gacha.count_rest*this.gacha.point):(this.str_gacha500="500\u9023",this.point_500gacha=500*this.gacha.point),this.url_edit||(this.url_card=route("user.gacha",this.gacha.id)+this.category_share.cat_route_appendix)}},y={key:0,class:"w-full mx-auto flex flex-col justify-center py-1 px-1 gap-2 md:max-w-md"},w={class:"flex font-[mplus2] gap-2 flex-wrap"},v=["disabled"],k={class:"text-nowrap flex items-center justify-center min-w-36"},C=t("span",{class:"font-extrabold text-[15px]"},"1\u56DE",-1),j=t("span",{class:"font-semibold text-[11px]"},"\u30AC\u30C1\u30E3",-1),B=t("img",{src:"/images/icon_cash.png",class:"ml-2 h-4"},null,-1),G={class:"font-semibold text-[13px]"},L=["disabled"],P={class:"text-nowrap flex items-center justify-center min-w-36"},S={class:"font-extrabold text-[15px]"},F=t("span",{class:"font-semibold text-[11px]"},"\u30AC\u30C1\u30E3",-1),N=t("img",{src:"/images/icon_cash.png",class:"ml-2 h-4"},null,-1),V={class:"font-semibold text-[13px]"},z={class:"flex font-[mplus2] gap-1 flex-wrap"},D=["disabled"],E={class:"text-nowrap flex items-center justify-center"},I={class:"font-extrabold text-[15px]"},O=t("span",{class:"font-semibold text-[11px]"},"\u30AC\u30C1\u30E3",-1),T=t("img",{src:"/images/icon_cash.png",class:"ml-2 h-4"},null,-1),q={class:"font-semibold text-[13px]"};function A(e,a,o,H,s,c){return o.gacha.count_rest>0?(n(),r("div",y,[t("div",w,[t("button",{onClick:a[0]||(a[0]=_=>c.clickgacha(1)),class:h([{"opacity-50":s.processing},"cursor-pointer rounded-md bg-gradient-to-br border border-yellow-400/50 from-neutral-500 to-neutral-700 hover:from-neutral-600 hover:to-neutral-800 text-white flex-1 text-center space-y-1 pt-1.5 pb-2"]),disabled:s.processing},[t("div",k,[C,j,B,t("span",G,i(c.format_number(o.gacha.point)),1)])],10,v),o.gacha.count_rest>1?(n(),r("button",{key:0,onClick:a[1]||(a[1]=_=>c.clickgacha(10)),class:h([{"opacity-50":s.processing},"cursor-pointer rounded-md bg-gradient-to-br border border-yellow-400/50 from-yellow-400 to-yellow-600 hover:from-yellow-500 hover:to-yellow-700 text-white flex-1 text-center space-y-1 pt-1.5 pb-2"]),disabled:s.processing},[t("div",P,[t("span",S,i(s.str_gacha10),1),F,N,t("span",V,i(c.format_number(s.point_10gacha)),1)])],10,L)):l("",!0)]),t("div",z,[o.gacha.count_rest>10?(n(),r("button",{key:0,onClick:a[2]||(a[2]=_=>c.clickgacha(100)),class:h([{"opacity-50":s.processing},"cursor-pointer rounded-md bg-gradient-to-br border border-yellow-400/50 all_button text-white flex-1 text-center space-y-1 pt-1.5 pb-2"]),disabled:s.processing},[t("div",E,[t("span",I,i(s.str_gacha100),1),O,T,t("span",q,i(c.format_number(s.point_100gacha)),1)])],10,D)):l("",!0)])])):l("",!0)}const R=m(b,[["render",A]]);export{R as G};
