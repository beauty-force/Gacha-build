import{p as b,d as z,q as te,s as se,l as le,o as d,w as v,a as c,b as e,u as s,h as q,c as a,i as u,t as n,j as p,v as x,e as g,F as j,f as I,x as A,k as T,m as E}from"./app-0AcmyHmW.js";import{d as L}from"./index-DWz0RXDN.js";import{B as F}from"./main-BAJgbY00.js";import{S as N,Y as O,h as S,G,u as oe}from"./useConfirm-BDF-k9gd.js";import{A as ie}from"./Admin-BAoE_gpR.js";import{s as re}from"./vue-multiselect-BnpUfhdb.js";import"./isNativeReflectConstruct-zdezgZUv.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const de={class:"py-2"},ae={class:"max-w-7xl mx-auto md:px-2"},ne={class:"bg-white"},me={class:"p-4 text-gray-900"},ue={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},ce={key:0,class:"text-red-500 text-sm mt-1"},pe={key:0,class:"text-red-500 text-sm mt-1"},ve={key:0,class:"text-red-500 text-sm mt-1"},ge={key:0,class:"text-red-500 text-sm mt-1"},ye={class:"text-center w-full"},fe=["src"],xe={key:0,class:"text-red-500 text-sm mt-1"},be={class:"flex gap-2"},_e=["disabled"],ke={key:0,class:"text-red-500 text-sm mt-1"},he={class:"flex items-center justify-end space-x-4"},we=["disabled"],Ve={class:"mt-8 border-t pt-8"},Ce={class:"hidden md:block overflow-x-auto"},Ue={class:"min-w-full divide-y divide-gray-200"},ze={class:"bg-white divide-y divide-gray-200"},je={class:"px-3 py-4 whitespace-nowrap text-sm text-gray-900"},Me={class:"px-3 py-4 whitespace-nowrap text-sm text-gray-900"},Ie={class:"px-3 py-2 whitespace-nowrap"},Le={class:"flex items-center"},Se=["src","alt"],He={class:"flex flex-col gap-1"},De={class:"text-sm font-bold text-gray-900"},qe={class:"text-xs text-gray-600"},Fe={key:0,class:"text-xs text-gray-500 flex items-center gap-1"},Be={key:1,class:"text-xs text-rose-500"},Re={class:"px-3 py-4 whitespace-nowrap text-sm font-medium"},$e={class:"flex space-x-2"},Ae=["onClick"],Te=["onClick"],Ee={class:"md:hidden space-y-4"},Ne={class:"flex items-start justify-between mb-3"},Oe={class:"flex items-center gap-3"},Ge=["src","alt"],Ye={class:"flex flex-col gap-1"},Je={class:"text-sm font-bold text-gray-900"},Ke={class:"text-xs text-gray-600"},Qe={class:"text-xs text-gray-500 flex items-center gap-1"},We={key:0,class:"text-xs text-rose-500"},Xe={class:"flex space-x-2"},Ze=["onClick"],Pe=["onClick"],et={class:"grid grid-cols-2 gap-4 text-sm"},tt={class:"font-medium ml-1"},st={class:"font-medium ml-1"},lt={class:"fixed inset-0 z-10 overflow-y-auto"},ot={class:"flex min-h-full items-center justify-center p-4 text-center sm:items-center sm:p-0"},it={class:"mb-4"},rt={class:"flex gap-4"},dt={class:"flex items-center gap-2 cursor-pointer"},at={class:"flex items-center gap-2 cursor-pointer"},nt={class:"mb-4"},mt={key:0,class:"text-red-500 text-sm mt-1"},ut={class:"mb-4"},ct={key:0,class:"text-red-500 text-sm mt-1"},pt={key:0},vt={class:"mb-4"},gt={class:"flex items-center gap-3 py-2"},yt=["src","alt"],ft={key:1,class:"w-12 h-12 flex items-center justify-center border border-gray-200 rounded text-gray-400 text-xs"},xt={key:2,class:"flex-1"},bt={class:"font-medium text-sm text-gray-900"},_t={class:"text-xs text-gray-500"},kt={key:0,class:"flex items-center gap-3"},ht=["src","alt"],wt={key:1,class:"w-8 h-8 flex items-center justify-center border border-gray-200 rounded text-gray-400 text-xs"},Vt={class:"font-medium text-sm"},Ct={key:0,class:"text-red-500 text-sm mt-1"},Ut={key:0,class:"mb-4 p-4 border border-gray-200 rounded-lg bg-gray-50"},zt={class:"flex items-center gap-4"},jt={class:"flex-shrink-0"},Mt=["src","alt"],It={key:1,class:"w-24 h-24 flex items-center justify-center border border-gray-300 rounded-lg bg-white text-gray-400 text-xs"},Lt={class:"flex-1"},St={class:"font-semibold text-base text-gray-900 mb-1"},Ht={class:"text-sm text-gray-600 mb-2"},Dt={key:0,class:"text-sm text-gray-500"},qt={class:"mb-4"},Ft={key:0,class:"text-red-500 text-sm mt-1"},Bt={class:"mb-4"},Rt={key:0,class:"text-red-500 text-sm mt-1"},$t={class:"mb-4"},At=["value"],Tt={key:0,class:"text-red-500 text-sm mt-1"},Et={class:"mb-4 flex items-center gap-2"},Nt={class:"mb-4"},Ot={class:"text-center w-full mb-2"},Gt=["src"],Yt={key:0,class:"text-red-500 text-sm mt-1"},Jt={class:"flex justify-end space-x-3"},Kt=["disabled"],Qt={class:"fixed inset-0 z-10 overflow-y-auto"},Wt={class:"flex min-h-full items-center justify-center p-4 text-center sm:items-center sm:p-0"},Xt={class:"mb-4"},Zt={key:0,class:"text-red-500 text-sm mt-1"},Pt={class:"mb-4"},es={key:0,class:"text-red-500 text-sm mt-1"},ts={class:"mb-4"},ss={key:0,class:"text-red-500 text-sm mt-1"},ls={class:"mb-4"},os={key:0,class:"text-red-500 text-sm mt-1"},is={class:"mb-4"},rs=["value"],ds={key:0,class:"text-red-500 text-sm mt-1"},as={class:"mb-4 flex items-center gap-2"},ns={class:"mb-4"},ms={class:"text-center w-full mb-2"},us=["src"],cs={key:0,class:"text-red-500 text-sm mt-1"},ps={class:"flex justify-end space-x-3"},vs=["disabled"],ws={__name:"Edit",props:{event:Object,lost_types:Array,items:Array},setup(w){const _=w,{confirm:Y}=oe(),M=b(null),H=b(null),V=b(!1),U=b(!1),k=b(null),f=b(null),C=b(null),h=b(null),y=b(null),m=z.useForm({title:_.event.title,url:_.event.url,publish_date:_.event.publish_date,start_date:_.event.start_date,end_date:_.event.end_date,image:null}),o=z.useForm({event_id:_.event.id,level_id:"",limit:"",name:"",point:"",rare:"",image:null,delivery_only:!1,use_item:!1,item_id:null}),r=z.useForm({id:"",level_id:"",limit:"",name:"",point:"",rare:"",image:null,delivery_only:!1}),J=()=>{H.value&&(m.image=H.value.files[0]),m.post(route("admin.events.update",_.event.id))},B=i=>({gacha_ticket:"ガチャチケット",point_lottery:"ポイント抽選",rank_double:"ランクアップ2倍",point_discount:"ポイント購入割引",daily_reset:"日次リセット",hidden_gacha_key:"隠しガチャ鍵",chip_card:"チップカード",purchase_discount:"購入割引チケット"})[i]||i;te(y,i=>{i?o.item_id=i.id:o.item_id=null});const K=()=>{V.value=!0,o.reset(),o.use_item=!1,o.item_id=null,y.value=null,k.value=null,f.value&&(f.value.value="")},Q=()=>{if(o.use_item&&o.item_id){const t=new FormData;t.append("event_id",o.event_id),t.append("level_id",o.level_id),t.append("limit",o.limit),t.append("item_id",o.item_id),L.Inertia.post(route("admin.events.products.add"),t,{onSuccess:()=>{o.reset(),o.use_item=!1,o.item_id=null,V.value=!1,k.value=null,f.value&&(f.value.value="")}});return}const i=new FormData;i.append("event_id",o.event_id),i.append("level_id",o.level_id),i.append("limit",o.limit),i.append("name",o.name),i.append("point",o.point),i.append("rare",o.rare),i.append("is_lost_product","3"),i.append("delivery_only",o.delivery_only?"1":"0"),o.image&&i.append("image",o.image),L.Inertia.post(route("admin.events.products.add"),i,{onSuccess:()=>{o.reset(),o.use_item=!1,o.item_id=null,V.value=!1,k.value=null,f.value&&(f.value.value="")}})},W=()=>{if(f.value&&f.value.files&&f.value.files[0]){const i=f.value.files[0];o.image=i;const t=new FileReader;t.onload=l=>{k.value=l.target.result},t.readAsDataURL(i)}else k.value=null,o.image=null},R=i=>{r.id=i.id,r.level_id=i.level_id,r.limit=i.limit,r.name=i.prize.name,r.point=i.prize.point,r.rare=i.prize.rare||"",r.image=null,r.delivery_only=i.prize.lost_type%2==1,C.value=i.prize.image,U.value=!0},X=()=>{const i=new FormData;i.append("id",r.id),i.append("level_id",r.level_id),i.append("limit",r.limit),i.append("name",r.name),i.append("point",r.point),i.append("rare",r.rare),i.append("is_lost_product","3"),i.append("delivery_only",r.delivery_only?"1":"0"),r.image&&i.append("image",r.image),L.Inertia.post(route("admin.events.products.update",r.id),i,{onSuccess:()=>{U.value=!1,C.value=null,h.value&&(h.value.value="")}})},Z=()=>{if(h.value&&h.value.files&&h.value.files[0]){const i=h.value.files[0];r.image=i;const t=new FileReader;t.onload=l=>{C.value=l.target.result},t.readAsDataURL(i)}else C.value=null,r.image=null},$=async i=>{await Y("この商品を削除しますか？","この操作は取り消せません。","warning")&&L.Inertia.delete(route("admin.events.products.remove",i),{preserveScroll:!0})},P=()=>{m.url&&window.open(m.url,"_blank")},ee=i=>{const t=i.target.files[0];M.value=URL.createObjectURL(t)};return se(()=>{M.value=_.event.image}),(i,t)=>(d(),le(ie,null,{default:v(()=>[c(s(z.Head),null,{default:v(()=>[...t[24]||(t[24]=[e("title",null,"イベント編集",-1)])]),_:1}),e("div",de,[e("div",ae,[e("div",ne,[e("div",me,[e("form",{onSubmit:q(J,["prevent"]),class:"space-y-6"},[e("div",ue,[e("div",null,[t[25]||(t[25]=e("label",{for:"publish_date",class:"block text-sm font-medium text-gray-700"}," 公開日時 ",-1)),c(s(F),{modelValue:s(m).publish_date,"onUpdate:modelValue":t[0]||(t[0]=l=>s(m).publish_date=l),format:"yyyy-MM-dd HH:mm",class:"mt-1 block w-full"},null,8,["modelValue"]),s(m).errors.publish_date?(d(),a("div",ce,n(s(m).errors.publish_date),1)):u("",!0)]),e("div",null,[t[26]||(t[26]=e("label",{for:"start_date",class:"block text-sm font-medium text-gray-700"}," 開始日時 ",-1)),c(s(F),{modelValue:s(m).start_date,"onUpdate:modelValue":t[1]||(t[1]=l=>s(m).start_date=l),format:"yyyy-MM-dd HH:mm",class:"mt-1 block w-full"},null,8,["modelValue"]),s(m).errors.start_date?(d(),a("div",pe,n(s(m).errors.start_date),1)):u("",!0)]),e("div",null,[t[27]||(t[27]=e("label",{for:"end_date",class:"block text-sm font-medium text-gray-700"}," 終了日時 ",-1)),c(s(F),{modelValue:s(m).end_date,"onUpdate:modelValue":t[2]||(t[2]=l=>s(m).end_date=l),format:"yyyy-MM-dd HH:mm",class:"mt-1 block w-full"},null,8,["modelValue"]),s(m).errors.end_date?(d(),a("div",ve,n(s(m).errors.end_date),1)):u("",!0)])]),e("div",null,[t[28]||(t[28]=e("label",{for:"title",class:"block text-sm font-medium text-gray-700"}," タイトル ",-1)),p(e("input",{id:"title","onUpdate:modelValue":t[3]||(t[3]=l=>s(m).title=l),type:"text",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:""},null,512),[[x,s(m).title]]),s(m).errors.title?(d(),a("div",ge,n(s(m).errors.title),1)):u("",!0)]),e("div",null,[t[29]||(t[29]=e("label",{for:"image",class:"block text-sm font-medium text-gray-700"}," イベント画像 ",-1)),e("div",ye,[M.value?(d(),a("img",{key:0,src:M.value,class:"inline-block mt-4 h-52"},null,8,fe)):u("",!0)]),e("input",{id:"image",type:"file",onChange:ee,ref_key:"image",ref:H,class:"mt-1 block w-full border-gray-300"},null,544),s(m).errors.image?(d(),a("div",xe,n(s(m).errors.image),1)):u("",!0)]),e("div",null,[t[31]||(t[31]=e("label",{for:"url",class:"block text-sm font-medium text-gray-700"}," 詳細ページURL ",-1)),e("div",be,[p(e("input",{id:"url","onUpdate:modelValue":t[4]||(t[4]=l=>s(m).url=l),type:"url",class:"flex-1 border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:""},null,512),[[x,s(m).url]]),e("button",{type:"button",onClick:P,disabled:!s(m).url,class:"px-3 py-2 bg-blue-500 hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white font-medium rounded-md text-sm",title:"URLを新しいタブで開く"},[...t[30]||(t[30]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})],-1)])],8,_e)]),s(m).errors.url?(d(),a("div",ke,n(s(m).errors.url),1)):u("",!0)]),e("div",he,[c(s(z.Link),{href:i.route("admin.events.index"),class:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded"},{default:v(()=>[...t[32]||(t[32]=[g(" キャンセル ",-1)])]),_:1},8,["href"]),e("button",{type:"submit",disabled:s(m).processing,class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded disabled:opacity-50"},n(s(m).processing?"更新中...":"更新"),9,we)])],32),e("div",Ve,[e("div",{class:"flex justify-between items-center mb-4"},[t[33]||(t[33]=e("h3",{class:"text-lg font-semibold"},"イベント商品",-1)),e("button",{onClick:K,class:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded"}," 商品を追加 ")]),e("div",Ce,[e("table",Ue,[t[37]||(t[37]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-3 py-3 text-left text-sm text-gray-500 uppercase tracking-wider"}," レベル "),e("th",{class:"px-3 py-3 text-left text-sm text-gray-500 uppercase tracking-wider"}," 購入額 "),e("th",{class:"px-3 py-3 text-left text-sm text-gray-500 uppercase tracking-wider"}," 商品 "),e("th",{class:"px-3 py-3 text-left text-sm text-gray-500 uppercase tracking-wider"}," 操作 ")])],-1)),e("tbody",ze,[(d(!0),a(j,null,I(w.event.event_products,l=>(d(),a("tr",{key:l.id},[e("td",je,n(l.level_id),1),e("td",Me,n(l.limit.toLocaleString())+"円 ",1),e("td",Ie,[e("div",Le,[e("img",{src:l.prize.image,alt:l.prize.name,class:"w-16 h-20 rounded object-contain mr-3"},null,8,Se),e("div",He,[e("div",De,n(l.prize.name),1),e("div",qe,n(l.prize.rare),1),l.prize.item_id==0?(d(),a("div",Fe,[t[34]||(t[34]=e("img",{src:"/images/icon_cash.png",class:"w-4 h-4"},null,-1)),g(" "+n(l.prize.point.toLocaleString())+" PT ",1)])):u("",!0),l.prize.lost_type%2==1?(d(),a("div",Be," 発送専用 ")):u("",!0)])])]),e("td",Re,[e("div",$e,[e("button",{onClick:D=>R(l),class:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:"編集"},[...t[35]||(t[35]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,Ae),e("button",{onClick:D=>$(l.id),class:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",title:"削除"},[...t[36]||(t[36]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Te)])])]))),128))])])]),e("div",Ee,[(d(!0),a(j,null,I(w.event.event_products,l=>(d(),a("div",{key:l.id,class:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm"},[e("div",Ne,[e("div",Oe,[e("img",{src:l.prize.image,alt:l.prize.name,class:"w-16 h-20 rounded object-contain"},null,8,Ge),e("div",Ye,[e("div",Je,n(l.prize.name),1),e("div",Ke,n(l.prize.rare),1),e("div",Qe,[t[38]||(t[38]=e("img",{src:"/images/icon_cash.png",class:"w-4 h-4"},null,-1)),g(" "+n(l.prize.point.toLocaleString())+" PT ",1)]),l.prize.lost_type%2==1?(d(),a("div",We," 発送専用 ")):u("",!0)])]),e("div",Xe,[e("button",{onClick:D=>R(l),class:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:"編集"},[...t[39]||(t[39]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,Ze),e("button",{onClick:D=>$(l.id),class:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",title:"削除"},[...t[40]||(t[40]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Pe)])]),e("div",et,[e("div",null,[t[41]||(t[41]=e("span",{class:"text-gray-500"},"レベル:",-1)),e("span",tt,n(l.level_id),1)]),e("div",null,[t[42]||(t[42]=e("span",{class:"text-gray-500"},"購入額:",-1)),e("span",st,n(l.limit.toLocaleString())+"円",1)])])]))),128))])])])])])]),c(s(N),{as:"template",show:V.value},{default:v(()=>[c(s(O),{as:"div",class:"relative z-30",onClose:t[15]||(t[15]=l=>V.value=!1)},{default:v(()=>[c(s(S),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:v(()=>[...t[43]||(t[43]=[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)])]),_:1}),e("div",lt,[e("div",ot,[c(s(S),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:v(()=>[c(s(G),{class:"p-6 relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},{default:v(()=>[e("form",{onSubmit:q(Q,["prevent"])},[e("div",it,[t[46]||(t[46]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"商品タイプ",-1)),e("div",rt,[e("label",dt,[p(e("input",{type:"radio","onUpdate:modelValue":t[5]||(t[5]=l=>s(o).use_item=l),value:!1,class:"w-4 h-4"},null,512),[[A,s(o).use_item]]),t[44]||(t[44]=e("span",null,"商品を作成",-1))]),e("label",at,[p(e("input",{type:"radio","onUpdate:modelValue":t[6]||(t[6]=l=>s(o).use_item=l),value:!0,class:"w-4 h-4"},null,512),[[A,s(o).use_item]]),t[45]||(t[45]=e("span",null,"アイテムを選択",-1))])])]),e("div",nt,[t[47]||(t[47]=e("label",{for:"level_id",class:"block text-sm font-medium text-gray-700"},[g(" レベル (ソート用) "),e("span",{class:"text-red-500"},"*")],-1)),p(e("input",{id:"level_id","onUpdate:modelValue":t[7]||(t[7]=l=>s(o).level_id=l),type:"number",min:"1",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:""},null,512),[[x,s(o).level_id]]),s(o).errors.level_id?(d(),a("div",mt,n(s(o).errors.level_id),1)):u("",!0)]),e("div",ut,[t[48]||(t[48]=e("label",{for:"limit",class:"block text-sm font-medium text-gray-700"},[g(" 購入額 "),e("span",{class:"text-red-500"},"*")],-1)),p(e("input",{id:"limit","onUpdate:modelValue":t[8]||(t[8]=l=>s(o).limit=l),type:"number",min:"1",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:""},null,512),[[x,s(o).limit]]),s(o).errors.limit?(d(),a("div",ct,n(s(o).errors.limit),1)):u("",!0)]),s(o).use_item?(d(),a("div",pt,[e("div",vt,[t[49]||(t[49]=e("label",{for:"item_id",class:"block text-sm font-medium text-gray-700"},[g(" アイテム "),e("span",{class:"text-red-500"},"*")],-1)),c(s(re),{modelValue:y.value,"onUpdate:modelValue":t[9]||(t[9]=l=>y.value=l),options:w.items,label:"name","track-by":"id",searchable:!0,"close-on-select":!0,"show-labels":!1,multiple:!1,placeholder:"選択してください","allow-empty":!0,noResult:"該当するアイテムが見つかりません",class:"mt-1"},{option:v(({option:l})=>[e("div",gt,[l&&l.image?(d(),a("img",{key:0,src:l.image,class:"w-12 h-12 object-contain border border-gray-200 rounded",alt:l.name},null,8,yt)):(d(),a("span",ft," 画像なし ")),l?(d(),a("div",xt,[e("div",bt,n(l.name),1),e("div",_t,n(B(l.type)),1)])):u("",!0)])]),singleLabel:v(({option:l})=>[l?(d(),a("div",kt,[l.image?(d(),a("img",{key:0,src:l.image,class:"w-8 h-8 object-contain border border-gray-200 rounded",alt:l.name},null,8,ht)):(d(),a("span",wt," - ")),e("span",Vt,n(l.name),1)])):u("",!0)]),_:1},8,["modelValue","options"]),s(o).errors.item_id?(d(),a("div",Ct,n(s(o).errors.item_id),1)):u("",!0)]),y.value?(d(),a("div",Ut,[e("div",zt,[e("div",jt,[y.value.image?(d(),a("img",{key:0,src:y.value.image,class:"w-24 h-24 object-contain border border-gray-300 rounded-lg bg-white p-2",alt:y.value.name},null,8,Mt)):(d(),a("div",It," 画像なし "))]),e("div",Lt,[e("div",St,n(y.value.name),1),e("div",Ht,n(B(y.value.type)),1),y.value.description?(d(),a("div",Dt,n(y.value.description),1)):u("",!0)])])])):u("",!0)])):(d(),a(j,{key:1},[e("div",qt,[t[50]||(t[50]=e("label",{for:"product_name",class:"block text-sm font-medium text-gray-700"},[g(" 商品名 "),e("span",{class:"text-red-500"},"*")],-1)),p(e("input",{id:"product_name","onUpdate:modelValue":t[10]||(t[10]=l=>s(o).name=l),type:"text",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"商品名を入力してください",required:""},null,512),[[x,s(o).name]]),s(o).errors.name?(d(),a("div",Ft,n(s(o).errors.name),1)):u("",!0)]),e("div",Bt,[t[51]||(t[51]=e("label",{for:"product_point",class:"block text-sm font-medium text-gray-700"},[g(" ポイント "),e("span",{class:"text-red-500"},"*")],-1)),p(e("input",{id:"product_point","onUpdate:modelValue":t[11]||(t[11]=l=>s(o).point=l),type:"number",min:"1",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"ポイントを入力してください",required:""},null,512),[[x,s(o).point]]),s(o).errors.point?(d(),a("div",Rt,n(s(o).errors.point),1)):u("",!0)]),e("div",$t,[t[52]||(t[52]=e("label",{for:"rare",class:"block text-sm font-medium text-gray-700"},[g(" レア度 "),e("span",{class:"text-red-500"},"*")],-1)),p(e("select",{id:"rare","onUpdate:modelValue":t[12]||(t[12]=l=>s(o).rare=l),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"},[(d(!0),a(j,null,I(w.lost_types,l=>(d(),a("option",{key:l,value:l},n(l),9,At))),128))],512),[[T,s(o).rare]]),s(o).errors.rare?(d(),a("div",Tt,n(s(o).errors.rare),1)):u("",!0)]),e("div",Et,[p(e("input",{id:"delivery_only","onUpdate:modelValue":t[13]||(t[13]=l=>s(o).delivery_only=l),type:"checkbox",class:"w-4 h-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"},null,512),[[E,s(o).delivery_only]]),t[53]||(t[53]=e("label",{for:"delivery_only",class:"cursor-pointer text-sm text-gray-700"}," 発送専用 ",-1))]),e("div",Nt,[t[54]||(t[54]=e("label",{for:"product_image",class:"block text-sm font-medium text-gray-700"},[g(" 商品画像 "),e("span",{class:"text-red-500"},"*")],-1)),e("div",Ot,[k.value?(d(),a("img",{key:0,src:k.value,class:"inline-block mt-2 h-24"},null,8,Gt)):u("",!0)]),e("input",{id:"product_image",ref_key:"productImageInput",ref:f,onChange:W,type:"file",accept:"image/*",class:"mt-1 block w-full border-gray-300 focus:ring-indigo-500 focus:border-indigo-500",required:""},null,544),s(o).errors.image?(d(),a("div",Yt,n(s(o).errors.image),1)):u("",!0)])],64)),e("div",Jt,[e("button",{type:"button",onClick:t[14]||(t[14]=l=>V.value=!1),class:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded"}," キャンセル "),e("button",{type:"submit",disabled:s(o).processing,class:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded disabled:opacity-50"},n(s(o).processing?"追加中...":"追加"),9,Kt)])],32)]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]),c(s(N),{as:"template",show:U.value},{default:v(()=>[c(s(O),{as:"div",class:"relative z-30",onClose:t[23]||(t[23]=l=>U.value=!1)},{default:v(()=>[c(s(S),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:v(()=>[...t[55]||(t[55]=[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)])]),_:1}),e("div",Qt,[e("div",Wt,[c(s(S),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:v(()=>[c(s(G),{class:"p-6 relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},{default:v(()=>[e("form",{onSubmit:q(X,["prevent"])},[e("div",Xt,[t[56]||(t[56]=e("label",{for:"edit_level_id",class:"block text-sm font-medium text-gray-700"},[g(" レベル (ソート用) "),e("span",{class:"text-red-500"},"*")],-1)),p(e("input",{id:"edit_level_id","onUpdate:modelValue":t[16]||(t[16]=l=>s(r).level_id=l),type:"number",min:"1",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:""},null,512),[[x,s(r).level_id]]),s(r).errors.level_id?(d(),a("div",Zt,n(s(r).errors.level_id),1)):u("",!0)]),e("div",Pt,[t[57]||(t[57]=e("label",{for:"edit_limit",class:"block text-sm font-medium text-gray-700"},[g(" 購入額 "),e("span",{class:"text-red-500"},"*")],-1)),p(e("input",{id:"edit_limit","onUpdate:modelValue":t[17]||(t[17]=l=>s(r).limit=l),type:"number",min:"1",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",required:""},null,512),[[x,s(r).limit]]),s(r).errors.limit?(d(),a("div",es,n(s(r).errors.limit),1)):u("",!0)]),e("div",ts,[t[58]||(t[58]=e("label",{for:"edit_product_name",class:"block text-sm font-medium text-gray-700"},[g(" 商品名 "),e("span",{class:"text-red-500"},"*")],-1)),p(e("input",{id:"edit_product_name","onUpdate:modelValue":t[18]||(t[18]=l=>s(r).name=l),type:"text",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"商品名を入力してください",required:""},null,512),[[x,s(r).name]]),s(r).errors.name?(d(),a("div",ss,n(s(r).errors.name),1)):u("",!0)]),e("div",ls,[t[59]||(t[59]=e("label",{for:"edit_product_point",class:"block text-sm font-medium text-gray-700"},[g(" ポイント "),e("span",{class:"text-red-500"},"*")],-1)),p(e("input",{id:"edit_product_point","onUpdate:modelValue":t[19]||(t[19]=l=>s(r).point=l),type:"number",min:"1",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"ポイントを入力してください",required:""},null,512),[[x,s(r).point]]),s(r).errors.point?(d(),a("div",os,n(s(r).errors.point),1)):u("",!0)]),e("div",is,[t[60]||(t[60]=e("label",{for:"edit_rare",class:"block text-sm font-medium text-gray-700"},[g(" レア度 "),e("span",{class:"text-red-500"},"*")],-1)),p(e("select",{id:"edit_rare","onUpdate:modelValue":t[20]||(t[20]=l=>s(r).rare=l),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"},[(d(!0),a(j,null,I(w.lost_types,l=>(d(),a("option",{key:l,value:l},n(l),9,rs))),128))],512),[[T,s(r).rare]]),s(r).errors.rare?(d(),a("div",ds,n(s(r).errors.rare),1)):u("",!0)]),e("div",as,[p(e("input",{id:"edit_delivery_only","onUpdate:modelValue":t[21]||(t[21]=l=>s(r).delivery_only=l),type:"checkbox",class:"w-4 h-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"},null,512),[[E,s(r).delivery_only]]),t[61]||(t[61]=e("label",{for:"edit_delivery_only",class:"cursor-pointer text-sm text-gray-700"}," 発送専用 ",-1))]),e("div",ns,[t[62]||(t[62]=e("label",{for:"edit_product_image",class:"block text-sm font-medium text-gray-700"}," 商品画像 ",-1)),e("div",ms,[C.value?(d(),a("img",{key:0,src:C.value,class:"inline-block mt-2 h-24"},null,8,us)):u("",!0)]),e("input",{id:"edit_product_image",ref_key:"editImageInput",ref:h,onChange:Z,type:"file",accept:"image/*",class:"mt-1 block w-full focus:ring-indigo-500 focus:border-indigo-500"},null,544),s(r).errors.image?(d(),a("div",cs,n(s(r).errors.image),1)):u("",!0)]),e("div",ps,[e("button",{type:"button",onClick:t[22]||(t[22]=l=>U.value=!1),class:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded"}," キャンセル "),e("button",{type:"submit",disabled:s(r).processing,class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded disabled:opacity-50"},n(s(r).processing?"更新中...":"更新"),9,vs)])],32)]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])]),_:1}))}};export{ws as default};
