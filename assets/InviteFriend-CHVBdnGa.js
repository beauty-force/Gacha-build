import{d as c,p as y,c as n,o as l,b as e,e as i,t as o,u,i as k,F as h,f as C,n as S}from"./app-jJL9p32s.js";import{l as _}from"./index-DIM-4IZN.js";const j={class:"w-full flex flex-col items-end md:flex-row md:items-center md:mt-2"},L={class:"w-full border-4 border-dotted rounded-lg py-4 gap-2 bg-neutral-50 relative"},P={class:"flex flex-col items-center justify-center gap-4 flex-1"},$={class:"flex items-center gap-2 hover:text-yellow-500"},I={class:"text-sm mt-2 leading-7"},A={key:0,class:"ml-4 text-red-500"},B={key:1,class:"ml-4"},N={class:"flex flex-wrap justify-center gap-2 py-6"},T=["href"],V=["href"],E={class:"space-y-1"},F={class:"flex justify-between items-center"},z={class:"px-2 text-sm"},M={key:0,class:"grid grid-cols-1 md:grid-cols-2 items-center px-2 gap-1"},R={class:"border px-3 py-1.5 flex justify-between items-center text-sm rounded-lg"},q={__name:"InviteFriend",props:{invitations:Array,invite_url:String,invite_bonus:String,invited_bonus:String,line_invite_text:String,twitter_invite_text:String},setup(s){const r=s,g=c.usePage().props.value.auth.user,d=y({status:!1}),v=()=>{d.value.status=!d.value.status},m=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),f=encodeURIComponent(r.line_invite_text),x=encodeURIComponent(r.twitter_invite_text),b=m?`twitter://post?text=${x}&url=${r.invite_url}`:`https://twitter.com/intent/tweet?text=${x}&url=${r.invite_url}`,w=m?`line://msg/text/${f}`:`https://social-plugins.line.me/lineit/share?url=${r.invite_url}`,p=()=>{navigator.clipboard.writeText(g.invite_code).then(()=>{_("招待コードをコピーしました。",{autoClose:2e3})})};return(U,t)=>(l(),n("section",null,[t[17]||(t[17]=e("header",null,[e("h2",{class:"text-lg font-bold"},"友達をイブガチャに招待")],-1)),t[18]||(t[18]=e("p",{class:"text-sm mt-3 leading-7"},[i(" お友達を招待してポイントゲット！"),e("br")],-1)),e("div",j,[t[2]||(t[2]=e("img",{src:"/images/invite_top.png",class:"h-24 w-auto md:hidden -mb-2 -mt-20 md:mt-0"},null,-1)),e("div",L,[e("div",P,[t[1]||(t[1]=e("p",{class:"text-sm"},"あなたの招待コード",-1)),e("div",$,[e("span",{class:"text-4xl font-bold font-[mplus2] px-2 leading-8 cursor-pointer",onClick:p},o(u(g).invite_code),1),(l(),n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 cursor-pointer",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",onClick:p},[...t[0]||(t[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"},null,-1)])]))])])]),t[3]||(t[3]=e("img",{src:"/images/invite_left.png",class:"hidden md:block h-28 -ml-2 w-auto"},null,-1))]),e("p",I,[t[4]||(t[4]=i(" 登録時にあなたの招待コードを入力するだけで…",-1)),t[5]||(t[5]=e("br",null,null,-1)),t[6]||(t[6]=i(" ✅ お互いに",-1)),e("strong",null,o(s.invite_bonus.toLocaleString())+" PT",1),t[7]||(t[7]=i("プレゼント！",-1)),t[8]||(t[8]=e("br",null,null,-1)),s.invitations.length>=30?(l(),n("span",A," (招待上限に達しました) ")):(l(),n("span",B,"(残り"+o(30-s.invitations.length)+"人)",1)),t[9]||(t[9]=e("br",null,null,-1)),t[10]||(t[10]=e("br",null,null,-1)),t[11]||(t[11]=i(" ✅ 紹介された方が累計5,000円を購入すると、お互いに",-1)),e("strong",null,o(s.invited_bonus.toLocaleString())+" PT",1),t[12]||(t[12]=i("プレゼント",-1)),t[13]||(t[13]=e("br",null,null,-1)),t[14]||(t[14]=e("span",{class:"ml-4"},"(上限なし)",-1))]),e("div",N,[e("a",{href:u(b),target:"_blank",class:"text-nowrap flex-1 flex gap-1 rounded-full border px-12 py-2 justify-center items-center font-semibold hover:bg-neutral-100"},[...t[15]||(t[15]=[e("img",{src:"/images/twitter-x.svg",class:"h-4"},null,-1),e("span",null,"(twitter)でシェアする",-1)])],8,T),e("a",{href:u(w),target:"_blank",class:"text-nowrap flex-1 flex gap-1 rounded-full border px-12 py-2 justify-center items-center font-semibold hover:bg-neutral-100"},[...t[16]||(t[16]=[e("img",{src:"/images/line.png",class:"h-5"},null,-1),e("span",null,"LINEで送る",-1)])],8,V)]),e("div",E,[e("p",F,[e("span",z,o(s.invitations.length?s.invitations.length+"人の友達紹介":""),1),e("button",{onClick:v,class:"px-3 py-1 rounded-full border text-sm"},"友達リスト表示")]),d.value.status?(l(),n("div",M,[(l(!0),n(h,null,C(s.invitations,a=>(l(),n("span",R,[i(o(a.name)+" ",1),e("span",{class:S(["text-xs",{"text-green-600":a.status==1,"text-gray-500":a.status==0}])},o(a.status==0?"未購入":"購入済"),3)]))),256))])):k("",!0)])]))}};export{q as default};
